import{r as $u,a as E,j as v,R as zi,g as Gu,L as Ku,b as Yu,c as Ho}from"./index-CR5x_8Y_.js";var Xu=$u();const nr=E.createContext({});function ae(e){const t=E.useRef(null);return t.current===null&&(t.current=e()),t.current}const sr=typeof window<"u",Je=sr?E.useLayoutEffect:E.useEffect,kn=E.createContext(null),Di=E.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Ju extends E.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,o=r instanceof HTMLElement&&r.offsetWidth||0,h=this.props.sizeRef.current;h.height=n.offsetHeight||0,h.width=n.offsetWidth||0,h.top=n.offsetTop,h.left=n.offsetLeft,h.right=o-h.width-h.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Qu({children:e,isPresent:t,anchorX:n}){const r=E.useId(),o=E.useRef(null),h=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=E.useContext(Di);return E.useInsertionEffect(()=>{const{width:u,height:d,top:p,left:m,right:_}=h.current;if(t||!o.current||!u||!d)return;const y=n==="left"?`left: ${m}`:`right: ${_}`;o.current.dataset.motionPopId=r;const x=document.createElement("style");return l&&(x.nonce=l),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${y}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.contains(x)&&document.head.removeChild(x)}},[t]),v.jsx(Ju,{isPresent:t,childRef:o,sizeRef:h,children:E.cloneElement(e,{ref:o})})}const td=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:h,mode:l,anchorX:u})=>{const d=ae(ed),p=E.useId();let m=!0,_=E.useMemo(()=>(m=!1,{id:p,initial:t,isPresent:n,custom:o,onExitComplete:y=>{d.set(y,!0);for(const x of d.values())if(!x)return;r&&r()},register:y=>(d.set(y,!1),()=>d.delete(y))}),[n,d,r]);return h&&m&&(_={..._}),E.useMemo(()=>{d.forEach((y,x)=>d.set(x,!1))},[n]),E.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),l==="popLayout"&&(e=v.jsx(Qu,{isPresent:n,anchorX:u,children:e})),v.jsx(kn.Provider,{value:_,children:e})};function ed(){return new Map}function Bl(e=!0){const t=E.useContext(kn);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=t,h=E.useId();E.useEffect(()=>{if(e)return o(h)},[e]);const l=E.useCallback(()=>e&&r&&r(h),[h,r,e]);return!n&&r?[!1,l]:[!0]}const dn=e=>e.key||"";function Uo(e){const t=[];return E.Children.forEach(e,n=>{E.isValidElement(n)&&t.push(n)}),t}const id=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:h="sync",propagate:l=!1,anchorX:u="left"})=>{const[d,p]=Bl(l),m=E.useMemo(()=>Uo(e),[e]),_=l&&!d?[]:m.map(dn),y=E.useRef(!0),x=E.useRef(m),b=ae(()=>new Map),[P,M]=E.useState(m),[C,k]=E.useState(m);Je(()=>{y.current=!1,x.current=m;for(let z=0;z<C.length;z++){const N=dn(C[z]);_.includes(N)?b.delete(N):b.get(N)!==!0&&b.set(N,!1)}},[C,_.length,_.join("-")]);const A=[];if(m!==P){let z=[...m];for(let N=0;N<C.length;N++){const B=C[N],I=dn(B);_.includes(I)||(z.splice(N,0,B),A.push(B))}return h==="wait"&&A.length&&(z=A),k(Uo(z)),M(m),null}const{forceRender:R}=E.useContext(nr);return v.jsx(v.Fragment,{children:C.map(z=>{const N=dn(z),B=l&&!d?!1:m===C||_.includes(N),I=()=>{if(b.has(N))b.set(N,!0);else return;let V=!0;b.forEach(G=>{G||(V=!1)}),V&&(R==null||R(),k(x.current),l&&(p==null||p()),r&&r())};return v.jsx(td,{isPresent:B,initial:!y.current||n?void 0:!1,custom:t,presenceAffectsLayout:o,mode:h,onExitComplete:B?void 0:I,anchorX:u,children:z},N)})})};function rr(e,t){e.indexOf(t)===-1&&e.push(t)}function or(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Qt=(e,t,n)=>n>t?t:n<e?e:n;let nd=()=>{},ar=()=>{};const le={},Dl=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Vl=e=>/^0[^.\s]+$/u.test(e);function lr(e){let t;return()=>(t===void 0&&(t=e()),t)}const Et=e=>e,sd=(e,t)=>n=>t(e(n)),Vi=(...e)=>e.reduce(sd),Ye=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class hr{constructor(){this.subscriptions=[]}add(t){return rr(this.subscriptions,t),()=>or(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let h=0;h<o;h++){const l=this.subscriptions[h];l&&l(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Yt=e=>e*1e3,Xt=e=>e/1e3;function cr(e,t){return t?e*(1e3/t):0}const Fl=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,rd=1e-7,od=12;function ad(e,t,n,r,o){let h,l,u=0;do l=t+(n-t)/2,h=Fl(l,r,o)-e,h>0?n=l:t=l;while(Math.abs(h)>rd&&++u<od);return l}function Fi(e,t,n,r){if(e===t&&n===r)return Et;const o=h=>ad(h,0,1,e,n);return h=>h===0||h===1?h:Fl(o(h),t,r)}const Zl=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Wl=e=>t=>1-e(1-t),Hl=Fi(.33,1.53,.69,.99),ur=Wl(Hl),Ul=Zl(ur),ql=e=>(e*=2)<1?.5*ur(e):.5*(2-Math.pow(2,-10*(e-1))),dr=e=>1-Math.sin(Math.acos(e)),$l=Wl(dr),Gl=Zl(dr),ld=Fi(.42,0,1,1),hd=Fi(0,0,.58,1),Kl=Fi(.42,0,.58,1),cd=e=>Array.isArray(e)&&typeof e[0]!="number",Yl=e=>Array.isArray(e)&&typeof e[0]=="number",ud={linear:Et,easeIn:ld,easeInOut:Kl,easeOut:hd,circIn:dr,circInOut:Gl,circOut:$l,backIn:ur,backInOut:Ul,backOut:Hl,anticipate:ql},dd=e=>typeof e=="string",qo=e=>{if(Yl(e)){ar(e.length===4);const[t,n,r,o]=e;return Fi(t,n,r,o)}else if(dd(e))return ud[e];return e},fn=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function fd(e,t){let n=new Set,r=new Set,o=!1,h=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(m){l.has(m)&&(p.schedule(m),e()),m(u)}const p={schedule:(m,_=!1,y=!1)=>{const b=y&&o?n:r;return _&&l.add(m),b.has(m)||b.add(m),m},cancel:m=>{r.delete(m),l.delete(m)},process:m=>{if(u=m,o){h=!0;return}o=!0,[n,r]=[r,n],n.forEach(d),n.clear(),o=!1,h&&(h=!1,p.process(m))}};return p}const md=40;function Xl(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},h=()=>n=!0,l=fn.reduce((A,R)=>(A[R]=fd(h),A),{}),{setup:u,read:d,resolveKeyframes:p,preUpdate:m,update:_,preRender:y,render:x,postRender:b}=l,P=()=>{const A=le.useManualTiming?o.timestamp:performance.now();n=!1,le.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(A-o.timestamp,md),1)),o.timestamp=A,o.isProcessing=!0,u.process(o),d.process(o),p.process(o),m.process(o),_.process(o),y.process(o),x.process(o),b.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(P))},M=()=>{n=!0,r=!0,o.isProcessing||e(P)};return{schedule:fn.reduce((A,R)=>{const z=l[R];return A[R]=(N,B=!1,I=!1)=>(n||M(),z.schedule(N,B,I)),A},{}),cancel:A=>{for(let R=0;R<fn.length;R++)l[fn[R]].cancel(A)},state:o,steps:l}}const{schedule:it,cancel:Wt,state:yt,steps:ms}=Xl(typeof requestAnimationFrame<"u"?requestAnimationFrame:Et,!0);let yn;function pd(){yn=void 0}const At={now:()=>(yn===void 0&&At.set(yt.isProcessing||le.useManualTiming?yt.timestamp:performance.now()),yn),set:e=>{yn=e,queueMicrotask(pd)}},Jl=e=>t=>typeof t=="string"&&t.startsWith(e),fr=Jl("--"),gd=Jl("var(--"),mr=e=>gd(e)?_d.test(e.split("/*")[0].trim()):!1,_d=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Qe={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Oi={...Qe,transform:e=>Qt(0,1,e)},mn={...Qe,default:1},Pi=e=>Math.round(e*1e5)/1e5,pr=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function vd(e){return e==null}const yd=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,gr=(e,t)=>n=>!!(typeof n=="string"&&yd.test(n)&&n.startsWith(e)||t&&!vd(n)&&Object.prototype.hasOwnProperty.call(n,t)),Ql=(e,t,n)=>r=>{if(typeof r!="string")return r;const[o,h,l,u]=r.match(pr);return{[e]:parseFloat(o),[t]:parseFloat(h),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},xd=e=>Qt(0,255,e),ps={...Qe,transform:e=>Math.round(xd(e))},Ee={test:gr("rgb","red"),parse:Ql("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+ps.transform(e)+", "+ps.transform(t)+", "+ps.transform(n)+", "+Pi(Oi.transform(r))+")"};function wd(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const zs={test:gr("#"),parse:wd,transform:Ee.transform},Zi=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ge=Zi("deg"),Jt=Zi("%"),$=Zi("px"),bd=Zi("vh"),Pd=Zi("vw"),$o={...Jt,parse:e=>Jt.parse(e)/100,transform:e=>Jt.transform(e*100)},Ue={test:gr("hsl","hue"),parse:Ql("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Jt.transform(Pi(t))+", "+Jt.transform(Pi(n))+", "+Pi(Oi.transform(r))+")"},Tt={test:e=>Ee.test(e)||zs.test(e)||Ue.test(e),parse:e=>Ee.test(e)?Ee.parse(e):Ue.test(e)?Ue.parse(e):zs.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ee.transform(e):Ue.transform(e)},Td=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Ld(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(pr))==null?void 0:t.length)||0)+(((n=e.match(Td))==null?void 0:n.length)||0)>0}const th="number",eh="color",Md="var",Cd="var(",Go="${}",Sd=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ri(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let h=0;const u=t.replace(Sd,d=>(Tt.test(d)?(r.color.push(h),o.push(eh),n.push(Tt.parse(d))):d.startsWith(Cd)?(r.var.push(h),o.push(Md),n.push(d)):(r.number.push(h),o.push(th),n.push(parseFloat(d))),++h,Go)).split(Go);return{values:n,split:u,indexes:r,types:o}}function ih(e){return Ri(e).values}function nh(e){const{split:t,types:n}=Ri(e),r=t.length;return o=>{let h="";for(let l=0;l<r;l++)if(h+=t[l],o[l]!==void 0){const u=n[l];u===th?h+=Pi(o[l]):u===eh?h+=Tt.transform(o[l]):h+=o[l]}return h}}const Ad=e=>typeof e=="number"?0:e;function Ed(e){const t=ih(e);return nh(e)(t.map(Ad))}const ve={test:Ld,parse:ih,createTransformer:nh,getAnimatableNone:Ed};function gs(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function kd({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,h=0,l=0;if(!t)o=h=l=n;else{const u=n<.5?n*(1+t):n+t-n*t,d=2*n-u;o=gs(d,u,e+1/3),h=gs(d,u,e),l=gs(d,u,e-1/3)}return{red:Math.round(o*255),green:Math.round(h*255),blue:Math.round(l*255),alpha:r}}function Ln(e,t){return n=>n>0?t:e}const ct=(e,t,n)=>e+(t-e)*n,_s=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},zd=[zs,Ee,Ue],Od=e=>zd.find(t=>t.test(e));function Ko(e){const t=Od(e);if(!t)return!1;let n=t.parse(e);return t===Ue&&(n=kd(n)),n}const Yo=(e,t)=>{const n=Ko(e),r=Ko(t);if(!n||!r)return Ln(e,t);const o={...n};return h=>(o.red=_s(n.red,r.red,h),o.green=_s(n.green,r.green,h),o.blue=_s(n.blue,r.blue,h),o.alpha=ct(n.alpha,r.alpha,h),Ee.transform(o))},Os=new Set(["none","hidden"]);function Rd(e,t){return Os.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Nd(e,t){return n=>ct(e,t,n)}function _r(e){return typeof e=="number"?Nd:typeof e=="string"?mr(e)?Ln:Tt.test(e)?Yo:Bd:Array.isArray(e)?sh:typeof e=="object"?Tt.test(e)?Yo:jd:Ln}function sh(e,t){const n=[...e],r=n.length,o=e.map((h,l)=>_r(h)(h,t[l]));return h=>{for(let l=0;l<r;l++)n[l]=o[l](h);return n}}function jd(e,t){const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=_r(e[o])(e[o],t[o]));return o=>{for(const h in r)n[h]=r[h](o);return n}}function Id(e,t){const n=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const h=t.types[o],l=e.indexes[h][r[h]],u=e.values[l]??0;n[o]=u,r[h]++}return n}const Bd=(e,t)=>{const n=ve.createTransformer(t),r=Ri(e),o=Ri(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Os.has(e)&&!o.values.length||Os.has(t)&&!r.values.length?Rd(e,t):Vi(sh(Id(r,o),o.values),n):Ln(e,t)};function rh(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ct(e,t,n):_r(e)(e,t)}const Dd=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>it.update(t,n),stop:()=>Wt(t),now:()=>yt.isProcessing?yt.timestamp:At.now()}},oh=(e,t,n=10)=>{let r="";const o=Math.max(Math.round(t/n),2);for(let h=0;h<o;h++)r+=e(h/(o-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Mn=2e4;function vr(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Mn;)t+=n,r=e.next(t);return t>=Mn?1/0:t}function Vd(e,t=100,n){const r=n({...e,keyframes:[0,t]}),o=Math.min(vr(r),Mn);return{type:"keyframes",ease:h=>r.next(o*h).value/t,duration:Xt(o)}}const Fd=5;function ah(e,t,n){const r=Math.max(t-Fd,0);return cr(n-e(r),t-r)}const ut={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Xo=.001;function Zd({duration:e=ut.duration,bounce:t=ut.bounce,velocity:n=ut.velocity,mass:r=ut.mass}){let o,h,l=1-t;l=Qt(ut.minDamping,ut.maxDamping,l),e=Qt(ut.minDuration,ut.maxDuration,Xt(e)),l<1?(o=p=>{const m=p*l,_=m*e,y=m-n,x=Rs(p,l),b=Math.exp(-_);return Xo-y/x*b},h=p=>{const _=p*l*e,y=_*n+n,x=Math.pow(l,2)*Math.pow(p,2)*e,b=Math.exp(-_),P=Rs(Math.pow(p,2),l);return(-o(p)+Xo>0?-1:1)*((y-x)*b)/P}):(o=p=>{const m=Math.exp(-p*e),_=(p-n)*e+1;return-.001+m*_},h=p=>{const m=Math.exp(-p*e),_=(n-p)*(e*e);return m*_});const u=5/e,d=Hd(o,h,u);if(e=Yt(e),isNaN(d))return{stiffness:ut.stiffness,damping:ut.damping,duration:e};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:e}}}const Wd=12;function Hd(e,t,n){let r=n;for(let o=1;o<Wd;o++)r=r-e(r)/t(r);return r}function Rs(e,t){return e*Math.sqrt(1-t*t)}const Ud=["duration","bounce"],qd=["stiffness","damping","mass"];function Jo(e,t){return t.some(n=>e[n]!==void 0)}function $d(e){let t={velocity:ut.velocity,stiffness:ut.stiffness,damping:ut.damping,mass:ut.mass,isResolvedFromDuration:!1,...e};if(!Jo(e,qd)&&Jo(e,Ud))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,h=2*Qt(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:ut.mass,stiffness:o,damping:h}}else{const n=Zd(e);t={...t,...n,mass:ut.mass},t.isResolvedFromDuration=!0}return t}function Cn(e=ut.visualDuration,t=ut.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=n;const h=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:h},{stiffness:d,damping:p,mass:m,duration:_,velocity:y,isResolvedFromDuration:x}=$d({...n,velocity:-Xt(n.velocity||0)}),b=y||0,P=p/(2*Math.sqrt(d*m)),M=l-h,C=Xt(Math.sqrt(d/m)),k=Math.abs(M)<5;r||(r=k?ut.restSpeed.granular:ut.restSpeed.default),o||(o=k?ut.restDelta.granular:ut.restDelta.default);let A;if(P<1){const z=Rs(C,P);A=N=>{const B=Math.exp(-P*C*N);return l-B*((b+P*C*M)/z*Math.sin(z*N)+M*Math.cos(z*N))}}else if(P===1)A=z=>l-Math.exp(-C*z)*(M+(b+C*M)*z);else{const z=C*Math.sqrt(P*P-1);A=N=>{const B=Math.exp(-P*C*N),I=Math.min(z*N,300);return l-B*((b+P*C*M)*Math.sinh(I)+z*M*Math.cosh(I))/z}}const R={calculatedDuration:x&&_||null,next:z=>{const N=A(z);if(x)u.done=z>=_;else{let B=z===0?b:0;P<1&&(B=z===0?Yt(b):ah(A,z,N));const I=Math.abs(B)<=r,V=Math.abs(l-N)<=o;u.done=I&&V}return u.value=u.done?l:N,u},toString:()=>{const z=Math.min(vr(R),Mn),N=oh(B=>R.next(z*B).value,z,30);return z+"ms "+N},toTransition:()=>{}};return R}Cn.applyToOptions=e=>{const t=Vd(e,100,Cn);return e.ease=t.ease,e.duration=Yt(t.duration),e.type="keyframes",e};function Ns({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:h=500,modifyTarget:l,min:u,max:d,restDelta:p=.5,restSpeed:m}){const _=e[0],y={done:!1,value:_},x=I=>u!==void 0&&I<u||d!==void 0&&I>d,b=I=>u===void 0?d:d===void 0||Math.abs(u-I)<Math.abs(d-I)?u:d;let P=n*t;const M=_+P,C=l===void 0?M:l(M);C!==M&&(P=C-_);const k=I=>-P*Math.exp(-I/r),A=I=>C+k(I),R=I=>{const V=k(I),G=A(I);y.done=Math.abs(V)<=p,y.value=y.done?C:G};let z,N;const B=I=>{x(y.value)&&(z=I,N=Cn({keyframes:[y.value,b(y.value)],velocity:ah(A,I,y.value),damping:o,stiffness:h,restDelta:p,restSpeed:m}))};return B(0),{calculatedDuration:null,next:I=>{let V=!1;return!N&&z===void 0&&(V=!0,R(I),B(I)),z!==void 0&&I>=z?N.next(I-z):(!V&&R(I),y)}}}function Gd(e,t,n){const r=[],o=n||le.mix||rh,h=e.length-1;for(let l=0;l<h;l++){let u=o(e[l],e[l+1]);if(t){const d=Array.isArray(t)?t[l]||Et:t;u=Vi(d,u)}r.push(u)}return r}function yr(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const h=e.length;if(ar(h===t.length),h===1)return()=>t[0];if(h===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[h-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=Gd(t,r,o),d=u.length,p=m=>{if(l&&m<e[0])return t[0];let _=0;if(d>1)for(;_<e.length-2&&!(m<e[_+1]);_++);const y=Ye(e[_],e[_+1],m);return u[_](y)};return n?m=>p(Qt(e[0],e[h-1],m)):p}function Kd(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=Ye(0,t,r);e.push(ct(n,1,o))}}function lh(e){const t=[0];return Kd(t,e.length-1),t}function Yd(e,t){return e.map(n=>n*t)}function Xd(e,t){return e.map(()=>t||Kl).splice(0,e.length-1)}function Ti({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=cd(r)?r.map(qo):qo(r),h={done:!1,value:t[0]},l=Yd(n&&n.length===t.length?n:lh(t),e),u=yr(l,t,{ease:Array.isArray(o)?o:Xd(t,o)});return{calculatedDuration:e,next:d=>(h.value=u(d),h.done=d>=e,h)}}const Jd=e=>e!==null;function xr(e,{repeat:t,repeatType:n="loop"},r,o=1){const h=e.filter(Jd),u=o<0||t&&n!=="loop"&&t%2===1?0:h.length-1;return!u||r===void 0?h[u]:r}const Qd={decay:Ns,inertia:Ns,tween:Ti,keyframes:Ti,spring:Cn};function hh(e){typeof e.type=="string"&&(e.type=Qd[e.type])}class wr{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const tf=e=>e/100;class zn extends wr{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{if(n){const{motionValue:o}=this.options;o&&o.updatedAt!==At.now()&&this.tick(At.now())}if(this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:r}=this.options;r&&r()},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;hh(t);const{type:n=Ti,repeat:r=0,repeatDelay:o=0,repeatType:h,velocity:l=0}=t;let{keyframes:u}=t;const d=n||Ti;d!==Ti&&typeof u[0]!="number"&&(this.mixKeyframes=Vi(tf,rh(u[0],u[1])),u=[0,100]);const p=d({...t,keyframes:u});h==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...u].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=vr(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=p}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:o,mixKeyframes:h,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:m,repeat:_,repeatType:y,repeatDelay:x,type:b,onUpdate:P,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const C=this.currentTime-p*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?C<0:C>o;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let A=this.currentTime,R=r;if(_){const I=Math.min(this.currentTime,o)/u;let V=Math.floor(I),G=I%1;!G&&I>=1&&(G=1),G===1&&V--,V=Math.min(V,_+1),!!(V%2)&&(y==="reverse"?(G=1-G,x&&(G-=x/u)):y==="mirror"&&(R=l)),A=Qt(0,1,G)*u}const z=k?{done:!1,value:m[0]}:R.next(A);h&&(z.value=h(z.value));let{done:N}=z;!k&&d!==null&&(N=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return B&&b!==Ns&&(z.value=xr(m,this.options,M,this.speed)),P&&P(z.value),B&&this.finish(),z}then(t,n){return this.finished.then(t,n)}get duration(){return Xt(this.calculatedDuration)}get time(){return Xt(this.currentTime)}set time(t){var n;t=Yt(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(At.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Xt(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Dd,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(h=>this.tick(h))),n&&n();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=r??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(At.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function ef(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ke=e=>e*180/Math.PI,js=e=>{const t=ke(Math.atan2(e[1],e[0]));return Is(t)},nf={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:js,rotateZ:js,skewX:e=>ke(Math.atan(e[1])),skewY:e=>ke(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Is=e=>(e=e%360,e<0&&(e+=360),e),Qo=js,ta=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),ea=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),sf={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ta,scaleY:ea,scale:e=>(ta(e)+ea(e))/2,rotateX:e=>Is(ke(Math.atan2(e[6],e[5]))),rotateY:e=>Is(ke(Math.atan2(-e[2],e[0]))),rotateZ:Qo,rotate:Qo,skewX:e=>ke(Math.atan(e[4])),skewY:e=>ke(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function ia(e){return e.includes("scale")?1:0}function Bs(e,t){if(!e||e==="none")return ia(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(n)r=sf,o=n;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=nf,o=u}if(!o)return ia(t);const h=r[t],l=o[1].split(",").map(of);return typeof h=="function"?h(l):l[h]}const rf=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Bs(n,t)};function of(e){return parseFloat(e.trim())}const ti=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ei=new Set(ti),na=e=>e===Qe||e===$,af=new Set(["x","y","z"]),lf=ti.filter(e=>!af.has(e));function hf(e){const t=[];return lf.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const ze={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Bs(t,"x"),y:(e,{transform:t})=>Bs(t,"y")};ze.translateX=ze.x;ze.translateY=ze.y;const Oe=new Set;let Ds=!1,Vs=!1,Fs=!1;function ch(){if(Vs){const e=Array.from(Oe).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const o=hf(r);o.length&&(n.set(r,o),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([h,l])=>{var u;(u=r.getValue(h))==null||u.set(l)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Vs=!1,Ds=!1,Oe.forEach(e=>e.complete(Fs)),Oe.clear()}function uh(){Oe.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Vs=!0)})}function cf(){Fs=!0,uh(),ch(),Fs=!1}class br{constructor(t,n,r,o,h,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=o,this.element=h,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Oe.add(this),Ds||(Ds=!0,it.read(uh),it.resolveKeyframes(ch))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:o}=this;if(t[0]===null){const h=o==null?void 0:o.get(),l=t[t.length-1];if(h!==void 0)t[0]=h;else if(r&&n){const u=r.readValue(n,l);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=l),o&&h===void 0&&o.set(t[0])}ef(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Oe.delete(this)}cancel(){this.state==="scheduled"&&(Oe.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const uf=e=>e.startsWith("--");function df(e,t,n){uf(t)?e.style.setProperty(t,n):e.style[t]=n}const dh=lr(()=>window.ScrollTimeline!==void 0),ff={};function mf(e,t){const n=lr(e);return()=>ff[t]??n()}const fh=mf(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wi=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,sa={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wi([0,.65,.55,1]),circOut:wi([.55,0,1,.45]),backIn:wi([.31,.01,.66,-.59]),backOut:wi([.33,1.53,.69,.99])};function mh(e,t){if(e)return typeof e=="function"?fh()?oh(e,t):"ease-out":Yl(e)?wi(e):Array.isArray(e)?e.map(n=>mh(n,t)||sa.easeOut):sa[e]}function pf(e,t,n,{delay:r=0,duration:o=300,repeat:h=0,repeatType:l="loop",ease:u="easeOut",times:d}={},p=void 0){const m={[t]:n};d&&(m.offset=d);const _=mh(u,o);Array.isArray(_)&&(m.easing=_);const y={delay:r,duration:o,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:h+1,direction:l==="reverse"?"alternate":"normal"};return p&&(y.pseudoElement=p),e.animate(m,y)}function ph(e){return typeof e=="function"&&"applyToOptions"in e}function gf({type:e,...t}){return ph(e)&&fh()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class _f extends wr{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:o,pseudoElement:h,allowFlatten:l=!1,finalKeyframe:u,onComplete:d}=t;this.isPseudoElement=!!h,this.allowFlatten=l,this.options=t,ar(typeof t.type!="string");const p=gf(t);this.animation=pf(n,r,o,p,h),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!h){const m=xr(o,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):df(n,r,m),this.animation.cancel()}d==null||d(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Xt(Number(t))}get time(){return Xt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Yt(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&dh()?(this.animation.timeline=t,Et):n(this)}}const gh={anticipate:ql,backInOut:Ul,circInOut:Gl};function vf(e){return e in gh}function yf(e){typeof e.ease=="string"&&vf(e.ease)&&(e.ease=gh[e.ease])}const ra=10;class xf extends _f{constructor(t){yf(t),hh(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:o,element:h,...l}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const u=new zn({...l,autoplay:!1}),d=Yt(this.finishedTime??this.time);n.setWithVelocity(u.sample(d-ra).value,u.sample(d).value,ra),u.stop()}}const oa=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ve.test(e)||e==="0")&&!e.startsWith("url("));function wf(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function bf(e,t,n,r){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const h=e[e.length-1],l=oa(o,t),u=oa(h,t);return!l||!u?!1:wf(e)||(n==="spring"||ph(n))&&r}const Pf=new Set(["opacity","clipPath","filter","transform"]),Tf=lr(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Lf(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:o,damping:h,type:l}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=t.owner.getProps();return Tf()&&n&&Pf.has(n)&&(n!=="transform"||!d)&&!u&&!r&&o!=="mirror"&&h!==0&&l!=="inertia"}const Mf=40;class Cf extends wr{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:h=0,repeatType:l="loop",keyframes:u,name:d,motionValue:p,element:m,..._}){var b;super(),this.stop=()=>{var P,M;this._animation&&(this._animation.stop(),(P=this.stopTimeline)==null||P.call(this)),(M=this.keyframeResolver)==null||M.cancel()},this.createdAt=At.now();const y={autoplay:t,delay:n,type:r,repeat:o,repeatDelay:h,repeatType:l,name:d,motionValue:p,element:m,..._},x=(m==null?void 0:m.KeyframeResolver)||br;this.keyframeResolver=new x(u,(P,M,C)=>this.onKeyframesResolved(P,M,y,!C),d,p,m),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(t,n,r,o){this.keyframeResolver=void 0;const{name:h,type:l,velocity:u,delay:d,isHandoff:p,onUpdate:m}=r;this.resolvedAt=At.now(),bf(t,h,l,u)||((le.instantAnimations||!d)&&(m==null||m(xr(t,r,n))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const y={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>Mf?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},x=!p&&Lf(y)?new xf({...y,element:y.motionValue.owner.current}):new zn(y);x.finished.then(()=>this.notifyFinished()).catch(Et),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),cf()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Sf=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Af(e){const t=Sf.exec(e);if(!t)return[,];const[,n,r,o]=t;return[`--${n??r}`,o]}function _h(e,t,n=1){const[r,o]=Af(e);if(!r)return;const h=window.getComputedStyle(t).getPropertyValue(r);if(h){const l=h.trim();return Dl(l)?parseFloat(l):l}return mr(o)?_h(o,t,n+1):o}function Pr(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const vh=new Set(["width","height","top","left","right","bottom",...ti]),Ef={test:e=>e==="auto",parse:e=>e},yh=e=>t=>t.test(e),xh=[Qe,$,Jt,ge,Pd,bd,Ef],aa=e=>xh.find(yh(e));function kf(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Vl(e):!0}const zf=new Set(["brightness","contrast","saturate","opacity"]);function Of(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(pr)||[];if(!r)return e;const o=n.replace(r,"");let h=zf.has(t)?1:0;return r!==n&&(h*=100),t+"("+h+o+")"}const Rf=/\b([a-z-]*)\(.*?\)/gu,Zs={...ve,getAnimatableNone:e=>{const t=e.match(Rf);return t?t.map(Of).join(" "):e}},la={...Qe,transform:Math.round},Nf={rotate:ge,rotateX:ge,rotateY:ge,rotateZ:ge,scale:mn,scaleX:mn,scaleY:mn,scaleZ:mn,skew:ge,skewX:ge,skewY:ge,distance:$,translateX:$,translateY:$,translateZ:$,x:$,y:$,z:$,perspective:$,transformPerspective:$,opacity:Oi,originX:$o,originY:$o,originZ:$},Tr={borderWidth:$,borderTopWidth:$,borderRightWidth:$,borderBottomWidth:$,borderLeftWidth:$,borderRadius:$,radius:$,borderTopLeftRadius:$,borderTopRightRadius:$,borderBottomRightRadius:$,borderBottomLeftRadius:$,width:$,maxWidth:$,height:$,maxHeight:$,top:$,right:$,bottom:$,left:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,backgroundPositionX:$,backgroundPositionY:$,...Nf,zIndex:la,fillOpacity:Oi,strokeOpacity:Oi,numOctaves:la},jf={...Tr,color:Tt,backgroundColor:Tt,outlineColor:Tt,fill:Tt,stroke:Tt,borderColor:Tt,borderTopColor:Tt,borderRightColor:Tt,borderBottomColor:Tt,borderLeftColor:Tt,filter:Zs,WebkitFilter:Zs},wh=e=>jf[e];function bh(e,t){let n=wh(e);return n!==Zs&&(n=ve),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const If=new Set(["auto","none","0"]);function Bf(e,t,n){let r=0,o;for(;r<e.length&&!o;){const h=e[r];typeof h=="string"&&!If.has(h)&&Ri(h).values.length&&(o=e[r]),r++}if(o&&n)for(const h of t)e[h]=bh(n,o)}class Df extends br{constructor(t,n,r,o,h){super(t,n,r,o,h,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let p=t[d];if(typeof p=="string"&&(p=p.trim(),mr(p))){const m=_h(p,n.current);m!==void 0&&(t[d]=m),d===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!vh.has(r)||t.length!==2)return;const[o,h]=t,l=aa(o),u=aa(h);if(l!==u)if(na(l)&&na(u))for(let d=0;d<t.length;d++){const p=t[d];typeof p=="string"&&(t[d]=parseFloat(p))}else ze[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||kf(t[o]))&&r.push(o);r.length&&Bf(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ze[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var u;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const h=r.length-1,l=r[h];r[h]=ze[n](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([d,p])=>{t.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function Ph(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const o=document.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const ha=30,Vf=e=>!isNaN(parseFloat(e)),Li={current:void 0};class Ff{constructor(t,n={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{var l,u;const h=At.now();if(this.updatedAt!==h&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty();o&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=At.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Vf(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new hr);const r=this.events[t].add(n);return t==="change"?()=>{r(),it.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Li.current&&Li.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=At.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ha)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ha);return cr(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ft(e,t){return new Ff(e,t)}const Th=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:Lr}=Xl(queueMicrotask,!1),Vt={x:!1,y:!1};function Lh(){return Vt.x||Vt.y}function Zf(e){return e==="x"||e==="y"?Vt[e]?null:(Vt[e]=!0,()=>{Vt[e]=!1}):Vt.x||Vt.y?null:(Vt.x=Vt.y=!0,()=>{Vt.x=Vt.y=!1})}function Mh(e,t){const n=Ph(e),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[n,o,()=>r.abort()]}function ca(e){return!(e.pointerType==="touch"||Lh())}function Wf(e,t,n={}){const[r,o,h]=Mh(e,n),l=u=>{if(!ca(u))return;const{target:d}=u,p=t(d,u);if(typeof p!="function"||!d)return;const m=_=>{ca(_)&&(p(_),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,o)};return r.forEach(u=>{u.addEventListener("pointerenter",l,o)}),h}const Ch=(e,t)=>t?e===t?!0:Ch(e,t.parentElement):!1,Mr=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Hf=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Uf(e){return Hf.has(e.tagName)||e.tabIndex!==-1}const xn=new WeakSet;function ua(e){return t=>{t.key==="Enter"&&e(t)}}function vs(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const qf=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=ua(()=>{if(xn.has(n))return;vs(n,"down");const o=ua(()=>{vs(n,"up")}),h=()=>vs(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",h,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function da(e){return Mr(e)&&!Lh()}function $f(e,t,n={}){const[r,o,h]=Mh(e,n),l=u=>{const d=u.currentTarget;if(!da(u))return;xn.add(d);const p=t(d,u),m=(x,b)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",y),xn.has(d)&&xn.delete(d),da(x)&&typeof p=="function"&&p(x,{success:b})},_=x=>{m(x,d===window||d===document||n.useGlobalTarget||Ch(d,x.target))},y=x=>{m(x,!1)};window.addEventListener("pointerup",_,o),window.addEventListener("pointercancel",y,o)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,o),u instanceof HTMLElement&&(u.addEventListener("focus",p=>qf(p,o)),!Uf(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),h}function Sh(e,t){let n;const r=()=>{const{currentTime:o}=t,l=(o===null?0:o.value)/100;n!==l&&e(l),n=l};return it.preUpdate(r,!0),()=>Wt(r)}function Gf(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],o=e[1+n],h=e[2+n],l=e[3+n],u=yr(o,h,l);return t?u(r):u}const Kf=[...xh,Tt,ve],Yf=e=>Kf.find(yh(e)),Ah=E.createContext({strict:!1}),fa={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xe={};for(const e in fa)Xe[e]={isEnabled:t=>fa[e].some(n=>!!t[n])};function Xf(e){for(const t in e)Xe[t]={...Xe[t],...e[t]}}const Jf=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sn(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Jf.has(e)}let Eh=e=>!Sn(e);function Qf(e){e&&(Eh=t=>t.startsWith("on")?!Sn(t):e(t))}try{Qf(require("@emotion/is-prop-valid").default)}catch{}function tm(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(Eh(o)||n===!0&&Sn(o)||!t&&!Sn(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function em(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,o)=>o==="create"?e:(t.has(o)||t.set(o,e(o)),t.get(o))})}const On=E.createContext({});function Rn(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ni(e){return typeof e=="string"||Array.isArray(e)}const Cr=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Sr=["initial",...Cr];function Nn(e){return Rn(e.animate)||Sr.some(t=>Ni(e[t]))}function kh(e){return!!(Nn(e)||e.variants)}function im(e,t){if(Nn(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ni(n)?n:void 0,animate:Ni(r)?r:void 0}}return e.inherit!==!1?t:{}}function nm(e){const{initial:t,animate:n}=im(e,E.useContext(On));return E.useMemo(()=>({initial:t,animate:n}),[ma(t),ma(n)])}function ma(e){return Array.isArray(e)?e.join(" "):e}const sm=Symbol.for("motionComponentSymbol");function qe(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function rm(e,t,n){return E.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):qe(n)&&(n.current=r))},[t])}const Ar=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),om="framerAppearId",zh="data-"+Ar(om),Oh=E.createContext({});function am(e,t,n,r,o){var P,M;const{visualElement:h}=E.useContext(On),l=E.useContext(Ah),u=E.useContext(kn),d=E.useContext(Di).reducedMotion,p=E.useRef(null);r=r||l.renderer,!p.current&&r&&(p.current=r(e,{visualState:t,parent:h,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const m=p.current,_=E.useContext(Oh);m&&!m.projection&&o&&(m.type==="html"||m.type==="svg")&&lm(p.current,n,o,_);const y=E.useRef(!1);E.useInsertionEffect(()=>{m&&y.current&&m.update(n,u)});const x=n[zh],b=E.useRef(!!x&&!((P=window.MotionHandoffIsComplete)!=null&&P.call(window,x))&&((M=window.MotionHasOptimisedAnimation)==null?void 0:M.call(window,x)));return Je(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),Lr.render(m.render),b.current&&m.animationState&&m.animationState.animateChanges())}),E.useEffect(()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,x)}),b.current=!1))}),m}function lm(e,t,n,r){const{layoutId:o,layout:h,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:p,layoutCrossfade:m}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Rh(e.parent)),e.projection.setOptions({layoutId:o,layout:h,alwaysMeasureLayout:!!l||u&&qe(u),visualElement:e,animationType:typeof h=="string"?h:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:d,layoutRoot:p})}function Rh(e){if(e)return e.options.allowProjection!==!1?e.projection:Rh(e.parent)}function hm({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&Xf(e);function h(u,d){let p;const m={...E.useContext(Di),...u,layoutId:cm(u)},{isStatic:_}=m,y=nm(u),x=r(u,_);if(!_&&sr){um();const b=dm(m);p=b.MeasureLayout,y.visualElement=am(o,x,m,t,b.ProjectionNode)}return v.jsxs(On.Provider,{value:y,children:[p&&y.visualElement?v.jsx(p,{visualElement:y.visualElement,...m}):null,n(o,u,rm(x,y.visualElement,d),x,_,y.visualElement)]})}h.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const l=E.forwardRef(h);return l[sm]=o,l}function cm({layoutId:e}){const t=E.useContext(nr).id;return t&&e!==void 0?t+"-"+e:e}function um(e,t){E.useContext(Ah).strict}function dm(e){const{drag:t,layout:n}=Xe;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const ji={};function fm(e){for(const t in e)ji[t]=e[t],fr(t)&&(ji[t].isCSSVariable=!0)}function Nh(e,{layout:t,layoutId:n}){return ei.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ji[e]||e==="opacity")}const xt=e=>!!(e&&e.getVelocity),mm={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pm=ti.length;function gm(e,t,n){let r="",o=!0;for(let h=0;h<pm;h++){const l=ti[h],u=e[l];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(l.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||n){const p=Th(u,Tr[l]);if(!d){o=!1;const m=mm[l]||l;r+=`${m}(${p}) `}n&&(t[l]=p)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}function Er(e,t,n){const{style:r,vars:o,transformOrigin:h}=e;let l=!1,u=!1;for(const d in t){const p=t[d];if(ei.has(d)){l=!0;continue}else if(fr(d)){o[d]=p;continue}else{const m=Th(p,Tr[d]);d.startsWith("origin")?(u=!0,h[d]=m):r[d]=m}}if(t.transform||(l||n?r.transform=gm(t,e.transform,n):r.transform&&(r.transform="none")),u){const{originX:d="50%",originY:p="50%",originZ:m=0}=h;r.transformOrigin=`${d} ${p} ${m}`}}const kr=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function jh(e,t,n){for(const r in t)!xt(t[r])&&!Nh(r,n)&&(e[r]=t[r])}function _m({transformTemplate:e},t){return E.useMemo(()=>{const n=kr();return Er(n,t,e),Object.assign({},n.vars,n.style)},[t])}function vm(e,t){const n=e.style||{},r={};return jh(r,n,e),Object.assign(r,_m(e,t)),r}function ym(e,t){const n={},r=vm(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const xm=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zr(e){return typeof e!="string"||e.includes("-")?!1:!!(xm.indexOf(e)>-1||/[A-Z]/u.test(e))}const wm={offset:"stroke-dashoffset",array:"stroke-dasharray"},bm={offset:"strokeDashoffset",array:"strokeDasharray"};function Pm(e,t,n=1,r=0,o=!0){e.pathLength=1;const h=o?wm:bm;e[h.offset]=$.transform(-r);const l=$.transform(t),u=$.transform(n);e[h.array]=`${l} ${u}`}function Ih(e,{attrX:t,attrY:n,attrScale:r,pathLength:o,pathSpacing:h=1,pathOffset:l=0,...u},d,p,m){if(Er(e,u,p),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:y}=e;_.transform&&(y.transform=_.transform,delete _.transform),(y.transform||_.transformOrigin)&&(y.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),y.transform&&(y.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete _.transformBox),t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),o!==void 0&&Pm(_,o,h,l,!1)}const Bh=()=>({...kr(),attrs:{}}),Dh=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Tm(e,t,n,r){const o=E.useMemo(()=>{const h=Bh();return Ih(h,t,Dh(r),e.transformTemplate,e.style),{...h.attrs,style:{...h.style}}},[t]);if(e.style){const h={};jh(h,e.style,e),o.style={...h,...o.style}}return o}function Lm(e=!1){return(n,r,o,{latestValues:h},l)=>{const d=(zr(n)?Tm:ym)(r,h,l,n),p=tm(r,typeof n=="string",e),m=n!==E.Fragment?{...p,...d,ref:o}:{},{children:_}=r,y=E.useMemo(()=>xt(_)?_.get():_,[_]);return E.createElement(n,{...m,children:y})}}function pa(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Or(e,t,n,r){if(typeof t=="function"){const[o,h]=pa(r);t=t(n!==void 0?n:e.custom,o,h)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,h]=pa(r);t=t(n!==void 0?n:e.custom,o,h)}return t}function wn(e){return xt(e)?e.get():e}function Mm({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,o){return{latestValues:Cm(n,r,o,e),renderState:t()}}const Vh=e=>(t,n)=>{const r=E.useContext(On),o=E.useContext(kn),h=()=>Mm(e,t,r,o);return n?h():ae(h)};function Cm(e,t,n,r){const o={},h=r(e,{});for(const y in h)o[y]=wn(h[y]);let{initial:l,animate:u}=e;const d=Nn(e),p=kh(e);t&&p&&!d&&e.inherit!==!1&&(l===void 0&&(l=t.initial),u===void 0&&(u=t.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const _=m?u:l;if(_&&typeof _!="boolean"&&!Rn(_)){const y=Array.isArray(_)?_:[_];for(let x=0;x<y.length;x++){const b=Or(e,y[x]);if(b){const{transitionEnd:P,transition:M,...C}=b;for(const k in C){let A=C[k];if(Array.isArray(A)){const R=m?A.length-1:0;A=A[R]}A!==null&&(o[k]=A)}for(const k in P)o[k]=P[k]}}}return o}function Rr(e,t,n){var h;const{style:r}=e,o={};for(const l in r)(xt(r[l])||t.style&&xt(t.style[l])||Nh(l,e)||((h=n==null?void 0:n.getValue(l))==null?void 0:h.liveStyle)!==void 0)&&(o[l]=r[l]);return o}const Sm={useVisualState:Vh({scrapeMotionValuesFromProps:Rr,createRenderState:kr})};function Fh(e,t,n){const r=Rr(e,t,n);for(const o in e)if(xt(e[o])||xt(t[o])){const h=ti.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[h]=e[o]}return r}const Am={useVisualState:Vh({scrapeMotionValuesFromProps:Fh,createRenderState:Bh})};function Em(e,t){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const l={...zr(r)?Am:Sm,preloadedFeatures:e,useRender:Lm(o),createVisualElement:t,Component:r};return hm(l)}}function Ii(e,t,n){const r=e.getProps();return Or(r,t,n!==void 0?n:r.custom,e)}const Ws=e=>Array.isArray(e);function km(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ft(n))}function zm(e){return Ws(e)?e[e.length-1]||0:e}function Nr(e,t){const n=Ii(e,t);let{transitionEnd:r={},transition:o={},...h}=n||{};h={...h,...r};for(const l in h){const u=zm(h[l]);km(e,l,u)}}function Om(e){return!!(xt(e)&&e.add)}function Hs(e,t){const n=e.getValue("willChange");if(Om(n))return n.add(t);if(!n&&le.WillChange){const r=new le.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function Zh(e){return e.props[zh]}const Rm=e=>e!==null;function Nm(e,{repeat:t,repeatType:n="loop"},r){const o=e.filter(Rm),h=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[h]}const jm={type:"spring",stiffness:500,damping:25,restSpeed:10},Im=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Bm={type:"keyframes",duration:.8},Dm={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Vm=(e,{keyframes:t})=>t.length>2?Bm:ei.has(e)?e.startsWith("scale")?Im(t[1]):jm:Dm;function Fm({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:h,repeatType:l,repeatDelay:u,from:d,elapsed:p,...m}){return!!Object.keys(m).length}const jr=(e,t,n,r={},o,h)=>l=>{const u=Pr(r,e)||{},d=u.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Yt(d);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-p,onUpdate:y=>{t.set(y),u.onUpdate&&u.onUpdate(y)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:e,motionValue:t,element:h?void 0:o};Fm(u)||Object.assign(m,Vm(e,m)),m.duration&&(m.duration=Yt(m.duration)),m.repeatDelay&&(m.repeatDelay=Yt(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let _=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(_=!0)),(le.instantAnimations||le.skipAnimations)&&(_=!0,m.duration=0,m.delay=0),m.allowFlatten=!u.type&&!u.ease,_&&!h&&t.get()!==void 0){const y=Nm(m.keyframes,u);if(y!==void 0){it.update(()=>{m.onUpdate(y),m.onComplete()});return}}return u.isSync?new zn(m):new Cf(m)};function Zm({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Wh(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:h=e.getDefaultTransition(),transitionEnd:l,...u}=t;r&&(h=r);const d=[],p=o&&e.animationState&&e.animationState.getState()[o];for(const m in u){const _=e.getValue(m,e.latestValues[m]??null),y=u[m];if(y===void 0||p&&Zm(p,m))continue;const x={delay:n,...Pr(h||{},m)},b=_.get();if(b!==void 0&&!_.isAnimating&&!Array.isArray(y)&&y===b&&!x.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const C=Zh(e);if(C){const k=window.MotionHandoffAnimation(C,m,it);k!==null&&(x.startTime=k,P=!0)}}Hs(e,m),_.start(jr(m,_,y,e.shouldReduceMotion&&vh.has(m)?{type:!1}:x,e,P));const M=_.animation;M&&d.push(M)}return l&&Promise.all(d).then(()=>{it.update(()=>{l&&Nr(e,l)})}),d}function Us(e,t,n={}){var d;const r=Ii(e,t,n.type==="exit"?(d=e.presenceContext)==null?void 0:d.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const h=r?()=>Promise.all(Wh(e,r,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:_,staggerDirection:y}=o;return Wm(e,t,m+p,_,y,n)}:()=>Promise.resolve(),{when:u}=o;if(u){const[p,m]=u==="beforeChildren"?[h,l]:[l,h];return p().then(()=>m())}else return Promise.all([h(),l(n.delay)])}function Wm(e,t,n=0,r=0,o=1,h){const l=[],u=(e.variantChildren.size-1)*r,d=o===1?(p=0)=>p*r:(p=0)=>u-p*r;return Array.from(e.variantChildren).sort(Hm).forEach((p,m)=>{p.notify("AnimationStart",t),l.push(Us(p,t,{...h,delay:n+d(m)}).then(()=>p.notify("AnimationComplete",t)))}),Promise.all(l)}function Hm(e,t){return e.sortNodePosition(t)}function Hh(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(h=>Us(e,h,n));r=Promise.all(o)}else if(typeof t=="string")r=Us(e,t,n);else{const o=typeof t=="function"?Ii(e,t,n.custom):t;r=Promise.all(Wh(e,o,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function Uh(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Um=Sr.length;function qh(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?qh(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Um;n++){const r=Sr[n],o=e.props[r];(Ni(o)||o===!1)&&(t[r]=o)}return t}const qm=[...Cr].reverse(),$m=Cr.length;function Gm(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Hh(e,n,r)))}function Km(e){let t=Gm(e),n=ga(),r=!0;const o=d=>(p,m)=>{var y;const _=Ii(e,m,d==="exit"?(y=e.presenceContext)==null?void 0:y.custom:void 0);if(_){const{transition:x,transitionEnd:b,...P}=_;p={...p,...P,...b}}return p};function h(d){t=d(e)}function l(d){const{props:p}=e,m=qh(e.parent)||{},_=[],y=new Set;let x={},b=1/0;for(let M=0;M<$m;M++){const C=qm[M],k=n[C],A=p[C]!==void 0?p[C]:m[C],R=Ni(A),z=C===d?k.isActive:null;z===!1&&(b=M);let N=A===m[C]&&A!==p[C]&&R;if(N&&r&&e.manuallyAnimateOnMount&&(N=!1),k.protectedKeys={...x},!k.isActive&&z===null||!A&&!k.prevProp||Rn(A)||typeof A=="boolean")continue;const B=Ym(k.prevProp,A);let I=B||C===d&&k.isActive&&!N&&R||M>b&&R,V=!1;const G=Array.isArray(A)?A:[A];let D=G.reduce(o(C),{});z===!1&&(D={});const{prevResolvedValues:U={}}=k,nt={...U,...D},F=at=>{I=!0,y.has(at)&&(V=!0,y.delete(at)),k.needsAnimating[at]=!0;const W=e.getValue(at);W&&(W.liveStyle=!1)};for(const at in nt){const W=D[at],te=U[at];if(x.hasOwnProperty(at))continue;let H=!1;Ws(W)&&Ws(te)?H=!Uh(W,te):H=W!==te,H?W!=null?F(at):y.add(at):W!==void 0&&y.has(at)?F(at):k.protectedKeys[at]=!0}k.prevProp=A,k.prevResolvedValues=D,k.isActive&&(x={...x,...D}),r&&e.blockInitialAnimation&&(I=!1),I&&(!(N&&B)||V)&&_.push(...G.map(at=>({animation:at,options:{type:C}})))}if(y.size){const M={};if(typeof p.initial!="boolean"){const C=Ii(e,Array.isArray(p.initial)?p.initial[0]:p.initial);C&&C.transition&&(M.transition=C.transition)}y.forEach(C=>{const k=e.getBaseTarget(C),A=e.getValue(C);A&&(A.liveStyle=!0),M[C]=k??null}),_.push({animation:M})}let P=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(P=!1),r=!1,P?t(_):Promise.resolve()}function u(d,p){var _;if(n[d].isActive===p)return Promise.resolve();(_=e.variantChildren)==null||_.forEach(y=>{var x;return(x=y.animationState)==null?void 0:x.setActive(d,p)}),n[d].isActive=p;const m=l(d);for(const y in n)n[y].protectedKeys={};return m}return{animateChanges:l,setActive:u,setAnimateFunction:h,getState:()=>n,reset:()=>{n=ga(),r=!0}}}function Ym(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Uh(t,e):!1}function Se(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ga(){return{animate:Se(!0),whileInView:Se(),whileHover:Se(),whileTap:Se(),whileDrag:Se(),whileFocus:Se(),exit:Se()}}class ye{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Xm extends ye{constructor(t){super(t),t.animationState||(t.animationState=Km(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Rn(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Jm=0;class Qm extends ye{constructor(){super(...arguments),this.id=Jm++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const tp={animation:{Feature:Xm},exit:{Feature:Qm}};function Bi(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Wi(e){return{point:{x:e.pageX,y:e.pageY}}}const ep=e=>t=>Mr(t)&&e(t,Wi(t));function Mi(e,t,n,r){return Bi(e,t,ep(n),r)}function $h({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function ip({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function np(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const Gh=1e-4,sp=1-Gh,rp=1+Gh,Kh=.01,op=0-Kh,ap=0+Kh;function Mt(e){return e.max-e.min}function lp(e,t,n){return Math.abs(e-t)<=n}function _a(e,t,n,r=.5){e.origin=r,e.originPoint=ct(t.min,t.max,e.origin),e.scale=Mt(n)/Mt(t),e.translate=ct(n.min,n.max,e.origin)-e.originPoint,(e.scale>=sp&&e.scale<=rp||isNaN(e.scale))&&(e.scale=1),(e.translate>=op&&e.translate<=ap||isNaN(e.translate))&&(e.translate=0)}function Ci(e,t,n,r){_a(e.x,t.x,n.x,r?r.originX:void 0),_a(e.y,t.y,n.y,r?r.originY:void 0)}function va(e,t,n){e.min=n.min+t.min,e.max=e.min+Mt(t)}function hp(e,t,n){va(e.x,t.x,n.x),va(e.y,t.y,n.y)}function ya(e,t,n){e.min=t.min-n.min,e.max=e.min+Mt(t)}function Si(e,t,n){ya(e.x,t.x,n.x),ya(e.y,t.y,n.y)}const xa=()=>({translate:0,scale:1,origin:0,originPoint:0}),$e=()=>({x:xa(),y:xa()}),wa=()=>({min:0,max:0}),ft=()=>({x:wa(),y:wa()});function Nt(e){return[e("x"),e("y")]}function ys(e){return e===void 0||e===1}function qs({scale:e,scaleX:t,scaleY:n}){return!ys(e)||!ys(t)||!ys(n)}function Ae(e){return qs(e)||Yh(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Yh(e){return ba(e.x)||ba(e.y)}function ba(e){return e&&e!=="0%"}function An(e,t,n){const r=e-n,o=t*r;return n+o}function Pa(e,t,n,r,o){return o!==void 0&&(e=An(e,o,r)),An(e,n,r)+t}function $s(e,t=0,n=1,r,o){e.min=Pa(e.min,t,n,r,o),e.max=Pa(e.max,t,n,r,o)}function Xh(e,{x:t,y:n}){$s(e.x,t.translate,t.scale,t.originPoint),$s(e.y,n.translate,n.scale,n.originPoint)}const Ta=.999999999999,La=1.0000000000001;function cp(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let h,l;for(let u=0;u<o;u++){h=n[u],l=h.projectionDelta;const{visualElement:d}=h.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Ke(e,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,Xh(e,l)),r&&Ae(h.latestValues)&&Ke(e,h.latestValues))}t.x<La&&t.x>Ta&&(t.x=1),t.y<La&&t.y>Ta&&(t.y=1)}function Ge(e,t){e.min=e.min+t,e.max=e.max+t}function Ma(e,t,n,r,o=.5){const h=ct(e.min,e.max,o);$s(e,t,n,h,r)}function Ke(e,t){Ma(e.x,t.x,t.scaleX,t.scale,t.originX),Ma(e.y,t.y,t.scaleY,t.scale,t.originY)}function Jh(e,t){return $h(np(e.getBoundingClientRect(),t))}function up(e,t,n){const r=Jh(e,n),{scroll:o}=t;return o&&(Ge(r.x,o.offset.x),Ge(r.y,o.offset.y)),r}const Qh=({current:e})=>e?e.ownerDocument.defaultView:null,Ca=(e,t)=>Math.abs(e-t);function dp(e,t){const n=Ca(e.x,t.x),r=Ca(e.y,t.y);return Math.sqrt(n**2+r**2)}class tc{constructor(t,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:h=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=ws(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,x=dp(_.offset,{x:0,y:0})>=3;if(!y&&!x)return;const{point:b}=_,{timestamp:P}=yt;this.history.push({...b,timestamp:P});const{onStart:M,onMove:C}=this.handlers;y||(M&&M(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,_)},this.handlePointerMove=(_,y)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=xs(y,this.transformPagePoint),it.update(this.updatePoint,!0)},this.handlePointerUp=(_,y)=>{this.end();const{onEnd:x,onSessionEnd:b,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=ws(_.type==="pointercancel"?this.lastMoveEventInfo:xs(y,this.transformPagePoint),this.history);this.startEvent&&x&&x(_,M),b&&b(_,M)},!Mr(t))return;this.dragSnapToOrigin=h,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const l=Wi(t),u=xs(l,this.transformPagePoint),{point:d}=u,{timestamp:p}=yt;this.history=[{...d,timestamp:p}];const{onSessionStart:m}=n;m&&m(t,ws(u,this.history)),this.removeListeners=Vi(Mi(this.contextWindow,"pointermove",this.handlePointerMove),Mi(this.contextWindow,"pointerup",this.handlePointerUp),Mi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Wt(this.updatePoint)}}function xs(e,t){return t?{point:t(e.point)}:e}function Sa(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ws({point:e},t){return{point:e,delta:Sa(e,ec(t)),offset:Sa(e,fp(t)),velocity:mp(t,.1)}}function fp(e){return e[0]}function ec(e){return e[e.length-1]}function mp(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=ec(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>Yt(t)));)n--;if(!r)return{x:0,y:0};const h=Xt(o.timestamp-r.timestamp);if(h===0)return{x:0,y:0};const l={x:(o.x-r.x)/h,y:(o.y-r.y)/h};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function pp(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ct(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ct(n,e,r.max):Math.min(e,n)),e}function Aa(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function gp(e,{top:t,left:n,bottom:r,right:o}){return{x:Aa(e.x,n,o),y:Aa(e.y,t,r)}}function Ea(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function _p(e,t){return{x:Ea(e.x,t.x),y:Ea(e.y,t.y)}}function vp(e,t){let n=.5;const r=Mt(e),o=Mt(t);return o>r?n=Ye(t.min,t.max-r,e.min):r>o&&(n=Ye(e.min,e.max-o,t.min)),Qt(0,1,n)}function yp(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Gs=.35;function xp(e=Gs){return e===!1?e=0:e===!0&&(e=Gs),{x:ka(e,"left","right"),y:ka(e,"top","bottom")}}function ka(e,t,n){return{min:za(e,t),max:za(e,n)}}function za(e,t){return typeof e=="number"?e:e[t]||0}const wp=new WeakMap;class bp{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ft(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=m=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Wi(m).point)},h=(m,_)=>{const{drag:y,dragPropagation:x,onDragStart:b}=this.getProps();if(y&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Zf(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Nt(M=>{let C=this.getAxisMotionValue(M).get()||0;if(Jt.test(C)){const{projection:k}=this.visualElement;if(k&&k.layout){const A=k.layout.layoutBox[M];A&&(C=Mt(A)*(parseFloat(C)/100))}}this.originPoint[M]=C}),b&&it.postRender(()=>b(m,_)),Hs(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},l=(m,_)=>{const{dragPropagation:y,dragDirectionLock:x,onDirectionLock:b,onDrag:P}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:M}=_;if(x&&this.currentDirection===null){this.currentDirection=Pp(M),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",_.point,M),this.updateAxis("y",_.point,M),this.visualElement.render(),P&&P(m,_)},u=(m,_)=>this.stop(m,_),d=()=>Nt(m=>{var _;return this.getAnimationState(m)==="paused"&&((_=this.getAxisMotionValue(m).animation)==null?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new tc(t,{onSessionStart:o,onStart:h,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:Qh(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:h}=this.getProps();h&&it.postRender(()=>h(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!pn(t,o,this.currentDirection))return;const h=this.getAxisMotionValue(t);let l=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(l=pp(l,this.constraints[t],this.elastic[t])),h.set(l)}resolveConstraints(){var h;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(h=this.visualElement.projection)==null?void 0:h.layout,o=this.constraints;t&&qe(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=gp(r.layoutBox,t):this.constraints=!1,this.elastic=xp(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Nt(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=yp(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!qe(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const h=up(r,o.root,this.visualElement.getTransformPagePoint());let l=_p(o.layout.layoutBox,h);if(n){const u=n(ip(l));this.hasMutatedConstraints=!!u,u&&(l=$h(u))}return l}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:h,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},p=Nt(m=>{if(!pn(m,n,this.currentDirection))return;let _=d&&d[m]||{};l&&(_={min:0,max:0});const y=o?200:1e6,x=o?40:1e7,b={type:"inertia",velocity:r?t[m]:0,bounceStiffness:y,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...h,..._};return this.startAxisValueAnimation(m,b)});return Promise.all(p).then(u)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Hs(this.visualElement,t),r.start(jr(t,r,0,n,this.visualElement,!1))}stopAnimation(){Nt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Nt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Nt(n=>{const{drag:r}=this.getProps();if(!pn(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,h=this.getAxisMotionValue(n);if(o&&o.layout){const{min:l,max:u}=o.layout.layoutBox[n];h.set(t[n]-ct(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!qe(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Nt(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();o[l]=vp({min:d,max:d},this.constraints[l])}});const{transformTemplate:h}=this.visualElement.getProps();this.visualElement.current.style.transform=h?h({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Nt(l=>{if(!pn(l,t,null))return;const u=this.getAxisMotionValue(l),{min:d,max:p}=this.constraints[l];u.set(ct(d,p,o[l]))})}addListeners(){if(!this.visualElement.current)return;wp.set(this.visualElement,this);const t=this.visualElement.current,n=Mi(t,"pointerdown",d=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();qe(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,h=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),it.read(r);const l=Bi(window,"resize",()=>this.scalePositionWithinConstraints()),u=o.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Nt(m=>{const _=this.getAxisMotionValue(m);_&&(this.originPoint[m]+=d[m].translate,_.set(_.get()+d[m].translate))}),this.visualElement.render())});return()=>{l(),n(),h(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:h=!1,dragElastic:l=Gs,dragMomentum:u=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:h,dragElastic:l,dragMomentum:u}}}function pn(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Pp(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Tp extends ye{constructor(t){super(t),this.removeGroupControls=Et,this.removeListeners=Et,this.controls=new bp(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Et}unmount(){this.removeGroupControls(),this.removeListeners()}}const Oa=e=>(t,n)=>{e&&it.postRender(()=>e(t,n))};class Lp extends ye{constructor(){super(...arguments),this.removePointerDownListener=Et}onPointerDown(t){this.session=new tc(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Qh(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Oa(t),onStart:Oa(n),onMove:r,onEnd:(h,l)=>{delete this.session,o&&it.postRender(()=>o(h,l))}}}mount(){this.removePointerDownListener=Mi(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const bn={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ra(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const yi={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if($.test(e))e=parseFloat(e);else return e;const n=Ra(e,t.target.x),r=Ra(e,t.target.y);return`${n}% ${r}%`}},Mp={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=ve.parse(e);if(o.length>5)return r;const h=ve.createTransformer(e),l=typeof o[0]!="number"?1:0,u=n.x.scale*t.x,d=n.y.scale*t.y;o[0+l]/=u,o[1+l]/=d;const p=ct(u,d,.5);return typeof o[2+l]=="number"&&(o[2+l]/=p),typeof o[3+l]=="number"&&(o[3+l]/=p),h(o)}};class Cp extends E.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:h}=t;fm(Sp),h&&(n.group&&n.group.add(h),r&&r.register&&o&&r.register(h),h.root.didUpdate(),h.addEventListener("animationComplete",()=>{this.safeToRemove()}),h.setOptions({...h.options,onExitComplete:()=>this.safeToRemove()})),bn.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:h}=this.props,{projection:l}=r;return l&&(l.isPresent=h,o||t.layoutDependency!==n||n===void 0||t.isPresent!==h?l.willUpdate():this.safeToRemove(),t.isPresent!==h&&(h?l.promote():l.relegate()||it.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Lr.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ic(e){const[t,n]=Bl(),r=E.useContext(nr);return v.jsx(Cp,{...e,layoutGroup:r,switchLayoutGroup:E.useContext(Oh),isPresent:t,safeToRemove:n})}const Sp={borderRadius:{...yi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yi,borderTopRightRadius:yi,borderBottomLeftRadius:yi,borderBottomRightRadius:yi,boxShadow:Mp};function Ap(e,t,n){const r=xt(e)?e:Ft(e);return r.start(jr("",r,t,n)),r.animation}function Ep(e){return e instanceof SVGElement&&e.tagName!=="svg"}const kp=(e,t)=>e.depth-t.depth;class zp{constructor(){this.children=[],this.isDirty=!1}add(t){rr(this.children,t),this.isDirty=!0}remove(t){or(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(kp),this.isDirty=!1,this.children.forEach(t)}}function Op(e,t){const n=At.now(),r=({timestamp:o})=>{const h=o-n;h>=t&&(Wt(r),e(h-t))};return it.setup(r,!0),()=>Wt(r)}const nc=["TopLeft","TopRight","BottomLeft","BottomRight"],Rp=nc.length,Na=e=>typeof e=="string"?parseFloat(e):e,ja=e=>typeof e=="number"||$.test(e);function Np(e,t,n,r,o,h){o?(e.opacity=ct(0,n.opacity??1,jp(r)),e.opacityExit=ct(t.opacity??1,0,Ip(r))):h&&(e.opacity=ct(t.opacity??1,n.opacity??1,r));for(let l=0;l<Rp;l++){const u=`border${nc[l]}Radius`;let d=Ia(t,u),p=Ia(n,u);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||ja(d)===ja(p)?(e[u]=Math.max(ct(Na(d),Na(p),r),0),(Jt.test(p)||Jt.test(d))&&(e[u]+="%")):e[u]=p}(t.rotate||n.rotate)&&(e.rotate=ct(t.rotate||0,n.rotate||0,r))}function Ia(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const jp=sc(0,.5,$l),Ip=sc(.5,.95,Et);function sc(e,t,n){return r=>r<e?0:r>t?1:n(Ye(e,t,r))}function Ba(e,t){e.min=t.min,e.max=t.max}function Rt(e,t){Ba(e.x,t.x),Ba(e.y,t.y)}function Da(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Va(e,t,n,r,o){return e-=t,e=An(e,1/n,r),o!==void 0&&(e=An(e,1/o,r)),e}function Bp(e,t=0,n=1,r=.5,o,h=e,l=e){if(Jt.test(t)&&(t=parseFloat(t),t=ct(l.min,l.max,t/100)-l.min),typeof t!="number")return;let u=ct(h.min,h.max,r);e===h&&(u-=t),e.min=Va(e.min,t,n,u,o),e.max=Va(e.max,t,n,u,o)}function Fa(e,t,[n,r,o],h,l){Bp(e,t[n],t[r],t[o],t.scale,h,l)}const Dp=["x","scaleX","originX"],Vp=["y","scaleY","originY"];function Za(e,t,n,r){Fa(e.x,t,Dp,n?n.x:void 0,r?r.x:void 0),Fa(e.y,t,Vp,n?n.y:void 0,r?r.y:void 0)}function Wa(e){return e.translate===0&&e.scale===1}function rc(e){return Wa(e.x)&&Wa(e.y)}function Ha(e,t){return e.min===t.min&&e.max===t.max}function Fp(e,t){return Ha(e.x,t.x)&&Ha(e.y,t.y)}function Ua(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function oc(e,t){return Ua(e.x,t.x)&&Ua(e.y,t.y)}function qa(e){return Mt(e.x)/Mt(e.y)}function $a(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Zp{constructor(){this.members=[]}add(t){rr(this.members,t),t.scheduleRender()}remove(t){if(or(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const h=this.members[o];if(h.isPresent!==!1){r=h;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Wp(e,t,n){let r="";const o=e.x.translate/t.x,h=e.y.translate/t.y,l=(n==null?void 0:n.z)||0;if((o||h||l)&&(r=`translate3d(${o}px, ${h}px, ${l}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:m,rotateX:_,rotateY:y,skewX:x,skewY:b}=n;p&&(r=`perspective(${p}px) ${r}`),m&&(r+=`rotate(${m}deg) `),_&&(r+=`rotateX(${_}deg) `),y&&(r+=`rotateY(${y}deg) `),x&&(r+=`skewX(${x}deg) `),b&&(r+=`skewY(${b}deg) `)}const u=e.x.scale*t.x,d=e.y.scale*t.y;return(u!==1||d!==1)&&(r+=`scale(${u}, ${d})`),r||"none"}const bs=["","X","Y","Z"],Hp={visibility:"hidden"},Up=1e3;let qp=0;function Ps(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function ac(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Zh(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:h}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",it,!(o||h))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&ac(r)}function lc({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(l={},u=t==null?void 0:t()){this.id=qp++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Kp),this.nodes.forEach(tg),this.nodes.forEach(eg),this.nodes.forEach(Yp)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new zp)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new hr),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=Ep(l),this.instance=l;const{layoutId:u,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),e){let m;const _=()=>this.root.updateBlockedByResize=!1;e(l,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=Op(_,250),bn.hasAnimatedSinceResize&&(bn.hasAnimatedSinceResize=!1,this.nodes.forEach(Ka))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:_,hasRelativeLayoutChanged:y,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||p.getDefaultTransition()||og,{onLayoutAnimationStart:P,onLayoutAnimationComplete:M}=p.getProps(),C=!this.targetLayout||!oc(this.targetLayout,x),k=!_&&y;if(this.options.layoutRoot||this.resumeFrom||k||_&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,k);const A={...Pr(b,"layout"),onPlay:P,onComplete:M};(p.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else _||Ka(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Wt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ig),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ac(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const _=this.path[m];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ga);return}this.isUpdating||this.nodes.forEach(Jp),this.isUpdating=!1,this.nodes.forEach(Qp),this.nodes.forEach($p),this.nodes.forEach(Gp),this.clearAllSnapshots();const u=At.now();yt.delta=Qt(0,1e3/60,u-yt.timestamp),yt.timestamp=u,yt.isProcessing=!0,ms.update.process(yt),ms.preRender.process(yt),ms.render.process(yt),yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Lr.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Xp),this.sharedNodes.forEach(ng)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,it.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){it.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Mt(this.snapshot.measuredBox.x)&&!Mt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!o)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!rc(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;l&&this.instance&&(u||Ae(this.latestValues)||m)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),ag(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:l}=this.options;if(!l)return ft();const u=l.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(lg))){const{scroll:m}=this.root;m&&(Ge(u.x,m.offset.x),Ge(u.y,m.offset.y))}return u}removeElementScroll(l){var d;const u=ft();if(Rt(u,l),(d=this.scroll)!=null&&d.wasRoot)return u;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:_,options:y}=m;m!==this.root&&_&&y.layoutScroll&&(_.wasRoot&&Rt(u,l),Ge(u.x,_.offset.x),Ge(u.y,_.offset.y))}return u}applyTransform(l,u=!1){const d=ft();Rt(d,l);for(let p=0;p<this.path.length;p++){const m=this.path[p];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Ke(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Ae(m.latestValues)&&Ke(d,m.latestValues)}return Ae(this.latestValues)&&Ke(d,this.latestValues),d}removeTransform(l){const u=ft();Rt(u,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Ae(p.latestValues))continue;qs(p.latestValues)&&p.updateSnapshot();const m=ft(),_=p.measurePageBox();Rt(m,_),Za(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return Ae(this.latestValues)&&Za(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var y;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:_}=this.options;if(!(!this.layout||!(m||_))){if(this.resolvedRelativeTargetAt=yt.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),Si(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Rt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ft(),this.targetWithTransforms=ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hp(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Rt(this.target,this.layout.layoutBox),Xh(this.target,this.targetDelta)):Rt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),Si(this.relativeTargetOrigin,this.target,x.target),Rt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||qs(this.parent.latestValues)||Yh(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===yt.timestamp&&(d=!1),d)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;Rt(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,y=this.treeScale.y;cp(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=ft());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Da(this.prevProjectionDelta.x,this.projectionDelta.x),Da(this.prevProjectionDelta.y,this.projectionDelta.y)),Ci(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==y||!$a(this.projectionDelta.x,this.prevProjectionDelta.x)||!$a(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$e(),this.projectionDelta=$e(),this.projectionDeltaWithTransform=$e()}setAnimationOrigin(l,u=!1){const d=this.snapshot,p=d?d.latestValues:{},m={...this.latestValues},_=$e();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const y=ft(),x=d?d.source:void 0,b=this.layout?this.layout.source:void 0,P=x!==b,M=this.getStack(),C=!M||M.members.length<=1,k=!!(P&&!C&&this.options.crossfade===!0&&!this.path.some(rg));this.animationProgress=0;let A;this.mixTargetDelta=R=>{const z=R/1e3;Ya(_.x,l.x,z),Ya(_.y,l.y,z),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Si(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sg(this.relativeTarget,this.relativeTargetOrigin,y,z),A&&Fp(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=ft()),Rt(A,this.relativeTarget)),P&&(this.animationValues=m,Np(m,p,this.latestValues,z,k,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var u,d,p;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(!1),(p=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||p.stop(!1),this.pendingAnimation&&(Wt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=it.update(()=>{bn.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ft(0)),this.currentAnimation=Ap(this.motionValue,[0,1e3],{...l,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),l.onUpdate&&l.onUpdate(m)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Up),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:p,latestValues:m}=l;if(!(!u||!d||!p)){if(this!==l&&this.layout&&p&&hc(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||ft();const _=Mt(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+_;const y=Mt(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+y}Rt(u,d),Ke(u,m),Ci(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new Zp),this.sharedNodes.get(l).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const p={};d.z&&Ps("z",l,p,this.animationValues);for(let m=0;m<bs.length;m++)Ps(`rotate${bs[m]}`,l,p,this.animationValues),Ps(`skew${bs[m]}`,l,p,this.animationValues);l.render();for(const m in p)l.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Hp;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=wn(l==null?void 0:l.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=wn(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Ae(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const m=p.animationValues||p.latestValues;this.applyTransformsToTarget(),u.transform=Wp(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:_,y}=this.projectionDelta;u.transformOrigin=`${_.origin*100}% ${y.origin*100}% 0`,p.animationValues?u.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const x in ji){if(m[x]===void 0)continue;const{correct:b,applyTo:P,isCSSVariable:M}=ji[x],C=u.transform==="none"?m[x]:b(m[x],p);if(P){const k=P.length;for(let A=0;A<k;A++)u[P[A]]=C}else M?this.options.visualElement.renderState.vars[x]=C:u[x]=C}return this.options.layoutId&&(u.pointerEvents=p===this?wn(l==null?void 0:l.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop(!1)}),this.root.nodes.forEach(Ga),this.root.sharedNodes.clear()}}}function $p(e){e.updateLayout()}function Gp(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:h}=e.options,l=t.source!==e.layout.source;h==="size"?Nt(_=>{const y=l?t.measuredBox[_]:t.layoutBox[_],x=Mt(y);y.min=r[_].min,y.max=y.min+x}):hc(h,t.layoutBox,r)&&Nt(_=>{const y=l?t.measuredBox[_]:t.layoutBox[_],x=Mt(r[_]);y.max=y.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[_].max=e.relativeTarget[_].min+x)});const u=$e();Ci(u,r,t.layoutBox);const d=$e();l?Ci(d,e.applyTransform(o,!0),t.measuredBox):Ci(d,r,t.layoutBox);const p=!rc(u);let m=!1;if(!e.resumeFrom){const _=e.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:y,layout:x}=_;if(y&&x){const b=ft();Si(b,t.layoutBox,y.layoutBox);const P=ft();Si(P,r,x.layoutBox),oc(b,P)||(m=!0),_.options.layoutRoot&&(e.relativeTarget=P,e.relativeTargetOrigin=b,e.relativeParent=_)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:d,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Kp(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Yp(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Xp(e){e.clearSnapshot()}function Ga(e){e.clearMeasurements()}function Jp(e){e.isLayoutDirty=!1}function Qp(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Ka(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function tg(e){e.resolveTargetDelta()}function eg(e){e.calcProjection()}function ig(e){e.resetSkewAndRotation()}function ng(e){e.removeLeadSnapshot()}function Ya(e,t,n){e.translate=ct(t.translate,0,n),e.scale=ct(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Xa(e,t,n,r){e.min=ct(t.min,n.min,r),e.max=ct(t.max,n.max,r)}function sg(e,t,n,r){Xa(e.x,t.x,n.x,r),Xa(e.y,t.y,n.y,r)}function rg(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const og={duration:.45,ease:[.4,0,.1,1]},Ja=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Qa=Ja("applewebkit/")&&!Ja("chrome/")?Math.round:Et;function tl(e){e.min=Qa(e.min),e.max=Qa(e.max)}function ag(e){tl(e.x),tl(e.y)}function hc(e,t,n){return e==="position"||e==="preserve-aspect"&&!lp(qa(t),qa(n),.2)}function lg(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const hg=lc({attachResizeListener:(e,t)=>Bi(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ts={current:void 0},cc=lc({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ts.current){const e=new hg({});e.mount(window),e.setOptions({layoutScroll:!0}),Ts.current=e}return Ts.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),cg={pan:{Feature:Lp},drag:{Feature:Tp,ProjectionNode:cc,MeasureLayout:ic}};function el(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,h=r[o];h&&it.postRender(()=>h(t,Wi(t)))}class ug extends ye{mount(){const{current:t}=this.node;t&&(this.unmount=Wf(t,(n,r)=>(el(this.node,r,"Start"),o=>el(this.node,o,"End"))))}unmount(){}}class dg extends ye{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vi(Bi(this.node.current,"focus",()=>this.onFocus()),Bi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function il(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),h=r[o];h&&it.postRender(()=>h(t,Wi(t)))}class fg extends ye{mount(){const{current:t}=this.node;t&&(this.unmount=$f(t,(n,r)=>(il(this.node,r,"Start"),(o,{success:h})=>il(this.node,o,h?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ks=new WeakMap,Ls=new WeakMap,mg=e=>{const t=Ks.get(e.target);t&&t(e)},pg=e=>{e.forEach(mg)};function gg({root:e,...t}){const n=e||document;Ls.has(n)||Ls.set(n,{});const r=Ls.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(pg,{root:e,...t})),r[o]}function _g(e,t,n){const r=gg(t);return Ks.set(e,n),r.observe(e),()=>{Ks.delete(e),r.unobserve(e)}}const vg={some:0,all:1};class yg extends ye{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:h}=t,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:vg[o]},u=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,h&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:_}=this.node.getProps(),y=p?m:_;y&&y(d)};return _g(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(xg(t,n))&&this.startObserver()}unmount(){}}function xg({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const wg={inView:{Feature:yg},tap:{Feature:fg},focus:{Feature:dg},hover:{Feature:ug}},bg={layout:{ProjectionNode:cc,MeasureLayout:ic}},Ys={current:null},uc={current:!1};function Pg(){if(uc.current=!0,!!sr)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ys.current=e.matches;e.addListener(t),t()}else Ys.current=!1}const Tg=new WeakMap;function Lg(e,t,n){for(const r in t){const o=t[r],h=n[r];if(xt(o))e.addValue(r,o);else if(xt(h))e.addValue(r,Ft(o,{owner:e}));else if(h!==o)if(e.hasValue(r)){const l=e.getValue(r);l.liveStyle===!0?l.jump(o):l.hasAnimated||l.set(o)}else{const l=e.getStaticValue(r);e.addValue(r,Ft(l!==void 0?l:o,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const nl=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Mg{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:h,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=br,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=At.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,it.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=u,this.blockInitialAnimation=!!h,this.isControllingVariants=Nn(n),this.isVariantNode=kh(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in _){const x=_[y];d[y]!==void 0&&xt(x)&&x.set(d[y],!1)}}mount(t){this.current=t,Tg.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),uc.current||Pg(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ys.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Wt(this.notifyUpdate),Wt(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ei.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&it.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),h=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),h(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Xe){const n=Xe[t];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const h=this.features[t];h.isMounted?h.update():(h.mount(),h.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ft()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<nl.length;r++){const o=nl[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const h="on"+o,l=t[h];l&&(this.propEventSubscriptions[o]=this.on(o,l))}this.prevMotionValues=Lg(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ft(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Dl(r)||Vl(r))?r=parseFloat(r):!Yf(r)&&ve.test(n)&&(r=bh(t,n)),this.setBaseTarget(t,xt(r)?r.get():r)),xt(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var h;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=Or(this.props,n,(h=this.presenceContext)==null?void 0:h.custom);l&&(r=l[t])}if(n&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!xt(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new hr),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class dc extends Mg{constructor(){super(...arguments),this.KeyframeResolver=Df}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;xt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function fc(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const h in n)e.style.setProperty(h,n[h])}function Cg(e){return window.getComputedStyle(e)}class Sg extends dc{constructor(){super(...arguments),this.type="html",this.renderInstance=fc}readValueFromInstance(t,n){if(ei.has(n))return rf(t,n);{const r=Cg(t),o=(fr(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Jh(t,n)}build(t,n,r){Er(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Rr(t,n,r)}}const mc=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ag(e,t,n,r){fc(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(mc.has(o)?o:Ar(o),t.attrs[o])}class Eg extends dc{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ft}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ei.has(n)){const r=wh(n);return r&&r.default||0}return n=mc.has(n)?n:Ar(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Fh(t,n,r)}build(t,n,r){Ih(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,o){Ag(t,n,r,o)}mount(t){this.isSVGTag=Dh(t.tagName),super.mount(t)}}const kg=(e,t)=>zr(e)?new Eg(t):new Sg(t,{allowProjection:e!==E.Fragment}),zg=Em({...tp,...wg,...cg,...bg},kg),K=em(zg);function Og(e,t,n){E.useInsertionEffect(()=>e.on(t,n),[e,t,n])}const Pn=new WeakMap;let _e;function Rg(e,t){if(t){const{inlineSize:n,blockSize:r}=t[0];return{width:n,height:r}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function Ng({target:e,contentRect:t,borderBoxSize:n}){var r;(r=Pn.get(e))==null||r.forEach(o=>{o({target:e,contentSize:t,get size(){return Rg(e,n)}})})}function jg(e){e.forEach(Ng)}function Ig(){typeof ResizeObserver>"u"||(_e=new ResizeObserver(jg))}function Bg(e,t){_e||Ig();const n=Ph(e);return n.forEach(r=>{let o=Pn.get(r);o||(o=new Set,Pn.set(r,o)),o.add(t),_e==null||_e.observe(r)}),()=>{n.forEach(r=>{const o=Pn.get(r);o==null||o.delete(t),o!=null&&o.size||_e==null||_e.unobserve(r)})}}const Tn=new Set;let Ai;function Dg(){Ai=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};Tn.forEach(n=>n(t))},window.addEventListener("resize",Ai)}function Vg(e){return Tn.add(e),Ai||Dg(),()=>{Tn.delete(e),!Tn.size&&Ai&&(Ai=void 0)}}function Fg(e,t){return typeof e=="function"?Vg(e):Bg(e,t)}const Zg=50,sl=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Wg=()=>({time:0,x:sl(),y:sl()}),Hg={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function rl(e,t,n,r){const o=n[t],{length:h,position:l}=Hg[t],u=o.current,d=n.time;o.current=e[`scroll${l}`],o.scrollLength=e[`scroll${h}`]-e[`client${h}`],o.offset.length=0,o.offset[0]=0,o.offset[1]=o.scrollLength,o.progress=Ye(0,o.scrollLength,o.current);const p=r-d;o.velocity=p>Zg?0:cr(o.current-u,p)}function Ug(e,t,n){rl(e,"x",t,n),rl(e,"y",t,n),t.time=n}function qg(e,t){const n={x:0,y:0};let r=e;for(;r&&r!==t;)if(r instanceof HTMLElement)n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const o=r.getBoundingClientRect();r=r.parentElement;const h=r.getBoundingClientRect();n.x+=o.left-h.left,n.y+=o.top-h.top}else if(r instanceof SVGGraphicsElement){const{x:o,y:h}=r.getBBox();n.x+=o,n.y+=h;let l=null,u=r.parentNode;for(;!l;)u.tagName==="svg"&&(l=u),u=r.parentNode;r=l}else break;return n}const Xs={start:0,center:.5,end:1};function ol(e,t,n=0){let r=0;if(e in Xs&&(e=Xs[e]),typeof e=="string"){const o=parseFloat(e);e.endsWith("px")?r=o:e.endsWith("%")?e=o/100:e.endsWith("vw")?r=o/100*document.documentElement.clientWidth:e.endsWith("vh")?r=o/100*document.documentElement.clientHeight:e=o}return typeof e=="number"&&(r=t*e),n+r}const $g=[0,0];function Gg(e,t,n,r){let o=Array.isArray(e)?e:$g,h=0,l=0;return typeof e=="number"?o=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?o=e.split(" "):o=[e,Xs[e]?e:"0"]),h=ol(o[0],n,r),l=ol(o[1],t),h-l}const Kg={All:[[0,0],[1,1]]},Yg={x:0,y:0};function Xg(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function Jg(e,t,n){const{offset:r=Kg.All}=n,{target:o=e,axis:h="y"}=n,l=h==="y"?"height":"width",u=o!==e?qg(o,e):Yg,d=o===e?{width:e.scrollWidth,height:e.scrollHeight}:Xg(o),p={width:e.clientWidth,height:e.clientHeight};t[h].offset.length=0;let m=!t[h].interpolate;const _=r.length;for(let y=0;y<_;y++){const x=Gg(r[y],p[l],d[l],u[h]);!m&&x!==t[h].interpolatorOffsets[y]&&(m=!0),t[h].offset[y]=x}m&&(t[h].interpolate=yr(t[h].offset,lh(r),{clamp:!1}),t[h].interpolatorOffsets=[...t[h].offset]),t[h].progress=Qt(0,1,t[h].interpolate(t[h].current))}function Qg(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let r=t;for(;r&&r!==e;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function t0(e,t,n,r={}){return{measure:()=>Qg(e,r.target,n),update:o=>{Ug(e,n,o),(r.offset||r.target)&&Jg(e,n,r)},notify:()=>t(n)}}const xi=new WeakMap,al=new WeakMap,Ms=new WeakMap,ll=e=>e===document.documentElement?window:e;function pc(e,{container:t=document.documentElement,...n}={}){let r=Ms.get(t);r||(r=new Set,Ms.set(t,r));const o=Wg(),h=t0(t,e,o,n);if(r.add(h),!xi.has(t)){const u=()=>{for(const y of r)y.measure()},d=()=>{for(const y of r)y.update(yt.timestamp)},p=()=>{for(const y of r)y.notify()},m=()=>{it.read(u),it.read(d),it.preUpdate(p)};xi.set(t,m);const _=ll(t);window.addEventListener("resize",m,{passive:!0}),t!==document.documentElement&&al.set(t,Fg(t,m)),_.addEventListener("scroll",m,{passive:!0}),m()}const l=xi.get(t);return it.read(l,!1,!0),()=>{var p;Wt(l);const u=Ms.get(t);if(!u||(u.delete(h),u.size))return;const d=xi.get(t);xi.delete(t),d&&(ll(t).removeEventListener("scroll",d),(p=al.get(t))==null||p(),window.removeEventListener("resize",d))}}const hl=new Map;function e0(e){const t={value:0},n=pc(r=>{t.value=r[e.axis].progress*100},e);return{currentTime:t,cancel:n}}function gc({source:e,container:t,...n}){const{axis:r}=n;e&&(t=e);const o=hl.get(t)??new Map;hl.set(t,o);const h=n.target??"self",l=o.get(h)??{},u=r+(n.offset??[]).join(",");return l[u]||(l[u]=!n.target&&dh()?new ScrollTimeline({source:t,axis:r}):e0({container:t,...n})),l[u]}function i0(e,t){const n=gc(t);return e.attachTimeline({timeline:t.target?void 0:n,observe:r=>(r.pause(),Sh(o=>{r.time=r.duration*o},n))})}function n0(e){return e.length===2}function s0(e,t){return n0(e)?pc(n=>{e(n[t.axis].progress,n)},t):Sh(e,gc(t))}function r0(e,{axis:t="y",container:n=document.documentElement,...r}={}){n===document.documentElement&&(t==="y"&&n.scrollHeight===n.clientHeight||t==="x"&&n.scrollWidth===n.clientWidth)&&(n=document.body);const o={axis:t,container:n,...r};return typeof e=="function"?s0(e,o):i0(e,o)}function cl(e,t){nd(!!(!t||t.current))}const o0=()=>({scrollX:Ft(0),scrollY:Ft(0),scrollXProgress:Ft(0),scrollYProgress:Ft(0)});function a0({container:e,target:t,layoutEffect:n=!0,...r}={}){const o=ae(o0);return(n?Je:E.useEffect)(()=>(cl("target",t),cl("container",e),r0((l,{x:u,y:d})=>{o.scrollX.set(u.current),o.scrollXProgress.set(u.progress),o.scrollY.set(d.current),o.scrollYProgress.set(d.progress)},{...r,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0})),[e,t,JSON.stringify(r.offset)]),o}function jn(e){const t=ae(()=>Ft(e)),{isStatic:n}=E.useContext(Di);if(n){const[,r]=E.useState(e);E.useEffect(()=>t.on("change",r),[])}return t}function _c(e,t){const n=jn(t()),r=()=>n.set(t());return r(),Je(()=>{const o=()=>it.preRender(r,!1,!0),h=e.map(l=>l.on("change",o));return()=>{h.forEach(l=>l()),Wt(r)}}),n}function l0(e,t={}){const{isStatic:n}=E.useContext(Di),r=E.useRef(null),o=ae(()=>xt(e)?e.get():e),h=ae(()=>typeof o=="string"?o.replace(/[\d.-]/g,""):void 0),l=jn(o),u=E.useRef(o),d=E.useRef(Et),p=()=>{m(),r.current=new zn({keyframes:[dl(l.get()),dl(u.current)],velocity:l.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:d.current})},m=()=>{r.current&&r.current.stop()};return E.useInsertionEffect(()=>l.attach((_,y)=>n?y(_):(u.current=_,d.current=x=>y(ul(x,h)),it.postRender(p),l.get()),m),[JSON.stringify(t)]),Je(()=>{if(xt(e))return e.on("change",_=>l.set(ul(_,h)))},[l,h]),l}function ul(e,t){return t?e+t:e}function dl(e){return typeof e=="number"?e:parseFloat(e)}function h0(e){Li.current=[],e();const t=_c(Li.current,e);return Li.current=void 0,t}function fl(e,t,n,r){if(typeof e=="function")return h0(e);const o=typeof t=="function"?t:Gf(t,n,r);return Array.isArray(e)?ml(e,o):ml([e],([h])=>o(h))}function ml(e,t){const n=ae(()=>[]);return _c(e,()=>{n.length=0;const r=e.length;for(let o=0;o<r;o++)n[o]=e[o].get();return t(n)})}function c0(e){const t=jn(e.getVelocity()),n=()=>{const r=e.getVelocity();t.set(r),r&&it.update(n)};return Og(e,"change",()=>{it.update(n,!1,!0)}),t}function u0(e){e.values.forEach(t=>t.stop())}function Js(e,t){[...t].reverse().forEach(r=>{const o=e.getVariant(r);o&&Nr(e,o),e.variantChildren&&e.variantChildren.forEach(h=>{Js(h,t)})})}function d0(e,t){if(Array.isArray(t))return Js(e,t);if(typeof t=="string")return Js(e,[t]);Nr(e,t)}function f0(){const e=new Set,t={subscribe(n){return e.add(n),()=>void e.delete(n)},start(n,r){const o=[];return e.forEach(h=>{o.push(Hh(h,n,{transitionOverride:r}))}),Promise.all(o)},set(n){return e.forEach(r=>{d0(r,n)})},stop(){e.forEach(n=>{u0(n)})},mount(){return()=>{t.stop()}}};return t}function m0(){const e=ae(f0);return Je(e.mount,[]),e}const p0=m0,Re=({variant:e="primary",size:t="md",children:n,onClick:r,className:o="",...h})=>{const l={primary:"bg-[#5F6CAF] hover:bg-[#4A5899] text-white",secondary:"bg-[#4A8FE7] hover:bg-[#337AD6] text-white",outline:"border-2 border-[#5F6CAF] text-[#5F6CAF] hover:bg-[#EEF1FF] hover:border-[#4A5899]",ghost:"text-[#5F6CAF] hover:bg-[#EEF1FF] hover:text-[#4A5899]"},u={sm:"py-1 px-2 sm:px-3 text-xs sm:text-sm",md:"py-1.5 sm:py-2 px-4 sm:px-5 text-sm sm:text-base",lg:"py-2 sm:py-3 px-6 sm:px-8 text-base sm:text-lg"};return v.jsx(K.button,{className:`rounded-full font-medium transition-all duration-300 flex items-center justify-center ${l[e]} ${u[t]} ${o}`,onClick:r,initial:"initial",whileTap:{scale:.98},...h,children:n})},Qs=(e=.5)=>{const[t,n]=E.useState(0),r=E.useRef(null);return E.useEffect(()=>{const o=()=>{if(!r.current)return;const h=r.current.getBoundingClientRect(),l=window.scrollY||window.pageYOffset,u=h.top+l,d=(l-u)*e;n(d)};return window.addEventListener("scroll",o),()=>{window.removeEventListener("scroll",o)}},[e]),{ref:r,y:t,style:{transform:`translateY(${t}px)`,willChange:"transform"}}};function Ei(e){let t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}function tr(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function g0(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function pl(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function gl(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function _0(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function v0(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function Cs(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function y0(e,t){let n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return Math.sqrt(n*n+r*r+o*o)}function x0(e,t){let n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return n*n+r*r+o*o}function _l(e){let t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function w0(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function b0(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function er(e,t){let n=t[0],r=t[1],o=t[2],h=n*n+r*r+o*o;return h>0&&(h=1/Math.sqrt(h)),e[0]=t[0]*h,e[1]=t[1]*h,e[2]=t[2]*h,e}function vc(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function vl(e,t,n){let r=t[0],o=t[1],h=t[2],l=n[0],u=n[1],d=n[2];return e[0]=o*d-h*u,e[1]=h*l-r*d,e[2]=r*u-o*l,e}function P0(e,t,n,r){let o=t[0],h=t[1],l=t[2];return e[0]=o+r*(n[0]-o),e[1]=h+r*(n[1]-h),e[2]=l+r*(n[2]-l),e}function T0(e,t,n,r,o){const h=Math.exp(-r*o);let l=t[0],u=t[1],d=t[2];return e[0]=n[0]+(l-n[0])*h,e[1]=n[1]+(u-n[1])*h,e[2]=n[2]+(d-n[2])*h,e}function L0(e,t,n){let r=t[0],o=t[1],h=t[2],l=n[3]*r+n[7]*o+n[11]*h+n[15];return l=l||1,e[0]=(n[0]*r+n[4]*o+n[8]*h+n[12])/l,e[1]=(n[1]*r+n[5]*o+n[9]*h+n[13])/l,e[2]=(n[2]*r+n[6]*o+n[10]*h+n[14])/l,e}function M0(e,t,n){let r=t[0],o=t[1],h=t[2],l=n[3]*r+n[7]*o+n[11]*h+n[15];return l=l||1,e[0]=(n[0]*r+n[4]*o+n[8]*h)/l,e[1]=(n[1]*r+n[5]*o+n[9]*h)/l,e[2]=(n[2]*r+n[6]*o+n[10]*h)/l,e}function C0(e,t,n){let r=t[0],o=t[1],h=t[2];return e[0]=r*n[0]+o*n[3]+h*n[6],e[1]=r*n[1]+o*n[4]+h*n[7],e[2]=r*n[2]+o*n[5]+h*n[8],e}function S0(e,t,n){let r=t[0],o=t[1],h=t[2],l=n[0],u=n[1],d=n[2],p=n[3],m=u*h-d*o,_=d*r-l*h,y=l*o-u*r,x=u*y-d*_,b=d*m-l*y,P=l*_-u*m,M=p*2;return m*=M,_*=M,y*=M,x*=2,b*=2,P*=2,e[0]=r+m+x,e[1]=o+_+b,e[2]=h+y+P,e}const A0=function(){const e=[0,0,0],t=[0,0,0];return function(n,r){tr(e,n),tr(t,r),er(e,e),er(t,t);let o=vc(e,t);return o>1?0:o<-1?Math.PI:Math.acos(o)}}();function E0(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}class Zt extends Array{constructor(t=0,n=t,r=t){return super(t,n,r),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t}set y(t){this[1]=t}set z(t){this[2]=t}set(t,n=t,r=t){return t.length?this.copy(t):(g0(this,t,n,r),this)}copy(t){return tr(this,t),this}add(t,n){return n?pl(this,t,n):pl(this,this,t),this}sub(t,n){return n?gl(this,t,n):gl(this,this,t),this}multiply(t){return t.length?_0(this,this,t):Cs(this,this,t),this}divide(t){return t.length?v0(this,this,t):Cs(this,this,1/t),this}inverse(t=this){return b0(this,t),this}len(){return Ei(this)}distance(t){return t?y0(this,t):Ei(this)}squaredLen(){return _l(this)}squaredDistance(t){return t?x0(this,t):_l(this)}negate(t=this){return w0(this,t),this}cross(t,n){return n?vl(this,t,n):vl(this,this,t),this}scale(t){return Cs(this,this,t),this}normalize(){return er(this,this),this}dot(t){return vc(this,t)}equals(t){return E0(this,t)}applyMatrix3(t){return C0(this,this,t),this}applyMatrix4(t){return L0(this,this,t),this}scaleRotateMatrix4(t){return M0(this,this,t),this}applyQuaternion(t){return S0(this,this,t),this}angle(t){return A0(this,t)}lerp(t,n){return P0(this,this,t,n),this}smoothLerp(t,n,r){return T0(this,this,t,n,r),this}clone(){return new Zt(this[0],this[1],this[2])}fromArray(t,n=0){return this[0]=t[n],this[1]=t[n+1],this[2]=t[n+2],this}toArray(t=[],n=0){return t[n]=this[0],t[n+1]=this[1],t[n+2]=this[2],t}transformDirection(t){const n=this[0],r=this[1],o=this[2];return this[0]=t[0]*n+t[4]*r+t[8]*o,this[1]=t[1]*n+t[5]*r+t[9]*o,this[2]=t[2]*n+t[6]*r+t[10]*o,this.normalize()}}const yl=new Zt;let k0=1,z0=1,xl=!1;class O0{constructor(t,n={}){t.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=t,this.attributes=n,this.id=k0++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let r in n)this.addAttribute(r,n[r])}addAttribute(t,n){if(this.attributes[t]=n,n.id=z0++,n.size=n.size||1,n.type=n.type||(n.data.constructor===Float32Array?this.gl.FLOAT:n.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),n.target=t==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,n.normalized=n.normalized||!1,n.stride=n.stride||0,n.offset=n.offset||0,n.count=n.count||(n.stride?n.data.byteLength/n.stride:n.data.length/n.size),n.divisor=n.instanced||0,n.needsUpdate=!1,n.usage=n.usage||this.gl.STATIC_DRAW,n.buffer||this.updateAttribute(n),n.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==n.count*n.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,n.count*n.divisor);this.instancedCount=n.count*n.divisor}else t==="index"?this.drawRange.count=n.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,n.count))}updateAttribute(t){const n=!t.buffer;n&&(t.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==t.buffer&&(this.gl.bindBuffer(t.target,t.buffer),this.glState.boundBuffer=t.buffer),n?this.gl.bufferData(t.target,t.data,t.usage):this.gl.bufferSubData(t.target,0,t.data),t.needsUpdate=!1}setIndex(t){this.addAttribute("index",t)}setDrawRange(t,n){this.drawRange.start=t,this.drawRange.count=n}setInstancedCount(t){this.instancedCount=t}createVAO(t){this.VAOs[t.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.bindAttributes(t)}bindAttributes(t){t.attributeLocations.forEach((n,{name:r,type:o})=>{if(!this.attributes[r]){console.warn(`active attribute ${r} not being supplied`);return}const h=this.attributes[r];this.gl.bindBuffer(h.target,h.buffer),this.glState.boundBuffer=h.buffer;let l=1;o===35674&&(l=2),o===35675&&(l=3),o===35676&&(l=4);const u=h.size/l,d=l===1?0:l*l*4,p=l===1?0:l*4;for(let m=0;m<l;m++)this.gl.vertexAttribPointer(n+m,u,h.type,h.normalized,h.stride+d,h.offset+m*p),this.gl.enableVertexAttribArray(n+m),this.gl.renderer.vertexAttribDivisor(n+m,h.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:t,mode:n=this.gl.TRIANGLES}){var o;this.gl.renderer.currentGeometry!==`${this.id}_${t.attributeOrder}`&&(this.VAOs[t.attributeOrder]||this.createVAO(t),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${t.attributeOrder}`),t.attributeLocations.forEach((h,{name:l})=>{const u=this.attributes[l];u.needsUpdate&&this.updateAttribute(u)});let r=2;((o=this.attributes.index)==null?void 0:o.type)===this.gl.UNSIGNED_INT&&(r=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r,this.instancedCount):this.gl.renderer.drawArraysInstanced(n,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r):this.gl.drawArrays(n,this.drawRange.start,this.drawRange.count)}getPosition(){const t=this.attributes.position;if(t.data)return t;if(!xl)return console.warn("No position buffer data found to compute bounds"),xl=!0}computeBoundingBox(t){t||(t=this.getPosition());const n=t.data,r=t.size;this.bounds||(this.bounds={min:new Zt,max:new Zt,center:new Zt,scale:new Zt,radius:1/0});const o=this.bounds.min,h=this.bounds.max,l=this.bounds.center,u=this.bounds.scale;o.set(1/0),h.set(-1/0);for(let d=0,p=n.length;d<p;d+=r){const m=n[d],_=n[d+1],y=n[d+2];o.x=Math.min(m,o.x),o.y=Math.min(_,o.y),o.z=Math.min(y,o.z),h.x=Math.max(m,h.x),h.y=Math.max(_,h.y),h.z=Math.max(y,h.z)}u.sub(h,o),l.add(o,h).divide(2)}computeBoundingSphere(t){t||(t=this.getPosition());const n=t.data,r=t.size;this.bounds||this.computeBoundingBox(t);let o=0;for(let h=0,l=n.length;h<l;h+=r)yl.fromArray(n,h),o=Math.max(o,this.bounds.center.squaredDistance(yl));this.bounds.radius=Math.sqrt(o)}remove(){for(let t in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[t]),delete this.VAOs[t];for(let t in this.attributes)this.gl.deleteBuffer(this.attributes[t].buffer),delete this.attributes[t]}}let R0=1;const wl={};class N0{constructor(t,{vertex:n,fragment:r,uniforms:o={},transparent:h=!1,cullFace:l=t.BACK,frontFace:u=t.CCW,depthTest:d=!0,depthWrite:p=!0,depthFunc:m=t.LEQUAL}={}){t.canvas||console.error("gl not passed as first argument to Program"),this.gl=t,this.uniforms=o,this.id=R0++,n||console.warn("vertex shader not supplied"),r||console.warn("fragment shader not supplied"),this.transparent=h,this.cullFace=l,this.frontFace=u,this.depthTest=d,this.depthWrite=p,this.depthFunc=m,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=t.createShader(t.VERTEX_SHADER),this.fragmentShader=t.createShader(t.FRAGMENT_SHADER),this.program=t.createProgram(),t.attachShader(this.program,this.vertexShader),t.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:n,fragment:r})}setShaders({vertex:t,fragment:n}){if(t&&(this.gl.shaderSource(this.vertexShader,t),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${bl(t)}`)),n&&(this.gl.shaderSource(this.fragmentShader,n),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${bl(n)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let r=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let l=0;l<r;l++){let u=this.gl.getActiveUniform(this.program,l);this.uniformLocations.set(u,this.gl.getUniformLocation(this.program,u.name));const d=u.name.match(/(\w+)/g);u.uniformName=d[0],u.nameComponents=d.slice(1)}this.attributeLocations=new Map;const o=[],h=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let l=0;l<h;l++){const u=this.gl.getActiveAttrib(this.program,l),d=this.gl.getAttribLocation(this.program,u.name);d!==-1&&(o[d]=u.name,this.attributeLocations.set(u,d))}this.attributeOrder=o.join("")}setBlendFunc(t,n,r,o){this.blendFunc.src=t,this.blendFunc.dst=n,this.blendFunc.srcAlpha=r,this.blendFunc.dstAlpha=o,t&&(this.transparent=!0)}setBlendEquation(t,n){this.blendEquation.modeRGB=t,this.blendEquation.modeAlpha=n}setStencilFunc(t,n,r){this.stencilRef=n,this.stencilFunc.func=t,this.stencilFunc.ref=n,this.stencilFunc.mask=r}setStencilOp(t,n,r){this.stencilOp.stencilFail=t,this.stencilOp.depthFail=n,this.stencilOp.depthPass=r}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:t=!1}={}){let n=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((o,h)=>{let l=this.uniforms[h.uniformName];for(const u of h.nameComponents){if(!l)break;if(u in l)l=l[u];else{if(Array.isArray(l.value))break;l=void 0;break}}if(!l)return Pl(`Active uniform ${h.name} has not been supplied`);if(l&&l.value===void 0)return Pl(`${h.name} uniform is missing a value parameter`);if(l.value.texture)return n=n+1,l.value.update(n),Ss(this.gl,h.type,o,n);if(l.value.length&&l.value[0].texture){const u=[];return l.value.forEach(d=>{n=n+1,d.update(n),u.push(n)}),Ss(this.gl,h.type,o,u)}Ss(this.gl,h.type,o,l.value)}),this.applyState(),t&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function Ss(e,t,n,r){r=r.length?j0(r):r;const o=e.renderer.state.uniformLocations.get(n);if(r.length)if(o===void 0||o.length!==r.length)e.renderer.state.uniformLocations.set(n,r.slice(0));else{if(I0(o,r))return;o.set?o.set(r):B0(o,r),e.renderer.state.uniformLocations.set(n,o)}else{if(o===r)return;e.renderer.state.uniformLocations.set(n,r)}switch(t){case 5126:return r.length?e.uniform1fv(n,r):e.uniform1f(n,r);case 35664:return e.uniform2fv(n,r);case 35665:return e.uniform3fv(n,r);case 35666:return e.uniform4fv(n,r);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return r.length?e.uniform1iv(n,r):e.uniform1i(n,r);case 35671:case 35667:return e.uniform2iv(n,r);case 35672:case 35668:return e.uniform3iv(n,r);case 35673:case 35669:return e.uniform4iv(n,r);case 35674:return e.uniformMatrix2fv(n,!1,r);case 35675:return e.uniformMatrix3fv(n,!1,r);case 35676:return e.uniformMatrix4fv(n,!1,r)}}function bl(e){let t=e.split(`
`);for(let n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join(`
`)}function j0(e){const t=e.length,n=e[0].length;if(n===void 0)return e;const r=t*n;let o=wl[r];o||(wl[r]=o=new Float32Array(r));for(let h=0;h<t;h++)o.set(e[h],h*n);return o}function I0(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function B0(e,t){for(let n=0,r=e.length;n<r;n++)e[n]=t[n]}let As=0;function Pl(e){As>100||(console.warn(e),As++,As>100&&console.warn("More than 100 program warnings - stopping logs."))}const Es=new Zt;let D0=1;class V0{constructor({canvas:t=document.createElement("canvas"),width:n=300,height:r=150,dpr:o=1,alpha:h=!1,depth:l=!0,stencil:u=!1,antialias:d=!1,premultipliedAlpha:p=!1,preserveDrawingBuffer:m=!1,powerPreference:_="default",autoClear:y=!0,webgl:x=2}={}){const b={alpha:h,depth:l,stencil:u,antialias:d,premultipliedAlpha:p,preserveDrawingBuffer:m,powerPreference:_};this.dpr=o,this.alpha=h,this.color=!0,this.depth=l,this.stencil=u,this.premultipliedAlpha=p,this.autoClear=y,this.id=D0++,x===2&&(this.gl=t.getContext("webgl2",b)),this.isWebgl2=!!this.gl,this.gl||(this.gl=t.getContext("webgl",b)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(n,r),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(t,n){this.width=t,this.height=n,this.gl.canvas.width=t*this.dpr,this.gl.canvas.height=n*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:t+"px",height:n+"px"})}setViewport(t,n,r=0,o=0){this.state.viewport.width===t&&this.state.viewport.height===n||(this.state.viewport.width=t,this.state.viewport.height=n,this.state.viewport.x=r,this.state.viewport.y=o,this.gl.viewport(r,o,t,n))}setScissor(t,n,r=0,o=0){this.gl.scissor(r,o,t,n)}enable(t){this.state[t]!==!0&&(this.gl.enable(t),this.state[t]=!0)}disable(t){this.state[t]!==!1&&(this.gl.disable(t),this.state[t]=!1)}setBlendFunc(t,n,r,o){this.state.blendFunc.src===t&&this.state.blendFunc.dst===n&&this.state.blendFunc.srcAlpha===r&&this.state.blendFunc.dstAlpha===o||(this.state.blendFunc.src=t,this.state.blendFunc.dst=n,this.state.blendFunc.srcAlpha=r,this.state.blendFunc.dstAlpha=o,r!==void 0?this.gl.blendFuncSeparate(t,n,r,o):this.gl.blendFunc(t,n))}setBlendEquation(t,n){t=t||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===t&&this.state.blendEquation.modeAlpha===n)&&(this.state.blendEquation.modeRGB=t,this.state.blendEquation.modeAlpha=n,n!==void 0?this.gl.blendEquationSeparate(t,n):this.gl.blendEquation(t))}setCullFace(t){this.state.cullFace!==t&&(this.state.cullFace=t,this.gl.cullFace(t))}setFrontFace(t){this.state.frontFace!==t&&(this.state.frontFace=t,this.gl.frontFace(t))}setDepthMask(t){this.state.depthMask!==t&&(this.state.depthMask=t,this.gl.depthMask(t))}setDepthFunc(t){this.state.depthFunc!==t&&(this.state.depthFunc=t,this.gl.depthFunc(t))}setStencilMask(t){this.state.stencilMask!==t&&(this.state.stencilMask=t,this.gl.stencilMask(t))}setStencilFunc(t,n,r){this.state.stencilFunc===t&&this.state.stencilRef===n&&this.state.stencilFuncMask===r||(this.state.stencilFunc=t||this.gl.ALWAYS,this.state.stencilRef=n||0,this.state.stencilFuncMask=r||0,this.gl.stencilFunc(t||this.gl.ALWAYS,n||0,r||0))}setStencilOp(t,n,r){this.state.stencilFail===t&&this.state.stencilDepthFail===n&&this.state.stencilDepthPass===r||(this.state.stencilFail=t,this.state.stencilDepthFail=n,this.state.stencilDepthPass=r,this.gl.stencilOp(t,n,r))}activeTexture(t){this.state.activeTextureUnit!==t&&(this.state.activeTextureUnit=t,this.gl.activeTexture(this.gl.TEXTURE0+t))}bindFramebuffer({target:t=this.gl.FRAMEBUFFER,buffer:n=null}={}){this.state.framebuffer!==n&&(this.state.framebuffer=n,this.gl.bindFramebuffer(t,n))}getExtension(t,n,r){return n&&this.gl[n]?this.gl[n].bind(this.gl):(this.extensions[t]||(this.extensions[t]=this.gl.getExtension(t)),n?this.extensions[t]?this.extensions[t][r].bind(this.extensions[t]):null:this.extensions[t])}sortOpaque(t,n){return t.renderOrder!==n.renderOrder?t.renderOrder-n.renderOrder:t.program.id!==n.program.id?t.program.id-n.program.id:t.zDepth!==n.zDepth?t.zDepth-n.zDepth:n.id-t.id}sortTransparent(t,n){return t.renderOrder!==n.renderOrder?t.renderOrder-n.renderOrder:t.zDepth!==n.zDepth?n.zDepth-t.zDepth:n.id-t.id}sortUI(t,n){return t.renderOrder!==n.renderOrder?t.renderOrder-n.renderOrder:t.program.id!==n.program.id?t.program.id-n.program.id:n.id-t.id}getRenderList({scene:t,camera:n,frustumCull:r,sort:o}){let h=[];if(n&&r&&n.updateFrustum(),t.traverse(l=>{if(!l.visible)return!0;l.draw&&(r&&l.frustumCulled&&n&&!n.frustumIntersectsMesh(l)||h.push(l))}),o){const l=[],u=[],d=[];h.forEach(p=>{p.program.transparent?p.program.depthTest?u.push(p):d.push(p):l.push(p),p.zDepth=0,!(p.renderOrder!==0||!p.program.depthTest||!n)&&(p.worldMatrix.getTranslation(Es),Es.applyMatrix4(n.projectionViewMatrix),p.zDepth=Es.z)}),l.sort(this.sortOpaque),u.sort(this.sortTransparent),d.sort(this.sortUI),h=l.concat(u,d)}return h}render({scene:t,camera:n,target:r=null,update:o=!0,sort:h=!0,frustumCull:l=!0,clear:u}){r===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(r),this.setViewport(r.width,r.height)),(u||this.autoClear&&u!==!1)&&(this.depth&&(!r||r.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!r||r.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),o&&t.updateMatrixWorld(),n&&n.updateMatrixWorld(),this.getRenderList({scene:t,camera:n,frustumCull:l,sort:h}).forEach(p=>{p.draw({camera:n})})}}function F0(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Z0(e,t,n,r,o){return e[0]=t,e[1]=n,e[2]=r,e[3]=o,e}function W0(e,t){let n=t[0],r=t[1],o=t[2],h=t[3],l=n*n+r*r+o*o+h*h;return l>0&&(l=1/Math.sqrt(l)),e[0]=n*l,e[1]=r*l,e[2]=o*l,e[3]=h*l,e}function H0(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function U0(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function q0(e,t,n){n=n*.5;let r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function Tl(e,t,n){let r=t[0],o=t[1],h=t[2],l=t[3],u=n[0],d=n[1],p=n[2],m=n[3];return e[0]=r*m+l*u+o*p-h*d,e[1]=o*m+l*d+h*u-r*p,e[2]=h*m+l*p+r*d-o*u,e[3]=l*m-r*u-o*d-h*p,e}function $0(e,t,n){n*=.5;let r=t[0],o=t[1],h=t[2],l=t[3],u=Math.sin(n),d=Math.cos(n);return e[0]=r*d+l*u,e[1]=o*d+h*u,e[2]=h*d-o*u,e[3]=l*d-r*u,e}function G0(e,t,n){n*=.5;let r=t[0],o=t[1],h=t[2],l=t[3],u=Math.sin(n),d=Math.cos(n);return e[0]=r*d-h*u,e[1]=o*d+l*u,e[2]=h*d+r*u,e[3]=l*d-o*u,e}function K0(e,t,n){n*=.5;let r=t[0],o=t[1],h=t[2],l=t[3],u=Math.sin(n),d=Math.cos(n);return e[0]=r*d+o*u,e[1]=o*d-r*u,e[2]=h*d+l*u,e[3]=l*d-h*u,e}function Y0(e,t,n,r){let o=t[0],h=t[1],l=t[2],u=t[3],d=n[0],p=n[1],m=n[2],_=n[3],y,x,b,P,M;return x=o*d+h*p+l*m+u*_,x<0&&(x=-x,d=-d,p=-p,m=-m,_=-_),1-x>1e-6?(y=Math.acos(x),b=Math.sin(y),P=Math.sin((1-r)*y)/b,M=Math.sin(r*y)/b):(P=1-r,M=r),e[0]=P*o+M*d,e[1]=P*h+M*p,e[2]=P*l+M*m,e[3]=P*u+M*_,e}function X0(e,t){let n=t[0],r=t[1],o=t[2],h=t[3],l=n*n+r*r+o*o+h*h,u=l?1/l:0;return e[0]=-n*u,e[1]=-r*u,e[2]=-o*u,e[3]=h*u,e}function J0(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function Q0(e,t){let n=t[0]+t[4]+t[8],r;if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{let o=0;t[4]>t[0]&&(o=1),t[8]>t[o*3+o]&&(o=2);let h=(o+1)%3,l=(o+2)%3;r=Math.sqrt(t[o*3+o]-t[h*3+h]-t[l*3+l]+1),e[o]=.5*r,r=.5/r,e[3]=(t[h*3+l]-t[l*3+h])*r,e[h]=(t[h*3+o]+t[o*3+h])*r,e[l]=(t[l*3+o]+t[o*3+l])*r}return e}function t_(e,t,n="YXZ"){let r=Math.sin(t[0]*.5),o=Math.cos(t[0]*.5),h=Math.sin(t[1]*.5),l=Math.cos(t[1]*.5),u=Math.sin(t[2]*.5),d=Math.cos(t[2]*.5);return n==="XYZ"?(e[0]=r*l*d+o*h*u,e[1]=o*h*d-r*l*u,e[2]=o*l*u+r*h*d,e[3]=o*l*d-r*h*u):n==="YXZ"?(e[0]=r*l*d+o*h*u,e[1]=o*h*d-r*l*u,e[2]=o*l*u-r*h*d,e[3]=o*l*d+r*h*u):n==="ZXY"?(e[0]=r*l*d-o*h*u,e[1]=o*h*d+r*l*u,e[2]=o*l*u+r*h*d,e[3]=o*l*d-r*h*u):n==="ZYX"?(e[0]=r*l*d-o*h*u,e[1]=o*h*d+r*l*u,e[2]=o*l*u-r*h*d,e[3]=o*l*d+r*h*u):n==="YZX"?(e[0]=r*l*d+o*h*u,e[1]=o*h*d+r*l*u,e[2]=o*l*u-r*h*d,e[3]=o*l*d-r*h*u):n==="XZY"&&(e[0]=r*l*d-o*h*u,e[1]=o*h*d-r*l*u,e[2]=o*l*u+r*h*d,e[3]=o*l*d+r*h*u),e}const e_=F0,i_=Z0,n_=H0,s_=W0;class r_ extends Array{constructor(t=0,n=0,r=0,o=1){super(t,n,r,o),this.onChange=()=>{},this._target=this;const h=["0","1","2","3"];return new Proxy(this,{set(l,u){const d=Reflect.set(...arguments);return d&&h.includes(u)&&l.onChange(),d}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(t){this._target[0]=t,this.onChange()}set y(t){this._target[1]=t,this.onChange()}set z(t){this._target[2]=t,this.onChange()}set w(t){this._target[3]=t,this.onChange()}identity(){return U0(this._target),this.onChange(),this}set(t,n,r,o){return t.length?this.copy(t):(i_(this._target,t,n,r,o),this.onChange(),this)}rotateX(t){return $0(this._target,this._target,t),this.onChange(),this}rotateY(t){return G0(this._target,this._target,t),this.onChange(),this}rotateZ(t){return K0(this._target,this._target,t),this.onChange(),this}inverse(t=this._target){return X0(this._target,t),this.onChange(),this}conjugate(t=this._target){return J0(this._target,t),this.onChange(),this}copy(t){return e_(this._target,t),this.onChange(),this}normalize(t=this._target){return s_(this._target,t),this.onChange(),this}multiply(t,n){return n?Tl(this._target,t,n):Tl(this._target,this._target,t),this.onChange(),this}dot(t){return n_(this._target,t)}fromMatrix3(t){return Q0(this._target,t),this.onChange(),this}fromEuler(t,n){return t_(this._target,t,t.order),n||this.onChange(),this}fromAxisAngle(t,n){return q0(this._target,t,n),this.onChange(),this}slerp(t,n){return Y0(this._target,this._target,t,n),this.onChange(),this}fromArray(t,n=0){return this._target[0]=t[n],this._target[1]=t[n+1],this._target[2]=t[n+2],this._target[3]=t[n+3],this.onChange(),this}toArray(t=[],n=0){return t[n]=this[0],t[n+1]=this[1],t[n+2]=this[2],t[n+3]=this[3],t}}const o_=1e-6;function a_(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function l_(e,t,n,r,o,h,l,u,d,p,m,_,y,x,b,P,M){return e[0]=t,e[1]=n,e[2]=r,e[3]=o,e[4]=h,e[5]=l,e[6]=u,e[7]=d,e[8]=p,e[9]=m,e[10]=_,e[11]=y,e[12]=x,e[13]=b,e[14]=P,e[15]=M,e}function h_(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function c_(e,t){let n=t[0],r=t[1],o=t[2],h=t[3],l=t[4],u=t[5],d=t[6],p=t[7],m=t[8],_=t[9],y=t[10],x=t[11],b=t[12],P=t[13],M=t[14],C=t[15],k=n*u-r*l,A=n*d-o*l,R=n*p-h*l,z=r*d-o*u,N=r*p-h*u,B=o*p-h*d,I=m*P-_*b,V=m*M-y*b,G=m*C-x*b,D=_*M-y*P,U=_*C-x*P,nt=y*C-x*M,F=k*nt-A*U+R*D+z*G-N*V+B*I;return F?(F=1/F,e[0]=(u*nt-d*U+p*D)*F,e[1]=(o*U-r*nt-h*D)*F,e[2]=(P*B-M*N+C*z)*F,e[3]=(y*N-_*B-x*z)*F,e[4]=(d*G-l*nt-p*V)*F,e[5]=(n*nt-o*G+h*V)*F,e[6]=(M*R-b*B-C*A)*F,e[7]=(m*B-y*R+x*A)*F,e[8]=(l*U-u*G+p*I)*F,e[9]=(r*G-n*U-h*I)*F,e[10]=(b*N-P*R+C*k)*F,e[11]=(_*R-m*N-x*k)*F,e[12]=(u*V-l*D-d*I)*F,e[13]=(n*D-r*V+o*I)*F,e[14]=(P*A-b*z-M*k)*F,e[15]=(m*z-_*A+y*k)*F,e):null}function yc(e){let t=e[0],n=e[1],r=e[2],o=e[3],h=e[4],l=e[5],u=e[6],d=e[7],p=e[8],m=e[9],_=e[10],y=e[11],x=e[12],b=e[13],P=e[14],M=e[15],C=t*l-n*h,k=t*u-r*h,A=t*d-o*h,R=n*u-r*l,z=n*d-o*l,N=r*d-o*u,B=p*b-m*x,I=p*P-_*x,V=p*M-y*x,G=m*P-_*b,D=m*M-y*b,U=_*M-y*P;return C*U-k*D+A*G+R*V-z*I+N*B}function Ll(e,t,n){let r=t[0],o=t[1],h=t[2],l=t[3],u=t[4],d=t[5],p=t[6],m=t[7],_=t[8],y=t[9],x=t[10],b=t[11],P=t[12],M=t[13],C=t[14],k=t[15],A=n[0],R=n[1],z=n[2],N=n[3];return e[0]=A*r+R*u+z*_+N*P,e[1]=A*o+R*d+z*y+N*M,e[2]=A*h+R*p+z*x+N*C,e[3]=A*l+R*m+z*b+N*k,A=n[4],R=n[5],z=n[6],N=n[7],e[4]=A*r+R*u+z*_+N*P,e[5]=A*o+R*d+z*y+N*M,e[6]=A*h+R*p+z*x+N*C,e[7]=A*l+R*m+z*b+N*k,A=n[8],R=n[9],z=n[10],N=n[11],e[8]=A*r+R*u+z*_+N*P,e[9]=A*o+R*d+z*y+N*M,e[10]=A*h+R*p+z*x+N*C,e[11]=A*l+R*m+z*b+N*k,A=n[12],R=n[13],z=n[14],N=n[15],e[12]=A*r+R*u+z*_+N*P,e[13]=A*o+R*d+z*y+N*M,e[14]=A*h+R*p+z*x+N*C,e[15]=A*l+R*m+z*b+N*k,e}function u_(e,t,n){let r=n[0],o=n[1],h=n[2],l,u,d,p,m,_,y,x,b,P,M,C;return t===e?(e[12]=t[0]*r+t[4]*o+t[8]*h+t[12],e[13]=t[1]*r+t[5]*o+t[9]*h+t[13],e[14]=t[2]*r+t[6]*o+t[10]*h+t[14],e[15]=t[3]*r+t[7]*o+t[11]*h+t[15]):(l=t[0],u=t[1],d=t[2],p=t[3],m=t[4],_=t[5],y=t[6],x=t[7],b=t[8],P=t[9],M=t[10],C=t[11],e[0]=l,e[1]=u,e[2]=d,e[3]=p,e[4]=m,e[5]=_,e[6]=y,e[7]=x,e[8]=b,e[9]=P,e[10]=M,e[11]=C,e[12]=l*r+m*o+b*h+t[12],e[13]=u*r+_*o+P*h+t[13],e[14]=d*r+y*o+M*h+t[14],e[15]=p*r+x*o+C*h+t[15]),e}function d_(e,t,n){let r=n[0],o=n[1],h=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=t[7]*o,e[8]=t[8]*h,e[9]=t[9]*h,e[10]=t[10]*h,e[11]=t[11]*h,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function f_(e,t,n,r){let o=r[0],h=r[1],l=r[2],u=Math.hypot(o,h,l),d,p,m,_,y,x,b,P,M,C,k,A,R,z,N,B,I,V,G,D,U,nt,F,jt;return Math.abs(u)<o_?null:(u=1/u,o*=u,h*=u,l*=u,d=Math.sin(n),p=Math.cos(n),m=1-p,_=t[0],y=t[1],x=t[2],b=t[3],P=t[4],M=t[5],C=t[6],k=t[7],A=t[8],R=t[9],z=t[10],N=t[11],B=o*o*m+p,I=h*o*m+l*d,V=l*o*m-h*d,G=o*h*m-l*d,D=h*h*m+p,U=l*h*m+o*d,nt=o*l*m+h*d,F=h*l*m-o*d,jt=l*l*m+p,e[0]=_*B+P*I+A*V,e[1]=y*B+M*I+R*V,e[2]=x*B+C*I+z*V,e[3]=b*B+k*I+N*V,e[4]=_*G+P*D+A*U,e[5]=y*G+M*D+R*U,e[6]=x*G+C*D+z*U,e[7]=b*G+k*D+N*U,e[8]=_*nt+P*F+A*jt,e[9]=y*nt+M*F+R*jt,e[10]=x*nt+C*F+z*jt,e[11]=b*nt+k*F+N*jt,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function m_(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function xc(e,t){let n=t[0],r=t[1],o=t[2],h=t[4],l=t[5],u=t[6],d=t[8],p=t[9],m=t[10];return e[0]=Math.hypot(n,r,o),e[1]=Math.hypot(h,l,u),e[2]=Math.hypot(d,p,m),e}function p_(e){let t=e[0],n=e[1],r=e[2],o=e[4],h=e[5],l=e[6],u=e[8],d=e[9],p=e[10];const m=t*t+n*n+r*r,_=o*o+h*h+l*l,y=u*u+d*d+p*p;return Math.sqrt(Math.max(m,_,y))}const wc=function(){const e=[1,1,1];return function(t,n){let r=e;xc(r,n);let o=1/r[0],h=1/r[1],l=1/r[2],u=n[0]*o,d=n[1]*h,p=n[2]*l,m=n[4]*o,_=n[5]*h,y=n[6]*l,x=n[8]*o,b=n[9]*h,P=n[10]*l,M=u+_+P,C=0;return M>0?(C=Math.sqrt(M+1)*2,t[3]=.25*C,t[0]=(y-b)/C,t[1]=(x-p)/C,t[2]=(d-m)/C):u>_&&u>P?(C=Math.sqrt(1+u-_-P)*2,t[3]=(y-b)/C,t[0]=.25*C,t[1]=(d+m)/C,t[2]=(x+p)/C):_>P?(C=Math.sqrt(1+_-u-P)*2,t[3]=(x-p)/C,t[0]=(d+m)/C,t[1]=.25*C,t[2]=(y+b)/C):(C=Math.sqrt(1+P-u-_)*2,t[3]=(d-m)/C,t[0]=(x+p)/C,t[1]=(y+b)/C,t[2]=.25*C),t}}();function g_(e,t,n,r){let o=Ei([e[0],e[1],e[2]]);const h=Ei([e[4],e[5],e[6]]),l=Ei([e[8],e[9],e[10]]);yc(e)<0&&(o=-o),n[0]=e[12],n[1]=e[13],n[2]=e[14];const d=e.slice(),p=1/o,m=1/h,_=1/l;d[0]*=p,d[1]*=p,d[2]*=p,d[4]*=m,d[5]*=m,d[6]*=m,d[8]*=_,d[9]*=_,d[10]*=_,wc(t,d),r[0]=o,r[1]=h,r[2]=l}function __(e,t,n,r){const o=e,h=t[0],l=t[1],u=t[2],d=t[3],p=h+h,m=l+l,_=u+u,y=h*p,x=h*m,b=h*_,P=l*m,M=l*_,C=u*_,k=d*p,A=d*m,R=d*_,z=r[0],N=r[1],B=r[2];return o[0]=(1-(P+C))*z,o[1]=(x+R)*z,o[2]=(b-A)*z,o[3]=0,o[4]=(x-R)*N,o[5]=(1-(y+C))*N,o[6]=(M+k)*N,o[7]=0,o[8]=(b+A)*B,o[9]=(M-k)*B,o[10]=(1-(y+P))*B,o[11]=0,o[12]=n[0],o[13]=n[1],o[14]=n[2],o[15]=1,o}function v_(e,t){let n=t[0],r=t[1],o=t[2],h=t[3],l=n+n,u=r+r,d=o+o,p=n*l,m=r*l,_=r*u,y=o*l,x=o*u,b=o*d,P=h*l,M=h*u,C=h*d;return e[0]=1-_-b,e[1]=m+C,e[2]=y-M,e[3]=0,e[4]=m-C,e[5]=1-p-b,e[6]=x+P,e[7]=0,e[8]=y+M,e[9]=x-P,e[10]=1-p-_,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function y_(e,t,n,r,o){let h=1/Math.tan(t/2),l=1/(r-o);return e[0]=h/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=h,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(o+r)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*o*r*l,e[15]=0,e}function x_(e,t,n,r,o,h,l){let u=1/(t-n),d=1/(r-o),p=1/(h-l);return e[0]=-2*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*d,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*p,e[11]=0,e[12]=(t+n)*u,e[13]=(o+r)*d,e[14]=(l+h)*p,e[15]=1,e}function w_(e,t,n,r){let o=t[0],h=t[1],l=t[2],u=r[0],d=r[1],p=r[2],m=o-n[0],_=h-n[1],y=l-n[2],x=m*m+_*_+y*y;x===0?y=1:(x=1/Math.sqrt(x),m*=x,_*=x,y*=x);let b=d*y-p*_,P=p*m-u*y,M=u*_-d*m;return x=b*b+P*P+M*M,x===0&&(p?u+=1e-6:d?p+=1e-6:d+=1e-6,b=d*y-p*_,P=p*m-u*y,M=u*_-d*m,x=b*b+P*P+M*M),x=1/Math.sqrt(x),b*=x,P*=x,M*=x,e[0]=b,e[1]=P,e[2]=M,e[3]=0,e[4]=_*M-y*P,e[5]=y*b-m*M,e[6]=m*P-_*b,e[7]=0,e[8]=m,e[9]=_,e[10]=y,e[11]=0,e[12]=o,e[13]=h,e[14]=l,e[15]=1,e}function Ml(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function Cl(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function b_(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}class En extends Array{constructor(t=1,n=0,r=0,o=0,h=0,l=1,u=0,d=0,p=0,m=0,_=1,y=0,x=0,b=0,P=0,M=1){return super(t,n,r,o,h,l,u,d,p,m,_,y,x,b,P,M),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(t){this[12]=t}set y(t){this[13]=t}set z(t){this[14]=t}set w(t){this[15]=t}set(t,n,r,o,h,l,u,d,p,m,_,y,x,b,P,M){return t.length?this.copy(t):(l_(this,t,n,r,o,h,l,u,d,p,m,_,y,x,b,P,M),this)}translate(t,n=this){return u_(this,n,t),this}rotate(t,n,r=this){return f_(this,r,t,n),this}scale(t,n=this){return d_(this,n,typeof t=="number"?[t,t,t]:t),this}add(t,n){return n?Ml(this,t,n):Ml(this,this,t),this}sub(t,n){return n?Cl(this,t,n):Cl(this,this,t),this}multiply(t,n){return t.length?n?Ll(this,t,n):Ll(this,this,t):b_(this,this,t),this}identity(){return h_(this),this}copy(t){return a_(this,t),this}fromPerspective({fov:t,aspect:n,near:r,far:o}={}){return y_(this,t,n,r,o),this}fromOrthogonal({left:t,right:n,bottom:r,top:o,near:h,far:l}){return x_(this,t,n,r,o,h,l),this}fromQuaternion(t){return v_(this,t),this}setPosition(t){return this.x=t[0],this.y=t[1],this.z=t[2],this}inverse(t=this){return c_(this,t),this}compose(t,n,r){return __(this,t,n,r),this}decompose(t,n,r){return g_(this,t,n,r),this}getRotation(t){return wc(t,this),this}getTranslation(t){return m_(t,this),this}getScaling(t){return xc(t,this),this}getMaxScaleOnAxis(){return p_(this)}lookAt(t,n,r){return w_(this,t,n,r),this}determinant(){return yc(this)}fromArray(t,n=0){return this[0]=t[n],this[1]=t[n+1],this[2]=t[n+2],this[3]=t[n+3],this[4]=t[n+4],this[5]=t[n+5],this[6]=t[n+6],this[7]=t[n+7],this[8]=t[n+8],this[9]=t[n+9],this[10]=t[n+10],this[11]=t[n+11],this[12]=t[n+12],this[13]=t[n+13],this[14]=t[n+14],this[15]=t[n+15],this}toArray(t=[],n=0){return t[n]=this[0],t[n+1]=this[1],t[n+2]=this[2],t[n+3]=this[3],t[n+4]=this[4],t[n+5]=this[5],t[n+6]=this[6],t[n+7]=this[7],t[n+8]=this[8],t[n+9]=this[9],t[n+10]=this[10],t[n+11]=this[11],t[n+12]=this[12],t[n+13]=this[13],t[n+14]=this[14],t[n+15]=this[15],t}}function P_(e,t,n="YXZ"){return n==="XYZ"?(e[1]=Math.asin(Math.min(Math.max(t[8],-1),1)),Math.abs(t[8])<.99999?(e[0]=Math.atan2(-t[9],t[10]),e[2]=Math.atan2(-t[4],t[0])):(e[0]=Math.atan2(t[6],t[5]),e[2]=0)):n==="YXZ"?(e[0]=Math.asin(-Math.min(Math.max(t[9],-1),1)),Math.abs(t[9])<.99999?(e[1]=Math.atan2(t[8],t[10]),e[2]=Math.atan2(t[1],t[5])):(e[1]=Math.atan2(-t[2],t[0]),e[2]=0)):n==="ZXY"?(e[0]=Math.asin(Math.min(Math.max(t[6],-1),1)),Math.abs(t[6])<.99999?(e[1]=Math.atan2(-t[2],t[10]),e[2]=Math.atan2(-t[4],t[5])):(e[1]=0,e[2]=Math.atan2(t[1],t[0]))):n==="ZYX"?(e[1]=Math.asin(-Math.min(Math.max(t[2],-1),1)),Math.abs(t[2])<.99999?(e[0]=Math.atan2(t[6],t[10]),e[2]=Math.atan2(t[1],t[0])):(e[0]=0,e[2]=Math.atan2(-t[4],t[5]))):n==="YZX"?(e[2]=Math.asin(Math.min(Math.max(t[1],-1),1)),Math.abs(t[1])<.99999?(e[0]=Math.atan2(-t[9],t[5]),e[1]=Math.atan2(-t[2],t[0])):(e[0]=0,e[1]=Math.atan2(t[8],t[10]))):n==="XZY"&&(e[2]=Math.asin(-Math.min(Math.max(t[4],-1),1)),Math.abs(t[4])<.99999?(e[0]=Math.atan2(t[6],t[5]),e[1]=Math.atan2(t[8],t[0])):(e[0]=Math.atan2(-t[9],t[10]),e[1]=0)),e}const Sl=new En;class T_ extends Array{constructor(t=0,n=t,r=t,o="YXZ"){super(t,n,r),this.order=o,this.onChange=()=>{},this._target=this;const h=["0","1","2"];return new Proxy(this,{set(l,u){const d=Reflect.set(...arguments);return d&&h.includes(u)&&l.onChange(),d}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this._target[0]=t,this.onChange()}set y(t){this._target[1]=t,this.onChange()}set z(t){this._target[2]=t,this.onChange()}set(t,n=t,r=t){return t.length?this.copy(t):(this._target[0]=t,this._target[1]=n,this._target[2]=r,this.onChange(),this)}copy(t){return this._target[0]=t[0],this._target[1]=t[1],this._target[2]=t[2],this.onChange(),this}reorder(t){return this._target.order=t,this.onChange(),this}fromRotationMatrix(t,n=this.order){return P_(this._target,t,n),this.onChange(),this}fromQuaternion(t,n=this.order,r){return Sl.fromQuaternion(t),this._target.fromRotationMatrix(Sl,n),r||this.onChange(),this}fromArray(t,n=0){return this._target[0]=t[n],this._target[1]=t[n+1],this._target[2]=t[n+2],this}toArray(t=[],n=0){return t[n]=this[0],t[n+1]=this[1],t[n+2]=this[2],t}}class L_{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new En,this.worldMatrix=new En,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new Zt,this.quaternion=new r_,this.scale=new Zt(1),this.rotation=new T_,this.up=new Zt(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(t,n=!0){this.parent&&t!==this.parent&&this.parent.removeChild(this,!1),this.parent=t,n&&t&&t.addChild(this,!1)}addChild(t,n=!0){~this.children.indexOf(t)||this.children.push(t),n&&t.setParent(this,!1)}removeChild(t,n=!0){~this.children.indexOf(t)&&this.children.splice(this.children.indexOf(t),1),n&&t.setParent(null,!1)}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||t)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,t=!0);for(let n=0,r=this.children.length;n<r;n++)this.children[n].updateMatrixWorld(t)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(t){if(!t(this))for(let n=0,r=this.children.length;n<r;n++)this.children[n].traverse(t)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(t,n=!1){n?this.matrix.lookAt(this.position,t,this.up):this.matrix.lookAt(t,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function M_(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function C_(e,t){let n=t[0],r=t[1],o=t[2],h=t[3],l=n+n,u=r+r,d=o+o,p=n*l,m=r*l,_=r*u,y=o*l,x=o*u,b=o*d,P=h*l,M=h*u,C=h*d;return e[0]=1-_-b,e[3]=m-C,e[6]=y+M,e[1]=m+C,e[4]=1-p-b,e[7]=x-P,e[2]=y-M,e[5]=x+P,e[8]=1-p-_,e}function S_(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function A_(e,t,n,r,o,h,l,u,d,p){return e[0]=t,e[1]=n,e[2]=r,e[3]=o,e[4]=h,e[5]=l,e[6]=u,e[7]=d,e[8]=p,e}function E_(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function k_(e,t){let n=t[0],r=t[1],o=t[2],h=t[3],l=t[4],u=t[5],d=t[6],p=t[7],m=t[8],_=m*l-u*p,y=-m*h+u*d,x=p*h-l*d,b=n*_+r*y+o*x;return b?(b=1/b,e[0]=_*b,e[1]=(-m*r+o*p)*b,e[2]=(u*r-o*l)*b,e[3]=y*b,e[4]=(m*n-o*d)*b,e[5]=(-u*n+o*h)*b,e[6]=x*b,e[7]=(-p*n+r*d)*b,e[8]=(l*n-r*h)*b,e):null}function Al(e,t,n){let r=t[0],o=t[1],h=t[2],l=t[3],u=t[4],d=t[5],p=t[6],m=t[7],_=t[8],y=n[0],x=n[1],b=n[2],P=n[3],M=n[4],C=n[5],k=n[6],A=n[7],R=n[8];return e[0]=y*r+x*l+b*p,e[1]=y*o+x*u+b*m,e[2]=y*h+x*d+b*_,e[3]=P*r+M*l+C*p,e[4]=P*o+M*u+C*m,e[5]=P*h+M*d+C*_,e[6]=k*r+A*l+R*p,e[7]=k*o+A*u+R*m,e[8]=k*h+A*d+R*_,e}function z_(e,t,n){let r=t[0],o=t[1],h=t[2],l=t[3],u=t[4],d=t[5],p=t[6],m=t[7],_=t[8],y=n[0],x=n[1];return e[0]=r,e[1]=o,e[2]=h,e[3]=l,e[4]=u,e[5]=d,e[6]=y*r+x*l+p,e[7]=y*o+x*u+m,e[8]=y*h+x*d+_,e}function O_(e,t,n){let r=t[0],o=t[1],h=t[2],l=t[3],u=t[4],d=t[5],p=t[6],m=t[7],_=t[8],y=Math.sin(n),x=Math.cos(n);return e[0]=x*r+y*l,e[1]=x*o+y*u,e[2]=x*h+y*d,e[3]=x*l-y*r,e[4]=x*u-y*o,e[5]=x*d-y*h,e[6]=p,e[7]=m,e[8]=_,e}function R_(e,t,n){let r=n[0],o=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=o*t[3],e[4]=o*t[4],e[5]=o*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function N_(e,t){let n=t[0],r=t[1],o=t[2],h=t[3],l=t[4],u=t[5],d=t[6],p=t[7],m=t[8],_=t[9],y=t[10],x=t[11],b=t[12],P=t[13],M=t[14],C=t[15],k=n*u-r*l,A=n*d-o*l,R=n*p-h*l,z=r*d-o*u,N=r*p-h*u,B=o*p-h*d,I=m*P-_*b,V=m*M-y*b,G=m*C-x*b,D=_*M-y*P,U=_*C-x*P,nt=y*C-x*M,F=k*nt-A*U+R*D+z*G-N*V+B*I;return F?(F=1/F,e[0]=(u*nt-d*U+p*D)*F,e[1]=(d*G-l*nt-p*V)*F,e[2]=(l*U-u*G+p*I)*F,e[3]=(o*U-r*nt-h*D)*F,e[4]=(n*nt-o*G+h*V)*F,e[5]=(r*G-n*U-h*I)*F,e[6]=(P*B-M*N+C*z)*F,e[7]=(M*R-b*B-C*A)*F,e[8]=(b*N-P*R+C*k)*F,e):null}class j_ extends Array{constructor(t=1,n=0,r=0,o=0,h=1,l=0,u=0,d=0,p=1){return super(t,n,r,o,h,l,u,d,p),this}set(t,n,r,o,h,l,u,d,p){return t.length?this.copy(t):(A_(this,t,n,r,o,h,l,u,d,p),this)}translate(t,n=this){return z_(this,n,t),this}rotate(t,n=this){return O_(this,n,t),this}scale(t,n=this){return R_(this,n,t),this}multiply(t,n){return n?Al(this,t,n):Al(this,this,t),this}identity(){return E_(this),this}copy(t){return S_(this,t),this}fromMatrix4(t){return M_(this,t),this}fromQuaternion(t){return C_(this,t),this}fromBasis(t,n,r){return this.set(t[0],t[1],t[2],n[0],n[1],n[2],r[0],r[1],r[2]),this}inverse(t=this){return k_(this,t),this}getNormalMatrix(t){return N_(this,t),this}}let I_=0;class B_ extends L_{constructor(t,{geometry:n,program:r,mode:o=t.TRIANGLES,frustumCulled:h=!0,renderOrder:l=0}={}){super(),t.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=t,this.id=I_++,this.geometry=n,this.program=r,this.mode=o,this.frustumCulled=h,this.renderOrder=l,this.modelViewMatrix=new En,this.normalMatrix=new j_,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(t){return this.beforeRenderCallbacks.push(t),this}onAfterRender(t){return this.afterRenderCallbacks.push(t),this}draw({camera:t}={}){t&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=t.projectionMatrix,this.program.uniforms.cameraPosition.value=t.worldPosition,this.program.uniforms.viewMatrix.value=t.viewMatrix,this.modelViewMatrix.multiply(t.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:t}));let n=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:n}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:t}))}}const El={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function kl(e){e.length===4&&(e=e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t||console.warn(`Unable to convert hex string ${e} to rgb values`),[parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255]}function D_(e){return e=parseInt(e),[(e>>16&255)/255,(e>>8&255)/255,(e&255)/255]}function zl(e){return e===void 0?[0,0,0]:arguments.length===3?arguments:isNaN(e)?e[0]==="#"?kl(e):El[e.toLowerCase()]?kl(El[e.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):D_(e)}class Ol extends Array{constructor(t){return Array.isArray(t)?super(...t):super(...zl(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(t){this[0]=t}set g(t){this[1]=t}set b(t){this[2]=t}set(t){return Array.isArray(t)?this.copy(t):this.copy(zl(...arguments))}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this}}class V_ extends O0{constructor(t,{attributes:n={}}={}){Object.assign(n,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(t,n)}}const F_=`
attribute vec2 position;
attribute vec2 uv;
varying vec2 vUv;
void main() {
  vUv = uv;
  gl_Position = vec4(position, 0.0, 1.0);
}
`,Z_=`
precision highp float;

uniform float iTime;
uniform vec3 iResolution;
uniform vec3 uColor;
uniform float uAmplitude;
uniform float uDistance;
uniform vec2 uMouse;

#define PI 3.1415926538

// Reducido número de líneas de 40 a 20 para mejor rendimiento
const int u_line_count = 20;
const float u_line_width = 7.0;
const float u_line_blur = 8.0;

// Versión simplificada de Perlin2D
float Perlin2D(vec2 P) {
    vec2 Pi = floor(P);
    vec4 Pf_Pfmin1 = P.xyxy - vec4(Pi, Pi + 1.0);
    vec4 Pt = vec4(Pi.xy, Pi.xy + 1.0);
    Pt = Pt - floor(Pt * (1.0 / 71.0)) * 71.0;
    Pt += vec2(26.0, 161.0).xyxy;
    Pt *= Pt;
    Pt = Pt.xzxz * Pt.yyww;
    vec4 hash_x = fract(Pt * (1.0 / 951.135664));
    vec4 hash_y = fract(Pt * (1.0 / 642.949883));
    vec4 grad_x = hash_x - 0.49999;
    vec4 grad_y = hash_y - 0.49999;
    vec4 grad_results = inversesqrt(grad_x * grad_x + grad_y * grad_y)
        * (grad_x * Pf_Pfmin1.xzxz + grad_y * Pf_Pfmin1.yyww);
    vec2 blend = Pf_Pfmin1.xy * Pf_Pfmin1.xy * Pf_Pfmin1.xy
               * (Pf_Pfmin1.xy * (Pf_Pfmin1.xy * 6.0 - 15.0) + 10.0);
    vec4 blend2 = vec4(blend, vec2(1.0 - blend));
    return dot(grad_results, blend2.zxzx * blend2.wwyy);
}

float pixel(float count, vec2 resolution) {
    return (1.0 / max(resolution.x, resolution.y)) * count;
}

// Función de línea simplificada
float lineFn(vec2 st, float width, float perc, float offset, vec2 mouse, float time, float amplitude, float distance) {
    float split_point = 0.1 + (perc * 0.4);
    float amplitude_normal = smoothstep(split_point, 0.7, st.x);
    float finalAmplitude = amplitude_normal * 0.5 * amplitude * (1.0 + (mouse.y - 0.5) * 0.2);
    
    // Simplificación del cálculo de noise
    float time_scaled = time / 15.0 + (mouse.x - 0.5) * 0.8;
    float xnoise = Perlin2D(vec2(time_scaled, st.x + perc) * 2.5);
    
    float y = 0.5 + (perc - 0.5) * distance + xnoise / 2.0 * finalAmplitude;
    
    float line_width = width / 2.0 + (u_line_blur * pixel(1.0, iResolution.xy) * perc);
    float line = smoothstep(y + line_width, y - line_width, st.y) - 
                 smoothstep(y, y - line_width * 2.0, st.y);
    
    return clamp(line * (1.0 - pow(perc, 0.3)), 0.0, 1.0);
}

void mainImage(out vec4 fragColor, in vec2 fragCoord) {
    vec2 uv = fragCoord / iResolution.xy;
    
    float line_strength = 0.0;
    for (int i = 0; i < u_line_count; i++) {
        float p = float(i) / float(u_line_count);
        line_strength += lineFn(
            uv,
            u_line_width * pixel(1.0, iResolution.xy) * (1.0 - p),
            p,
            (PI * 1.0) * p,
            uMouse,
            iTime,
            uAmplitude,
            uDistance
        );
    }
    
    line_strength = clamp(line_strength, 0.0, 1.0);
    fragColor = vec4(uColor * line_strength, line_strength);
}

void main() {
    mainImage(gl_FragColor, gl_FragCoord.xy);
}
`,bc=({color:e=[1,1,1],amplitude:t=1,distance:n=0,enableMouseInteraction:r=!1,lowPerformanceMode:o=!1,...h})=>{const l=E.useRef(null),u=E.useRef(),d=E.useRef(0),p=E.useRef(o?3:1);return E.useEffect(()=>{if(!l.current)return;const m=l.current,_=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),y=o||_;p.current=y?3:1;const x=new V0({alpha:!0,antialias:!1}),b=x.gl;b.clearColor(0,0,0,0),b.enable(b.BLEND),b.blendFunc(b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA),m.appendChild(b.canvas);const P=new V_(b),M=new N0(b,{vertex:F_,fragment:Z_,uniforms:{iTime:{value:0},iResolution:{value:new Ol(b.canvas.width,b.canvas.height,b.canvas.width/b.canvas.height)},uColor:{value:new Ol(...e)},uAmplitude:{value:t},uDistance:{value:n},uMouse:{value:new Float32Array([.5,.5])}}}),C=new B_(b,{geometry:P,program:M});let k;function A(){k&&clearTimeout(k),k=setTimeout(()=>{const{clientWidth:D,clientHeight:U}=m,nt=y?.75:1;x.setSize(D*nt,U*nt),b.canvas.style.width="100%",b.canvas.style.height="100%",M.uniforms.iResolution.value.r=b.canvas.width,M.uniforms.iResolution.value.g=b.canvas.height,M.uniforms.iResolution.value.b=b.canvas.width/b.canvas.height},150)}window.addEventListener("resize",A),A();let R=[.5,.5],z=[.5,.5],N=0,B;function I(D){B||(B=setTimeout(()=>{B=null;const U=m.getBoundingClientRect(),nt=(D.clientX-U.left)/U.width,F=1-(D.clientY-U.top)/U.height;z=[nt,F]},50))}function V(){z=[.5,.5]}r&&(m.addEventListener("mousemove",I),m.addEventListener("mouseleave",V));function G(D){if(N++,N%p.current!==0){u.current=requestAnimationFrame(G);return}if(D-d.current<(y?33:16)){u.current=requestAnimationFrame(G);return}if(d.current=D,r){const F=y?.2:.05;R[0]+=F*(z[0]-R[0]),R[1]+=F*(z[1]-R[1]),M.uniforms.uMouse.value[0]=R[0],M.uniforms.uMouse.value[1]=R[1]}else M.uniforms.uMouse.value[0]=.5,M.uniforms.uMouse.value[1]=.5;const nt=y?6e-4:.001;M.uniforms.iTime.value=D*nt,x.render({scene:C}),u.current=requestAnimationFrame(G)}return u.current=requestAnimationFrame(G),()=>{var D;u.current&&cancelAnimationFrame(u.current),window.removeEventListener("resize",A),r&&(m.removeEventListener("mousemove",I),m.removeEventListener("mouseleave",V)),m.contains(b.canvas)&&m.removeChild(b.canvas),(D=b.getExtension("WEBGL_lose_context"))==null||D.loseContext()}},[e,t,n,r,o]),v.jsx("div",{ref:l,className:"w-full h-full relative",...h})},W_=()=>{const[e,t]=E.useState(!1);E.useEffect(()=>{const l=navigator.userAgent||"",u=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(l),p=(navigator.hardwareConcurrency||4)<=4,m=navigator.deviceMemory&&navigator.deviceMemory<4;t(u||p||m)},[]),Qs(.2);const n=Qs(e?-.05:-.1),r={hidden:{opacity:0},visible:{opacity:1,transition:{delayChildren:.1,staggerChildren:.1}}},o={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.6,ease:[.22,1,.36,1]}}},h={hidden:{opacity:0,y:-30},visible:{opacity:1,y:0,transition:{duration:.8,ease:[.22,1,.36,1]}}};return v.jsxs("section",{id:"home",className:"min-h-screen relative flex items-center justify-center overflow-hidden py-20 bg-white",children:[v.jsx("div",{className:"absolute inset-0 z-0 opacity-30 hidden md:block",children:v.jsx(bc,{amplitude:.8,distance:0,enableMouseInteraction:!e,lowPerformanceMode:e,color:[.37,.42,.69]})}),v.jsx("div",{className:"container mx-auto px-4 z-10",children:v.jsxs(K.div,{className:"max-w-4xl mx-auto text-center",initial:"hidden",animate:"visible",variants:r,style:n.style,children:[v.jsxs(K.div,{className:"relative mb-6",variants:o,children:[v.jsx("div",{className:"relative z-10",children:v.jsxs(K.h1,{className:"text-4xl md:text-6xl lg:text-7xl font-display font-bold",initial:{opacity:0,filter:"blur(10px)"},animate:{opacity:1,filter:"blur(0px)"},transition:{duration:1,delay:.2},children:[v.jsx(K.span,{className:"block font-display font-bold text-[#2c3655] drop-shadow-sm",variants:h,children:"Encuentra tu"}),v.jsx(K.span,{className:"font-display font-bold text-primary-600 drop-shadow-sm",variants:h,children:"equilibrio emocional"})]})}),v.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-[2px] rounded-xl -z-[1]"})]}),v.jsxs(K.div,{className:"relative mb-8",variants:o,children:[v.jsx(K.p,{className:"text-lg md:text-xl text-neutral-700 max-w-2xl mx-auto relative z-10",children:"Soy Ángela Sophia, psicóloga con un enfoque innovador en terapia cognitivo-conductual. Te acompaño en tu camino hacia el bienestar emocional con una perspectiva fresca y métodos actualizados."}),v.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-[2px] rounded-lg -z-[1]"})]}),v.jsx(K.div,{className:"flex flex-col sm:flex-row justify-center gap-4 w-full max-w-md mx-auto",variants:o,children:v.jsx(Re,{variant:"outline",size:"lg",className:"w-full shadow-md relative z-10 bg-primary-50 border-primary-200 text-primary-800 hover:bg-primary-100",onClick:()=>{const l=document.getElementById("about");l&&l.scrollIntoView({behavior:"smooth"})},children:"Conocer más"})})]})})]})};var ir=new Map,gn=new WeakMap,Rl=0,H_=void 0;function U_(e){return e?(gn.has(e)||(Rl+=1,gn.set(e,Rl.toString())),gn.get(e)):"0"}function q_(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?U_(e.root):e[t]}`).toString()}function $_(e){const t=q_(e);let n=ir.get(t);if(!n){const r=new Map;let o;const h=new IntersectionObserver(l=>{l.forEach(u=>{var d;const p=u.isIntersecting&&o.some(m=>u.intersectionRatio>=m);e.trackVisibility&&typeof u.isVisible>"u"&&(u.isVisible=p),(d=r.get(u.target))==null||d.forEach(m=>{m(p,u)})})},e);o=h.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:h,elements:r},ir.set(t,n)}return n}function G_(e,t,n={},r=H_){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const d=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:d,intersectionRect:d,rootBounds:d}),()=>{}}const{id:o,observer:h,elements:l}=$_(n),u=l.get(e)||[];return l.has(e)||l.set(e,u),u.push(t),h.observe(e),function(){u.splice(u.indexOf(t),1),u.length===0&&(l.delete(e),h.unobserve(e)),l.size===0&&(h.disconnect(),ir.delete(o))}}function K_({threshold:e,delay:t,trackVisibility:n,rootMargin:r,root:o,triggerOnce:h,skip:l,initialInView:u,fallbackInView:d,onChange:p}={}){var m;const[_,y]=E.useState(null),x=E.useRef(p),[b,P]=E.useState({inView:!!u,entry:void 0});x.current=p,E.useEffect(()=>{if(l||!_)return;let A;return A=G_(_,(R,z)=>{P({inView:R,entry:z}),x.current&&x.current(R,z),z.isIntersecting&&h&&A&&(A(),A=void 0)},{root:o,rootMargin:r,threshold:e,trackVisibility:n,delay:t},d),()=>{A&&A()}},[Array.isArray(e)?e.toString():e,_,o,r,h,l,n,d,t]);const M=(m=b.entry)==null?void 0:m.target,C=E.useRef(void 0);!_&&M&&!h&&!l&&C.current!==M&&(C.current=M,P({inView:!!u,entry:void 0}));const k=[y,b.inView,b.entry];return k.ref=k[0],k.inView=k[1],k.entry=k[2],k}const Hi=(e={})=>{const{threshold:t=.1,triggerOnce:n=!0}=e,r=p0(),[o,h]=K_({threshold:t,triggerOnce:n});return E.useEffect(()=>{h?r.start("visible"):n||r.start("hidden")},[r,h,n]),[o,r]},Ir=({title:e,subtitle:t,align:n="center",className:r=""})=>{const[o,h]=Hi(),l={left:"text-left",center:"text-center",right:"text-right"},u={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:[.22,1,.36,1]}}},d={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,delay:.2,ease:[.22,1,.36,1]}}};return v.jsxs("div",{className:`mb-8 sm:mb-10 md:mb-12 ${l[n]} ${r}`,ref:o,children:[v.jsx(K.h2,{className:"text-3xl sm:text-4xl md:text-5xl font-display font-bold mb-2 sm:mb-4",initial:"hidden",animate:h,variants:u,children:e}),t&&v.jsx(K.p,{className:"text-base sm:text-lg md:text-xl text-neutral-600 max-w-2xl mx-auto px-4 sm:px-6 md:px-0",initial:"hidden",animate:h,variants:d,children:t})]})},Nl=({children:e,className:t="",...n})=>{const[r,o]=Hi(),h={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.7,ease:[.22,1,.36,1]}}};return v.jsx(K.div,{ref:r,initial:"hidden",animate:o,variants:{hidden:h.hidden,visible:h.visible},transition:{type:"spring",stiffness:300,damping:15},className:`glass rounded-2xl p-6 md:p-8 ${t}`,...n,children:e})},Y_="/angela-sophia-psicologia/assets/Langela-B9r7IvgV.png",X_=()=>{const[e,t]=Hi();Qs(.15);const n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},r={hidden:{y:30,opacity:0},visible:{y:0,opacity:1,transition:{duration:.7,ease:[.22,1,.36,1]}}},o=[{title:"Empatía",description:"Comprendo tus emociones y experiencias desde una perspectiva respetuosa y sin juicios.",icon:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})},{title:"Profesionalismo",description:"Trabajo con los más altos estándares éticos y metodológicos para ofrecerte la mejor atención.",icon:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})},{title:"Confidencialidad",description:"Tu privacidad es fundamental. Toda información compartida se mantiene bajo estricta confidencialidad.",icon:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}];return v.jsxs("section",{id:"about",className:"py-20 relative overflow-hidden",children:[v.jsx(K.div,{className:"absolute top-40 right-0 w-96 h-96 rounded-full bg-primary-100/40 blur-3xl -z-10",animate:{y:[0,-30,0],x:[0,15,0]},transition:{duration:18,ease:"easeInOut",repeat:1/0,repeatType:"reverse"}}),v.jsx(K.div,{className:"absolute bottom-20 left-0 w-64 h-64 rounded-full bg-secondary-100/40 blur-3xl -z-10",animate:{y:[0,30,0],x:[0,-20,0]},transition:{duration:15,ease:"easeInOut",repeat:1/0,repeatType:"reverse"}}),v.jsx(K.div,{className:"absolute top-1/3 right-1/4 w-48 h-48 rounded-full bg-accent-100/30 blur-2xl -z-10",animate:{y:[0,20,0],scale:[1,1.1,1]},transition:{duration:12,ease:"easeInOut",repeat:1/0,repeatType:"reverse"}}),v.jsxs("div",{className:"container mx-auto px-4",children:[v.jsx(Ir,{title:"Sobre mí",subtitle:"Conoce más sobre mi trayectoria y enfoque terapéutico"}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-12 items-center mt-12",children:[v.jsxs(K.div,{ref:e,initial:"hidden",animate:t,variants:n,className:"order-1 lg:order-2 pt-4 lg:pt-0",children:[v.jsx(K.h3,{className:"text-3xl font-display font-bold mb-6 text-primary-700",variants:r,children:"Ángela Sophia"}),v.jsx(K.p,{className:"text-lg text-neutral-700 mb-6",variants:r,children:"Soy psicóloga con un enfoque fresco y actualizado en terapia cognitivo-conductual. Mi formación académica reciente me ha permitido incorporar las técnicas y métodos más innovadores para ayudar a personas a superar desafíos emocionales y mejorar su calidad de vida."}),v.jsx(K.p,{className:"text-lg text-neutral-700 mb-8",variants:r,children:"Mi filosofía se centra en crear un espacio seguro donde puedas expresarte libremente, comprender tus patrones de pensamiento y desarrollar herramientas efectivas para gestionar tus emociones y alcanzar tus metas personales."}),v.jsxs(K.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",variants:r,children:[v.jsxs("div",{className:"text-center",children:[v.jsx("span",{className:"block text-2xl md:text-3xl font-bold text-primary-600",children:"Empatía"}),v.jsx("span",{className:"text-neutral-600",children:"Enfoque personalizado"})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("span",{className:"block text-2xl md:text-3xl font-bold text-primary-600",children:"Innovación"}),v.jsx("span",{className:"text-neutral-600",children:"Técnicas actualizadas"})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("span",{className:"block text-2xl md:text-3xl font-bold text-primary-600",children:"Compromiso"}),v.jsx("span",{className:"text-neutral-600",children:"Con tu bienestar"})]})]}),v.jsxs(K.div,{variants:r,children:[v.jsx("h4",{className:"text-xl font-bold mb-4",children:"Formación académica"}),v.jsxs("ul",{className:"space-y-2 mb-6",children:[v.jsxs("li",{className:"flex items-start",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-primary-600 mt-0.5 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),v.jsx("span",{children:"Licenciatura en Psicología - Universidad Católica de Pereira"})]}),v.jsxs("li",{className:"flex items-start",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-primary-600 mt-0.5 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),v.jsx("span",{children:"Formación continua en Terapia Cognitivo-Conductual"})]}),v.jsxs("li",{className:"flex items-start",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-primary-600 mt-0.5 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),v.jsx("span",{children:"Seminarios especializados en Manejo del Estrés y Ansiedad"})]})]})]})]}),v.jsxs("div",{className:"relative h-[350px] sm:h-[400px] md:h-[450px] lg:h-[500px] max-w-sm sm:max-w-md mx-auto lg:mx-0 rounded-2xl overflow-hidden order-2 lg:order-1 mb-8 lg:mb-0",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-secondary-50 via-primary-50 to-accent-50 rounded-2xl"}),v.jsx("img",{src:Y_,alt:"Ángela Sophia",className:"absolute inset-0 w-full h-full object-cover object-center rounded-2xl"}),v.jsx("div",{className:"absolute -bottom-5 -left-5 w-20 h-20 md:w-32 md:h-32 bg-primary-100 rounded-full opacity-70 blur-md"}),v.jsx("div",{className:"absolute -top-5 -right-5 w-16 h-16 md:w-24 md:h-24 bg-secondary-100 rounded-full opacity-70 blur-md"})]})]}),v.jsxs("div",{className:"mt-16 lg:mt-20",children:[v.jsx("h3",{className:"text-2xl font-display font-bold mb-8 text-center",children:"Mis valores profesionales"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:o.map((h,l)=>v.jsx("div",{className:"p-6 bg-white shadow-lg hover:shadow-xl transition-shadow duration-300 border border-neutral-100 rounded-xl",children:v.jsxs("div",{className:"flex flex-col items-center text-center",children:[v.jsx("div",{className:"mb-4 p-3 bg-primary-50 rounded-full",children:h.icon}),v.jsx("h4",{className:"text-xl font-bold mb-2",children:h.title}),v.jsx("p",{className:"text-neutral-600",children:h.description})]})},l))})]})]})]})},J_=({children:e,baseVelocity:t=100,className:n=""})=>{const r=jn(0),{scrollY:o}=a0(),h=c0(o),l=l0(h,{damping:50,stiffness:400});fl(l,[0,1e3],[0,5],{clamp:!1});const u=fl(r,y=>`${y}%`),d=E.useRef(1),p=E.useRef(0),m=(y,x,b)=>{const P=x-y;return((b-y)%P+P)%P+y},_=()=>{if(p.current===0){p.current=performance.now(),requestAnimationFrame(_);return}const y=performance.now(),x=(y-p.current)/1e3;p.current=y;const b=d.current*t*x;r.set(m(-100,0,r.get()+b)),requestAnimationFrame(_)};return zi.useEffect(()=>{requestAnimationFrame(_)},[]),v.jsx("div",{className:`parallax ${n}`,children:v.jsxs(K.div,{className:"scroller",style:{x:u},children:[v.jsxs("span",{children:[e," "]}),v.jsxs("span",{children:[e," "]}),v.jsxs("span",{children:[e," "]}),v.jsxs("span",{children:[e," "]})]})})},_n={coordinates:{lat:4.806389,lng:-75.747806},popupText:"Consultorio de Psicología - Ángela Sophia",zoom:16,address:"Pereira, Risaralda, Colombia"},vn={email:"contacto@angelasophia.com",phone:"+57 321 584 1483",schedule:{weekdays:"Lunes - Viernes: 9:00 - 18:00",weekend:"Sábado: 10:00 - 14:00"}},ki={instagram:"https://www.instagram.com/psic.angelasophia/",tiktok:"https://www.tiktok.com/@psic.angelasophia",x:"https://x.com/angelasophia_psi",whatsapp:"https://wa.me/573215841483"},Q_=e=>{const t=encodeURIComponent(e);return ki.whatsapp.includes("?")?`${ki.whatsapp}&text=${t}`:`${ki.whatsapp}?text=${t}`},tv={individual:"Hola, estoy interesad@ en agendar una sesión de terapia individual. ¿Podrías brindarme más información?",online:"Hola, me interesa la terapia online. ¿Qué plataforma utilizas y cómo podemos agendar una sesión?",grupal:"Hola, quiero obtener información sobre los próximos talleres grupales. ¿Qué temáticas están disponibles y cuándo inician?",consulta:"Hola, me gustaría agendar una consulta inicial gratuita para conocer qué servicio se adapta mejor a mis necesidades."},ev=()=>{const[e,t]=Hi(),n=[{id:1,key:"individual",title:"Terapia Individual",shortDesc:"Sesiones personalizadas para abordar tus necesidades específicas.",description:"Sesiones personalizadas donde trabajamos juntos para abordar tus preocupaciones específicas, desarrollar estrategias de afrontamiento efectivas y alcanzar tus objetivos de bienestar emocional. Cada sesión se adapta a tus necesidades únicas.",icon:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 sm:h-10 sm:w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),benefits:["Atención completamente personalizada","Espacio confidencial y seguro","Flexibilidad de horarios","Seguimiento continuo de tu progreso"]},{id:2,key:"online",title:"Terapia Online",shortDesc:"Sesiones virtuales con la misma calidad que las presenciales.",description:"Accede a terapia de calidad desde la comodidad de tu hogar u oficina. Las sesiones online mantienen la misma efectividad y confidencialidad que las presenciales, eliminando barreras geográficas y ahorrando tiempo de desplazamiento.",icon:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 sm:h-10 sm:w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),benefits:["Ahorro de tiempo en desplazamientos","Accesibilidad desde cualquier ubicación","Misma calidad que las sesiones presenciales","Plataforma segura y confidencial"]},{id:3,key:"grupal",title:"Talleres Grupales",shortDesc:"Experiencias de aprendizaje colectivo en temas específicos.",description:"Talleres temáticos diseñados para grupos pequeños donde se abordan temas específicos como manejo del estrés, habilidades sociales, autoestima y más. Aprende en comunidad y comparte experiencias en un ambiente seguro y enriquecedor.",icon:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 sm:h-10 sm:w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),benefits:["Aprendizaje colaborativo","Precios más accesibles","Desarrollo de habilidades sociales","Materiales y recursos incluidos"]}],r={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},o={hidden:{y:50,opacity:0},visible:{y:0,opacity:1,transition:{duration:.8,ease:[.22,1,.36,1]}}},h=l=>{const u=Q_(tv[l]);window.open(u,"_blank")};return v.jsxs("section",{id:"services",className:"py-12 sm:py-16 md:py-20 relative overflow-hidden bg-gradient-to-b from-white to-primary-50",ref:e,children:[v.jsx("div",{className:"absolute top-0 left-0 w-full h-20 bg-gradient-to-b from-white to-transparent"}),v.jsx("div",{className:"absolute bottom-0 left-0 w-full h-20 bg-gradient-to-t from-white to-transparent"}),v.jsx(K.div,{className:"absolute top-40 left-0 w-60 sm:w-72 h-60 sm:h-72 rounded-full bg-primary-200/40 blur-3xl -z-10",animate:{y:[0,-25,0],x:[0,10,0]},transition:{duration:20,ease:"easeInOut",repeat:1/0,repeatType:"reverse"}}),v.jsx(K.div,{className:"absolute bottom-40 right-0 w-72 sm:w-96 h-72 sm:h-96 rounded-full bg-secondary-200/40 blur-3xl -z-10 hidden sm:block",animate:{y:[0,30,0],x:[0,-15,0]},transition:{duration:17,ease:"easeInOut",repeat:1/0,repeatType:"reverse"}}),v.jsx(K.div,{className:"absolute top-1/2 left-1/3 w-40 sm:w-48 h-40 sm:h-48 rounded-full bg-accent-100/30 blur-2xl -z-10 hidden sm:block",animate:{scale:[1,1.15,1],opacity:[.3,.5,.3]},transition:{duration:10,ease:"easeInOut",repeat:1/0,repeatType:"reverse"}}),v.jsxs("div",{className:"container mx-auto px-4",children:[v.jsx(Ir,{title:"Mis Servicios",subtitle:"Descubre cómo puedo ayudarte a mejorar tu bienestar emocional"}),v.jsx("div",{className:"my-10 sm:my-12 md:my-16 overflow-hidden",children:v.jsx(J_,{baseVelocity:-2,children:"Bienestar Emocional • Crecimiento Personal • Equilibrio Mental •"})}),v.jsx(K.div,{ref:e,initial:"hidden",animate:t,variants:r,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8 mt-8 sm:mt-12",children:n.map(l=>v.jsx(K.div,{variants:o,children:v.jsx("div",{className:"bg-white rounded-2xl p-6 sm:p-8 glass h-full",children:v.jsxs("div",{className:"flex flex-col h-full",children:[v.jsxs("div",{className:"flex flex-col items-center text-center mb-4 sm:mb-6",children:[v.jsx("div",{className:"p-3 sm:p-4 bg-primary-50 rounded-full text-primary-600 mb-3 sm:mb-4",children:l.icon}),v.jsx("h3",{className:"text-lg sm:text-xl font-bold text-primary-800",children:l.title})]}),v.jsx("p",{className:"text-neutral-700 mb-4 sm:mb-6 text-center font-medium text-sm sm:text-base",children:l.shortDesc}),v.jsxs("div",{className:"pt-4 sm:pt-6 border-t border-neutral-100 mt-2",children:[v.jsx("p",{className:"text-neutral-600 mb-4 sm:mb-5 text-sm sm:text-base font-normal",children:l.description}),v.jsx("h4",{className:"font-bold text-primary-800 mb-2 sm:mb-3 text-base",children:"Beneficios:"}),v.jsx("ul",{className:"space-y-2 mb-6 sm:mb-8 text-sm sm:text-base",children:l.benefits.map((u,d)=>v.jsxs("li",{className:"flex items-start",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-primary-600 mt-0.5 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),v.jsx("span",{className:"text-neutral-600",children:u})]},d))}),v.jsx(Re,{variant:"primary",size:"md",className:"w-full text-sm sm:text-base",onClick:()=>h(l.key),children:v.jsxs("span",{className:"flex items-center justify-center",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5 mr-1 sm:mr-2",fill:"currentColor",viewBox:"0 0 16 16",children:v.jsx("path",{d:"M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"})}),"Contactar vía WhatsApp"]})})]})]})})},l.id))}),v.jsx("div",{className:"mt-10 sm:mt-16 text-center",children:v.jsxs("div",{className:"max-w-3xl mx-auto py-8 sm:py-10 px-6 sm:px-8 rounded-2xl glass",children:[v.jsx("h3",{className:"text-xl sm:text-2xl font-display font-bold mb-3 sm:mb-4 text-primary-800",children:"¿No estás seguro de qué servicio necesitas?"}),v.jsx("p",{className:"text-neutral-700 mb-6 sm:mb-8 text-base sm:text-lg",children:"Agenda una consulta inicial gratuita de 15 minutos para discutir tus necesidades y determinar el mejor enfoque para ti."}),v.jsx("div",{className:"flex justify-center",children:v.jsx(Re,{variant:"primary",size:"lg",className:"px-6 sm:px-10 py-2.5 sm:py-3 text-sm sm:text-lg shadow-md hover:shadow-lg transition-all duration-300",onClick:()=>h("consulta"),children:v.jsxs("span",{className:"flex items-center justify-center",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5 mr-1 sm:mr-2",fill:"currentColor",viewBox:"0 0 16 16",children:v.jsx("path",{d:"M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"})}),"Consulta gratuita"]})})})]})})]})]})};function Pc(e,t){const n=E.useRef(t);E.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const iv=1;function nv(e){return Object.freeze({__version:iv,map:e})}function sv(e,t){return Object.freeze({...e,...t})}const Br=E.createContext(null);function Dr(){const e=E.use(Br);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function rv(e){function t(n,r){const{instance:o,context:h}=e(n).current;E.useImperativeHandle(r,()=>o);const{children:l}=n;return l==null?null:zi.createElement(Br,{value:h},l)}return E.forwardRef(t)}function ov(e){function t(n,r){const[o,h]=E.useState(!1),{instance:l}=e(n,h).current;E.useImperativeHandle(r,()=>l),E.useEffect(function(){o&&l.update()},[l,o,n.children]);const u=l._contentNode;return u?Xu.createPortal(n.children,u):null}return E.forwardRef(t)}function Tc(e){function t(n,r){const{instance:o}=e(n).current;return E.useImperativeHandle(r,()=>o),null}return E.forwardRef(t)}function av(e){return function(n){const r=Dr(),o=e(n,r),{instance:h}=o.current,l=E.useRef(n.position),{position:u}=n;return E.useEffect(function(){return h.addTo(r.map),function(){h.remove()}},[r.map,h]),E.useEffect(function(){u!=null&&u!==l.current&&(h.setPosition(u),l.current=u)},[h,u]),o}}function Lc(e,t){const n=E.useRef(void 0);E.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Vr(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function lv(e,t){return function(r,o){const h=Dr(),l=e(Vr(r,h),h);return Pc(h.map,r.attribution),Lc(l.current,r.eventHandlers),t(l.current,h,r,o),l}}var bi={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var hv=bi.exports,jl;function cv(){return jl||(jl=1,function(e,t){(function(n,r){r(t)})(hv,function(n){var r="1.9.4";function o(i){var s,a,c,f;for(a=1,c=arguments.length;a<c;a++){f=arguments[a];for(s in f)i[s]=f[s]}return i}var h=Object.create||function(){function i(){}return function(s){return i.prototype=s,new i}}();function l(i,s){var a=Array.prototype.slice;if(i.bind)return i.bind.apply(i,a.call(arguments,1));var c=a.call(arguments,2);return function(){return i.apply(s,c.length?c.concat(a.call(arguments)):arguments)}}var u=0;function d(i){return"_leaflet_id"in i||(i._leaflet_id=++u),i._leaflet_id}function p(i,s,a){var c,f,g,w;return w=function(){c=!1,f&&(g.apply(a,f),f=!1)},g=function(){c?f=arguments:(i.apply(a,arguments),setTimeout(w,s),c=!0)},g}function m(i,s,a){var c=s[1],f=s[0],g=c-f;return i===c&&a?i:((i-f)%g+g)%g+f}function _(){return!1}function y(i,s){if(s===!1)return i;var a=Math.pow(10,s===void 0?6:s);return Math.round(i*a)/a}function x(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function b(i){return x(i).split(/\s+/)}function P(i,s){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?h(i.options):{});for(var a in s)i.options[a]=s[a];return i.options}function M(i,s,a){var c=[];for(var f in i)c.push(encodeURIComponent(a?f.toUpperCase():f)+"="+encodeURIComponent(i[f]));return(!s||s.indexOf("?")===-1?"?":"&")+c.join("&")}var C=/\{ *([\w_ -]+) *\}/g;function k(i,s){return i.replace(C,function(a,c){var f=s[c];if(f===void 0)throw new Error("No value provided for variable "+a);return typeof f=="function"&&(f=f(s)),f})}var A=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function R(i,s){for(var a=0;a<i.length;a++)if(i[a]===s)return a;return-1}var z="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function N(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var B=0;function I(i){var s=+new Date,a=Math.max(0,16-(s-B));return B=s+a,window.setTimeout(i,a)}var V=window.requestAnimationFrame||N("RequestAnimationFrame")||I,G=window.cancelAnimationFrame||N("CancelAnimationFrame")||N("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function D(i,s,a){if(a&&V===I)i.call(s);else return V.call(window,l(i,s))}function U(i){i&&G.call(window,i)}var nt={__proto__:null,extend:o,create:h,bind:l,get lastId(){return u},stamp:d,throttle:p,wrapNum:m,falseFn:_,formatNum:y,trim:x,splitWords:b,setOptions:P,getParamString:M,template:k,isArray:A,indexOf:R,emptyImageUrl:z,requestFn:V,cancelFn:G,requestAnimFrame:D,cancelAnimFrame:U};function F(){}F.extend=function(i){var s=function(){P(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},a=s.__super__=this.prototype,c=h(a);c.constructor=s,s.prototype=c;for(var f in this)Object.prototype.hasOwnProperty.call(this,f)&&f!=="prototype"&&f!=="__super__"&&(s[f]=this[f]);return i.statics&&o(s,i.statics),i.includes&&(jt(i.includes),o.apply(null,[c].concat(i.includes))),o(c,i),delete c.statics,delete c.includes,c.options&&(c.options=a.options?h(a.options):{},o(c.options,i.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var g=0,w=c._initHooks.length;g<w;g++)c._initHooks[g].call(this)}},s},F.include=function(i){var s=this.prototype.options;return o(this.prototype,i),i.options&&(this.prototype.options=s,this.mergeOptions(i.options)),this},F.mergeOptions=function(i){return o(this.prototype.options,i),this},F.addInitHook=function(i){var s=Array.prototype.slice.call(arguments,1),a=typeof i=="function"?i:function(){this[i].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a),this};function jt(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=A(i)?i:[i];for(var s=0;s<i.length;s++)i[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Pt={on:function(i,s,a){if(typeof i=="object")for(var c in i)this._on(c,i[c],s);else{i=b(i);for(var f=0,g=i.length;f<g;f++)this._on(i[f],s,a)}return this},off:function(i,s,a){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var c in i)this._off(c,i[c],s);else{i=b(i);for(var f=arguments.length===1,g=0,w=i.length;g<w;g++)f?this._off(i[g]):this._off(i[g],s,a)}return this},_on:function(i,s,a,c){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(i,s,a)===!1){a===this&&(a=void 0);var f={fn:s,ctx:a};c&&(f.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(f)}},_off:function(i,s,a){var c,f,g;if(this._events&&(c=this._events[i],!!c)){if(arguments.length===1){if(this._firingCount)for(f=0,g=c.length;f<g;f++)c[f].fn=_;delete this._events[i];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var w=this._listens(i,s,a);if(w!==!1){var T=c[w];this._firingCount&&(T.fn=_,this._events[i]=c=c.slice()),c.splice(w,1)}}},fire:function(i,s,a){if(!this.listens(i,a))return this;var c=o({},s,{type:i,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var f=this._events[i];if(f){this._firingCount=this._firingCount+1||1;for(var g=0,w=f.length;g<w;g++){var T=f[g],S=T.fn;T.once&&this.off(i,S,T.ctx),S.call(T.ctx||this,c)}this._firingCount--}}return a&&this._propagateEvent(c),this},listens:function(i,s,a,c){typeof i!="string"&&console.warn('"string" type argument expected');var f=s;typeof s!="function"&&(c=!!s,f=void 0,a=void 0);var g=this._events&&this._events[i];if(g&&g.length&&this._listens(i,f,a)!==!1)return!0;if(c){for(var w in this._eventParents)if(this._eventParents[w].listens(i,s,a,c))return!0}return!1},_listens:function(i,s,a){if(!this._events)return!1;var c=this._events[i]||[];if(!s)return!!c.length;a===this&&(a=void 0);for(var f=0,g=c.length;f<g;f++)if(c[f].fn===s&&c[f].ctx===a)return f;return!1},once:function(i,s,a){if(typeof i=="object")for(var c in i)this._on(c,i[c],s,!0);else{i=b(i);for(var f=0,g=i.length;f<g;f++)this._on(i[f],s,a,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[d(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[d(i)],this},_propagateEvent:function(i){for(var s in this._eventParents)this._eventParents[s].fire(i.type,o({layer:i.target,propagatedFrom:i.target},i),!0)}};Pt.addEventListener=Pt.on,Pt.removeEventListener=Pt.clearAllEventListeners=Pt.off,Pt.addOneTimeEventListener=Pt.once,Pt.fireEvent=Pt.fire,Pt.hasEventListeners=Pt.listens;var at=F.extend(Pt);function W(i,s,a){this.x=a?Math.round(i):i,this.y=a?Math.round(s):s}var te=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(i){return this.clone()._add(H(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(H(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new W(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new W(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=te(this.x),this.y=te(this.y),this},distanceTo:function(i){i=H(i);var s=i.x-this.x,a=i.y-this.y;return Math.sqrt(s*s+a*a)},equals:function(i){return i=H(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=H(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function H(i,s,a){return i instanceof W?i:A(i)?new W(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new W(i.x,i.y):new W(i,s,a)}function rt(i,s){if(i)for(var a=s?[i,s]:i,c=0,f=a.length;c<f;c++)this.extend(a[c])}rt.prototype={extend:function(i){var s,a;if(!i)return this;if(i instanceof W||typeof i[0]=="number"||"x"in i)s=a=H(i);else if(i=wt(i),s=i.min,a=i.max,!s||!a)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=a.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)),this},getCenter:function(i){return H((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return H(this.min.x,this.max.y)},getTopRight:function(){return H(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var s,a;return typeof i[0]=="number"||i instanceof W?i=H(i):i=wt(i),i instanceof rt?(s=i.min,a=i.max):s=a=i,s.x>=this.min.x&&a.x<=this.max.x&&s.y>=this.min.y&&a.y<=this.max.y},intersects:function(i){i=wt(i);var s=this.min,a=this.max,c=i.min,f=i.max,g=f.x>=s.x&&c.x<=a.x,w=f.y>=s.y&&c.y<=a.y;return g&&w},overlaps:function(i){i=wt(i);var s=this.min,a=this.max,c=i.min,f=i.max,g=f.x>s.x&&c.x<a.x,w=f.y>s.y&&c.y<a.y;return g&&w},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var s=this.min,a=this.max,c=Math.abs(s.x-a.x)*i,f=Math.abs(s.y-a.y)*i;return wt(H(s.x-c,s.y-f),H(a.x+c,a.y+f))},equals:function(i){return i?(i=wt(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function wt(i,s){return!i||i instanceof rt?i:new rt(i,s)}function _t(i,s){if(i)for(var a=s?[i,s]:i,c=0,f=a.length;c<f;c++)this.extend(a[c])}_t.prototype={extend:function(i){var s=this._southWest,a=this._northEast,c,f;if(i instanceof st)c=i,f=i;else if(i instanceof _t){if(c=i._southWest,f=i._northEast,!c||!f)return this}else return i?this.extend(Q(i)||lt(i)):this;return!s&&!a?(this._southWest=new st(c.lat,c.lng),this._northEast=new st(f.lat,f.lng)):(s.lat=Math.min(c.lat,s.lat),s.lng=Math.min(c.lng,s.lng),a.lat=Math.max(f.lat,a.lat),a.lng=Math.max(f.lng,a.lng)),this},pad:function(i){var s=this._southWest,a=this._northEast,c=Math.abs(s.lat-a.lat)*i,f=Math.abs(s.lng-a.lng)*i;return new _t(new st(s.lat-c,s.lng-f),new st(a.lat+c,a.lng+f))},getCenter:function(){return new st((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new st(this.getNorth(),this.getWest())},getSouthEast:function(){return new st(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof st||"lat"in i?i=Q(i):i=lt(i);var s=this._southWest,a=this._northEast,c,f;return i instanceof _t?(c=i.getSouthWest(),f=i.getNorthEast()):c=f=i,c.lat>=s.lat&&f.lat<=a.lat&&c.lng>=s.lng&&f.lng<=a.lng},intersects:function(i){i=lt(i);var s=this._southWest,a=this._northEast,c=i.getSouthWest(),f=i.getNorthEast(),g=f.lat>=s.lat&&c.lat<=a.lat,w=f.lng>=s.lng&&c.lng<=a.lng;return g&&w},overlaps:function(i){i=lt(i);var s=this._southWest,a=this._northEast,c=i.getSouthWest(),f=i.getNorthEast(),g=f.lat>s.lat&&c.lat<a.lat,w=f.lng>s.lng&&c.lng<a.lng;return g&&w},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,s){return i?(i=lt(i),this._southWest.equals(i.getSouthWest(),s)&&this._northEast.equals(i.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function lt(i,s){return i instanceof _t?i:new _t(i,s)}function st(i,s,a){if(isNaN(i)||isNaN(s))throw new Error("Invalid LatLng object: ("+i+", "+s+")");this.lat=+i,this.lng=+s,a!==void 0&&(this.alt=+a)}st.prototype={equals:function(i,s){if(!i)return!1;i=Q(i);var a=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return a<=(s===void 0?1e-9:s)},toString:function(i){return"LatLng("+y(this.lat,i)+", "+y(this.lng,i)+")"},distanceTo:function(i){return Ht.distance(this,Q(i))},wrap:function(){return Ht.wrapLatLng(this)},toBounds:function(i){var s=180*i/40075017,a=s/Math.cos(Math.PI/180*this.lat);return lt([this.lat-s,this.lng-a],[this.lat+s,this.lng+a])},clone:function(){return new st(this.lat,this.lng,this.alt)}};function Q(i,s,a){return i instanceof st?i:A(i)&&typeof i[0]!="object"?i.length===3?new st(i[0],i[1],i[2]):i.length===2?new st(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new st(i.lat,"lng"in i?i.lng:i.lon,i.alt):s===void 0?null:new st(i,s,a)}var It={latLngToPoint:function(i,s){var a=this.projection.project(i),c=this.scale(s);return this.transformation._transform(a,c)},pointToLatLng:function(i,s){var a=this.scale(s),c=this.transformation.untransform(i,a);return this.projection.unproject(c)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var s=this.projection.bounds,a=this.scale(i),c=this.transformation.transform(s.min,a),f=this.transformation.transform(s.max,a);return new rt(c,f)},infinite:!1,wrapLatLng:function(i){var s=this.wrapLng?m(i.lng,this.wrapLng,!0):i.lng,a=this.wrapLat?m(i.lat,this.wrapLat,!0):i.lat,c=i.alt;return new st(a,s,c)},wrapLatLngBounds:function(i){var s=i.getCenter(),a=this.wrapLatLng(s),c=s.lat-a.lat,f=s.lng-a.lng;if(c===0&&f===0)return i;var g=i.getSouthWest(),w=i.getNorthEast(),T=new st(g.lat-c,g.lng-f),S=new st(w.lat-c,w.lng-f);return new _t(T,S)}},Ht=o({},It,{wrapLng:[-180,180],R:6371e3,distance:function(i,s){var a=Math.PI/180,c=i.lat*a,f=s.lat*a,g=Math.sin((s.lat-i.lat)*a/2),w=Math.sin((s.lng-i.lng)*a/2),T=g*g+Math.cos(c)*Math.cos(f)*w*w,S=2*Math.atan2(Math.sqrt(T),Math.sqrt(1-T));return this.R*S}}),he=6378137,ee={R:he,MAX_LATITUDE:85.0511287798,project:function(i){var s=Math.PI/180,a=this.MAX_LATITUDE,c=Math.max(Math.min(a,i.lat),-a),f=Math.sin(c*s);return new W(this.R*i.lng*s,this.R*Math.log((1+f)/(1-f))/2)},unproject:function(i){var s=180/Math.PI;return new st((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*s,i.x*s/this.R)},bounds:function(){var i=he*Math.PI;return new rt([-i,-i],[i,i])}()};function ce(i,s,a,c){if(A(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=s,this._c=a,this._d=c}ce.prototype={transform:function(i,s){return this._transform(i.clone(),s)},_transform:function(i,s){return s=s||1,i.x=s*(this._a*i.x+this._b),i.y=s*(this._c*i.y+this._d),i},untransform:function(i,s){return s=s||1,new W((i.x/s-this._b)/this._a,(i.y/s-this._d)/this._c)}};function ue(i,s,a,c){return new ce(i,s,a,c)}var de=o({},Ht,{code:"EPSG:3857",projection:ee,transformation:function(){var i=.5/(Math.PI*ee.R);return ue(i,.5,-i,.5)}()}),Ui=o({},de,{code:"EPSG:900913"});function ni(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function si(i,s){var a="",c,f,g,w,T,S;for(c=0,g=i.length;c<g;c++){for(T=i[c],f=0,w=T.length;f<w;f++)S=T[f],a+=(f?"L":"M")+S.x+" "+S.y;a+=s?Z.svg?"z":"x":""}return a||"M0 0"}var Ne=document.documentElement.style,xe="ActiveXObject"in window,Dn=xe&&!document.addEventListener,ri="msLaunchUri"in navigator&&!("documentMode"in document),mt=qt("webkit"),Ct=qt("android"),Ut=qt("android 2")||qt("android 3"),fe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),we=Ct&&qt("Google")&&fe<537&&!("AudioNode"in window),ie=!!window.opera,be=!ri&&qt("chrome"),qi=qt("gecko")&&!mt&&!ie&&!xe,Cc=!be&&qt("safari"),Fr=qt("phantom"),Zr="OTransition"in Ne,Sc=navigator.platform.indexOf("Win")===0,Wr=xe&&"transition"in Ne,Vn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ut,Hr="MozPerspective"in Ne,Ac=!window.L_DISABLE_3D&&(Wr||Vn||Hr)&&!Zr&&!Fr,oi=typeof orientation<"u"||qt("mobile"),Ec=oi&&mt,kc=oi&&Vn,Ur=!window.PointerEvent&&window.MSPointerEvent,qr=!!(window.PointerEvent||Ur),$r="ontouchstart"in window||!!window.TouchEvent,zc=!window.L_NO_TOUCH&&($r||qr),Oc=oi&&ie,Rc=oi&&qi,Nc=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,jc=function(){var i=!1;try{var s=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",_,s),window.removeEventListener("testPassiveEventSupport",_,s)}catch{}return i}(),Ic=function(){return!!document.createElement("canvas").getContext}(),Fn=!!(document.createElementNS&&ni("svg").createSVGRect),Bc=!!Fn&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Dc=!Fn&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var s=i.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),Vc=navigator.platform.indexOf("Mac")===0,Fc=navigator.platform.indexOf("Linux")===0;function qt(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var Z={ie:xe,ielt9:Dn,edge:ri,webkit:mt,android:Ct,android23:Ut,androidStock:we,opera:ie,chrome:be,gecko:qi,safari:Cc,phantom:Fr,opera12:Zr,win:Sc,ie3d:Wr,webkit3d:Vn,gecko3d:Hr,any3d:Ac,mobile:oi,mobileWebkit:Ec,mobileWebkit3d:kc,msPointer:Ur,pointer:qr,touch:zc,touchNative:$r,mobileOpera:Oc,mobileGecko:Rc,retina:Nc,passiveEvents:jc,canvas:Ic,svg:Fn,vml:Dc,inlineSvg:Bc,mac:Vc,linux:Fc},Gr=Z.msPointer?"MSPointerDown":"pointerdown",Kr=Z.msPointer?"MSPointerMove":"pointermove",Yr=Z.msPointer?"MSPointerUp":"pointerup",Xr=Z.msPointer?"MSPointerCancel":"pointercancel",Zn={touchstart:Gr,touchmove:Kr,touchend:Yr,touchcancel:Xr},Jr={touchstart:$c,touchmove:$i,touchend:$i,touchcancel:$i},je={},Qr=!1;function Zc(i,s,a){return s==="touchstart"&&qc(),Jr[s]?(a=Jr[s].bind(this,a),i.addEventListener(Zn[s],a,!1),a):(console.warn("wrong event specified:",s),_)}function Wc(i,s,a){if(!Zn[s]){console.warn("wrong event specified:",s);return}i.removeEventListener(Zn[s],a,!1)}function Hc(i){je[i.pointerId]=i}function Uc(i){je[i.pointerId]&&(je[i.pointerId]=i)}function to(i){delete je[i.pointerId]}function qc(){Qr||(document.addEventListener(Gr,Hc,!0),document.addEventListener(Kr,Uc,!0),document.addEventListener(Yr,to,!0),document.addEventListener(Xr,to,!0),Qr=!0)}function $i(i,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var a in je)s.touches.push(je[a]);s.changedTouches=[s],i(s)}}function $c(i,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&bt(s),$i(i,s)}function Gc(i){var s={},a,c;for(c in i)a=i[c],s[c]=a&&a.bind?a.bind(i):a;return i=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var Kc=200;function Yc(i,s){i.addEventListener("dblclick",s);var a=0,c;function f(g){if(g.detail!==1){c=g.detail;return}if(!(g.pointerType==="mouse"||g.sourceCapabilities&&!g.sourceCapabilities.firesTouchEvents)){var w=ro(g);if(!(w.some(function(S){return S instanceof HTMLLabelElement&&S.attributes.for})&&!w.some(function(S){return S instanceof HTMLInputElement||S instanceof HTMLSelectElement}))){var T=Date.now();T-a<=Kc?(c++,c===2&&s(Gc(g))):c=1,a=T}}}return i.addEventListener("click",f),{dblclick:s,simDblclick:f}}function Xc(i,s){i.removeEventListener("dblclick",s.dblclick),i.removeEventListener("click",s.simDblclick)}var Wn=Yi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ai=Yi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),eo=ai==="webkitTransition"||ai==="OTransition"?ai+"End":"transitionend";function io(i){return typeof i=="string"?document.getElementById(i):i}function li(i,s){var a=i.style[s]||i.currentStyle&&i.currentStyle[s];if((!a||a==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(i,null);a=c?c[s]:null}return a==="auto"?null:a}function et(i,s,a){var c=document.createElement(i);return c.className=s||"",a&&a.appendChild(c),c}function ht(i){var s=i.parentNode;s&&s.removeChild(i)}function Gi(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Ie(i){var s=i.parentNode;s&&s.lastChild!==i&&s.appendChild(i)}function Be(i){var s=i.parentNode;s&&s.firstChild!==i&&s.insertBefore(i,s.firstChild)}function Hn(i,s){if(i.classList!==void 0)return i.classList.contains(s);var a=Ki(i);return a.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(a)}function X(i,s){if(i.classList!==void 0)for(var a=b(s),c=0,f=a.length;c<f;c++)i.classList.add(a[c]);else if(!Hn(i,s)){var g=Ki(i);Un(i,(g?g+" ":"")+s)}}function dt(i,s){i.classList!==void 0?i.classList.remove(s):Un(i,x((" "+Ki(i)+" ").replace(" "+s+" "," ")))}function Un(i,s){i.className.baseVal===void 0?i.className=s:i.className.baseVal=s}function Ki(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function kt(i,s){"opacity"in i.style?i.style.opacity=s:"filter"in i.style&&Jc(i,s)}function Jc(i,s){var a=!1,c="DXImageTransform.Microsoft.Alpha";try{a=i.filters.item(c)}catch{if(s===1)return}s=Math.round(s*100),a?(a.Enabled=s!==100,a.Opacity=s):i.style.filter+=" progid:"+c+"(opacity="+s+")"}function Yi(i){for(var s=document.documentElement.style,a=0;a<i.length;a++)if(i[a]in s)return i[a];return!1}function Pe(i,s,a){var c=s||new W(0,0);i.style[Wn]=(Z.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(a?" scale("+a+")":"")}function pt(i,s){i._leaflet_pos=s,Z.any3d?Pe(i,s):(i.style.left=s.x+"px",i.style.top=s.y+"px")}function Te(i){return i._leaflet_pos||new W(0,0)}var hi,ci,qn;if("onselectstart"in document)hi=function(){Y(window,"selectstart",bt)},ci=function(){ot(window,"selectstart",bt)};else{var ui=Yi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);hi=function(){if(ui){var i=document.documentElement.style;qn=i[ui],i[ui]="none"}},ci=function(){ui&&(document.documentElement.style[ui]=qn,qn=void 0)}}function $n(){Y(window,"dragstart",bt)}function Gn(){ot(window,"dragstart",bt)}var Xi,Kn;function Yn(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(Ji(),Xi=i,Kn=i.style.outlineStyle,i.style.outlineStyle="none",Y(window,"keydown",Ji))}function Ji(){Xi&&(Xi.style.outlineStyle=Kn,Xi=void 0,Kn=void 0,ot(window,"keydown",Ji))}function no(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Xn(i){var s=i.getBoundingClientRect();return{x:s.width/i.offsetWidth||1,y:s.height/i.offsetHeight||1,boundingClientRect:s}}var Qc={__proto__:null,TRANSFORM:Wn,TRANSITION:ai,TRANSITION_END:eo,get:io,getStyle:li,create:et,remove:ht,empty:Gi,toFront:Ie,toBack:Be,hasClass:Hn,addClass:X,removeClass:dt,setClass:Un,getClass:Ki,setOpacity:kt,testProp:Yi,setTransform:Pe,setPosition:pt,getPosition:Te,get disableTextSelection(){return hi},get enableTextSelection(){return ci},disableImageDrag:$n,enableImageDrag:Gn,preventOutline:Yn,restoreOutline:Ji,getSizedParentNode:no,getScale:Xn};function Y(i,s,a,c){if(s&&typeof s=="object")for(var f in s)Qn(i,f,s[f],a);else{s=b(s);for(var g=0,w=s.length;g<w;g++)Qn(i,s[g],a,c)}return this}var $t="_leaflet_events";function ot(i,s,a,c){if(arguments.length===1)so(i),delete i[$t];else if(s&&typeof s=="object")for(var f in s)ts(i,f,s[f],a);else if(s=b(s),arguments.length===2)so(i,function(T){return R(s,T)!==-1});else for(var g=0,w=s.length;g<w;g++)ts(i,s[g],a,c);return this}function so(i,s){for(var a in i[$t]){var c=a.split(/\d/)[0];(!s||s(c))&&ts(i,c,null,null,a)}}var Jn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Qn(i,s,a,c){var f=s+d(a)+(c?"_"+d(c):"");if(i[$t]&&i[$t][f])return this;var g=function(T){return a.call(c||i,T||window.event)},w=g;!Z.touchNative&&Z.pointer&&s.indexOf("touch")===0?g=Zc(i,s,g):Z.touch&&s==="dblclick"?g=Yc(i,g):"addEventListener"in i?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?i.addEventListener(Jn[s]||s,g,Z.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(g=function(T){T=T||window.event,is(i,T)&&w(T)},i.addEventListener(Jn[s],g,!1)):i.addEventListener(s,w,!1):i.attachEvent("on"+s,g),i[$t]=i[$t]||{},i[$t][f]=g}function ts(i,s,a,c,f){f=f||s+d(a)+(c?"_"+d(c):"");var g=i[$t]&&i[$t][f];if(!g)return this;!Z.touchNative&&Z.pointer&&s.indexOf("touch")===0?Wc(i,s,g):Z.touch&&s==="dblclick"?Xc(i,g):"removeEventListener"in i?i.removeEventListener(Jn[s]||s,g,!1):i.detachEvent("on"+s,g),i[$t][f]=null}function Le(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function es(i){return Qn(i,"wheel",Le),this}function di(i){return Y(i,"mousedown touchstart dblclick contextmenu",Le),i._leaflet_disable_click=!0,this}function bt(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function Me(i){return bt(i),Le(i),this}function ro(i){if(i.composedPath)return i.composedPath();for(var s=[],a=i.target;a;)s.push(a),a=a.parentNode;return s}function oo(i,s){if(!s)return new W(i.clientX,i.clientY);var a=Xn(s),c=a.boundingClientRect;return new W((i.clientX-c.left)/a.x-s.clientLeft,(i.clientY-c.top)/a.y-s.clientTop)}var tu=Z.linux&&Z.chrome?window.devicePixelRatio:Z.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ao(i){return Z.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/tu:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function is(i,s){var a=s.relatedTarget;if(!a)return!0;try{for(;a&&a!==i;)a=a.parentNode}catch{return!1}return a!==i}var eu={__proto__:null,on:Y,off:ot,stopPropagation:Le,disableScrollPropagation:es,disableClickPropagation:di,preventDefault:bt,stop:Me,getPropagationPath:ro,getMousePosition:oo,getWheelDelta:ao,isExternalTarget:is,addListener:Y,removeListener:ot},lo=at.extend({run:function(i,s,a,c){this.stop(),this._el=i,this._inProgress=!0,this._duration=a||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=Te(i),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=D(this._animate,this),this._step()},_step:function(i){var s=+new Date-this._startTime,a=this._duration*1e3;s<a?this._runFrame(this._easeOut(s/a),i):(this._runFrame(1),this._complete())},_runFrame:function(i,s){var a=this._startPos.add(this._offset.multiplyBy(i));s&&a._round(),pt(this._el,a),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),tt=at.extend({options:{crs:de,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,s){s=P(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(Q(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ai&&Z.any3d&&!Z.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Y(this._proxy,eo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,s,a){if(s=s===void 0?this._zoom:this._limitZoom(s),i=this._limitCenter(Q(i),s,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&a!==!0){a.animate!==void 0&&(a.zoom=o({animate:a.animate},a.zoom),a.pan=o({animate:a.animate,duration:a.duration},a.pan));var c=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,s,a.zoom):this._tryAnimatedPan(i,a.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(i,s,a.pan&&a.pan.noMoveStart),this},setZoom:function(i,s){return this._loaded?this.setView(this.getCenter(),i,{zoom:s}):(this._zoom=i,this)},zoomIn:function(i,s){return i=i||(Z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,s)},zoomOut:function(i,s){return i=i||(Z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,s)},setZoomAround:function(i,s,a){var c=this.getZoomScale(s),f=this.getSize().divideBy(2),g=i instanceof W?i:this.latLngToContainerPoint(i),w=g.subtract(f).multiplyBy(1-1/c),T=this.containerPointToLatLng(f.add(w));return this.setView(T,s,{zoom:a})},_getBoundsCenterZoom:function(i,s){s=s||{},i=i.getBounds?i.getBounds():lt(i);var a=H(s.paddingTopLeft||s.padding||[0,0]),c=H(s.paddingBottomRight||s.padding||[0,0]),f=this.getBoundsZoom(i,!1,a.add(c));if(f=typeof s.maxZoom=="number"?Math.min(s.maxZoom,f):f,f===1/0)return{center:i.getCenter(),zoom:f};var g=c.subtract(a).divideBy(2),w=this.project(i.getSouthWest(),f),T=this.project(i.getNorthEast(),f),S=this.unproject(w.add(T).divideBy(2).add(g),f);return{center:S,zoom:f}},fitBounds:function(i,s){if(i=lt(i),!i.isValid())throw new Error("Bounds are not valid.");var a=this._getBoundsCenterZoom(i,s);return this.setView(a.center,a.zoom,s)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,s){return this.setView(i,this._zoom,{pan:s})},panBy:function(i,s){if(i=H(i).round(),s=s||{},!i.x&&!i.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new lo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){X(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,a,s.duration||.25,s.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,s,a){if(a=a||{},a.animate===!1||!Z.any3d)return this.setView(i,s,a);this._stop();var c=this.project(this.getCenter()),f=this.project(i),g=this.getSize(),w=this._zoom;i=Q(i),s=s===void 0?w:s;var T=Math.max(g.x,g.y),S=T*this.getZoomScale(w,s),O=f.distanceTo(c)||1,j=1.42,q=j*j;function J(gt){var un=gt?-1:1,Wu=gt?S:T,Hu=S*S-T*T+un*q*q*O*O,Uu=2*Wu*q*O,fs=Hu/Uu,Wo=Math.sqrt(fs*fs+1)-fs,qu=Wo<1e-9?-18:Math.log(Wo);return qu}function Lt(gt){return(Math.exp(gt)-Math.exp(-gt))/2}function vt(gt){return(Math.exp(gt)+Math.exp(-gt))/2}function Ot(gt){return Lt(gt)/vt(gt)}var St=J(0);function He(gt){return T*(vt(St)/vt(St+j*gt))}function Du(gt){return T*(vt(St)*Ot(St+j*gt)-Lt(St))/q}function Vu(gt){return 1-Math.pow(1-gt,1.5)}var Fu=Date.now(),Fo=(J(1)-St)/j,Zu=a.duration?1e3*a.duration:1e3*Fo*.8;function Zo(){var gt=(Date.now()-Fu)/Zu,un=Vu(gt)*Fo;gt<=1?(this._flyToFrame=D(Zo,this),this._move(this.unproject(c.add(f.subtract(c).multiplyBy(Du(un)/O)),w),this.getScaleZoom(T/He(un),w),{flyTo:!0})):this._move(i,s)._moveEnd(!0)}return this._moveStart(!0,a.noMoveStart),Zo.call(this),this},flyToBounds:function(i,s){var a=this._getBoundsCenterZoom(i,s);return this.flyTo(a.center,a.zoom,s)},setMaxBounds:function(i){return i=lt(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var s=this.options.minZoom;return this.options.minZoom=i,this._loaded&&s!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var s=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&s!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,s){this._enforcingBounds=!0;var a=this.getCenter(),c=this._limitCenter(a,this._zoom,lt(i));return a.equals(c)||this.panTo(c,s),this._enforcingBounds=!1,this},panInside:function(i,s){s=s||{};var a=H(s.paddingTopLeft||s.padding||[0,0]),c=H(s.paddingBottomRight||s.padding||[0,0]),f=this.project(this.getCenter()),g=this.project(i),w=this.getPixelBounds(),T=wt([w.min.add(a),w.max.subtract(c)]),S=T.getSize();if(!T.contains(g)){this._enforcingBounds=!0;var O=g.subtract(T.getCenter()),j=T.extend(g).getSize().subtract(S);f.x+=O.x<0?-j.x:j.x,f.y+=O.y<0?-j.y:j.y,this.panTo(this.unproject(f),s),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=o({animate:!1,pan:!0},i===!0?{animate:!0}:i);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var a=this.getSize(),c=s.divideBy(2).round(),f=a.divideBy(2).round(),g=c.subtract(f);return!g.x&&!g.y?this:(i.animate&&i.pan?this.panBy(g):(i.pan&&this._rawPanBy(g),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:a}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=o({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=l(this._handleGeolocationResponse,this),a=l(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,a,i):navigator.geolocation.getCurrentPosition(s,a,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var s=i.code,a=i.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+a+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var s=i.coords.latitude,a=i.coords.longitude,c=new st(s,a),f=c.toBounds(i.coords.accuracy*2),g=this._locateOptions;if(g.setView){var w=this.getBoundsZoom(f);this.setView(c,g.maxZoom?Math.min(w,g.maxZoom):w)}var T={latlng:c,bounds:f,timestamp:i.timestamp};for(var S in i.coords)typeof i.coords[S]=="number"&&(T[S]=i.coords[S]);this.fire("locationfound",T)}},addHandler:function(i,s){if(!s)return this;var a=this[i]=new s(this);return this._handlers.push(a),this.options[i]&&a.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ht(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)ht(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,s){var a="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),c=et("div",a,s||this._mapPane);return i&&(this._panes[i]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),s=this.unproject(i.getBottomLeft()),a=this.unproject(i.getTopRight());return new _t(s,a)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,s,a){i=lt(i),a=H(a||[0,0]);var c=this.getZoom()||0,f=this.getMinZoom(),g=this.getMaxZoom(),w=i.getNorthWest(),T=i.getSouthEast(),S=this.getSize().subtract(a),O=wt(this.project(T,c),this.project(w,c)).getSize(),j=Z.any3d?this.options.zoomSnap:1,q=S.x/O.x,J=S.y/O.y,Lt=s?Math.max(q,J):Math.min(q,J);return c=this.getScaleZoom(Lt,c),j&&(c=Math.round(c/(j/100))*(j/100),c=s?Math.ceil(c/j)*j:Math.floor(c/j)*j),Math.max(f,Math.min(g,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,s){var a=this._getTopLeftPoint(i,s);return new rt(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,s){var a=this.options.crs;return s=s===void 0?this._zoom:s,a.scale(i)/a.scale(s)},getScaleZoom:function(i,s){var a=this.options.crs;s=s===void 0?this._zoom:s;var c=a.zoom(i*a.scale(s));return isNaN(c)?1/0:c},project:function(i,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(Q(i),s)},unproject:function(i,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(H(i),s)},layerPointToLatLng:function(i){var s=H(i).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(i){var s=this.project(Q(i))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(Q(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(lt(i))},distance:function(i,s){return this.options.crs.distance(Q(i),Q(s))},containerPointToLayerPoint:function(i){return H(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return H(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var s=this.containerPointToLayerPoint(H(i));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Q(i)))},mouseEventToContainerPoint:function(i){return oo(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var s=this._container=io(i);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Y(s,"scroll",this._onScroll,this),this._containerId=d(s)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&Z.any3d,X(i,"leaflet-container"+(Z.touch?" leaflet-touch":"")+(Z.retina?" leaflet-retina":"")+(Z.ielt9?" leaflet-oldie":"")+(Z.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=li(i,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),pt(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(X(i.markerPane,"leaflet-zoom-hide"),X(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,s,a){pt(this._mapPane,new W(0,0));var c=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var f=this._zoom!==s;this._moveStart(f,a)._move(i,s)._moveEnd(f),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(i,s){return i&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(i,s,a,c){s===void 0&&(s=this._zoom);var f=this._zoom!==s;return this._zoom=s,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),c?a&&a.pinch&&this.fire("zoom",a):((f||a&&a.pinch)&&this.fire("zoom",a),this.fire("move",a)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){pt(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[d(this._container)]=this;var s=i?ot:Y;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),Z.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=D(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,s){for(var a=[],c,f=s==="mouseout"||s==="mouseover",g=i.target||i.srcElement,w=!1;g;){if(c=this._targets[d(g)],c&&(s==="click"||s==="preclick")&&this._draggableMoved(c)){w=!0;break}if(c&&c.listens(s,!0)&&(f&&!is(g,i)||(a.push(c),f))||g===this._container)break;g=g.parentNode}return!a.length&&!w&&!f&&this.listens(s,!0)&&(a=[this]),a},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var s=i.target||i.srcElement;if(!(!this._loaded||s._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(s))){var a=i.type;a==="mousedown"&&Yn(s),this._fireDOMEvent(i,a)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,s,a){if(i.type==="click"){var c=o({},i);c.type="preclick",this._fireDOMEvent(c,c.type,a)}var f=this._findEventTargets(i,s);if(a){for(var g=[],w=0;w<a.length;w++)a[w].listens(s,!0)&&g.push(a[w]);f=g.concat(f)}if(f.length){s==="contextmenu"&&bt(i);var T=f[0],S={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var O=T.getLatLng&&(!T._radius||T._radius<=10);S.containerPoint=O?this.latLngToContainerPoint(T.getLatLng()):this.mouseEventToContainerPoint(i),S.layerPoint=this.containerPointToLayerPoint(S.containerPoint),S.latlng=O?T.getLatLng():this.layerPointToLatLng(S.layerPoint)}for(w=0;w<f.length;w++)if(f[w].fire(s,S,!0),S.originalEvent._stopped||f[w].options.bubblingMouseEvents===!1&&R(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,s=this._handlers.length;i<s;i++)this._handlers[i].disable()},whenReady:function(i,s){return this._loaded?i.call(s||this,{target:this}):this.on("load",i,s),this},_getMapPanePos:function(){return Te(this._mapPane)||new W(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,s){var a=i&&s!==void 0?this._getNewPixelOrigin(i,s):this.getPixelOrigin();return a.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,s){var a=this.getSize()._divideBy(2);return this.project(i,s)._subtract(a)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,s,a){var c=this._getNewPixelOrigin(a,s);return this.project(i,s)._subtract(c)},_latLngBoundsToNewLayerBounds:function(i,s,a){var c=this._getNewPixelOrigin(a,s);return wt([this.project(i.getSouthWest(),s)._subtract(c),this.project(i.getNorthWest(),s)._subtract(c),this.project(i.getSouthEast(),s)._subtract(c),this.project(i.getNorthEast(),s)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,s,a){if(!a)return i;var c=this.project(i,s),f=this.getSize().divideBy(2),g=new rt(c.subtract(f),c.add(f)),w=this._getBoundsOffset(g,a,s);return Math.abs(w.x)<=1&&Math.abs(w.y)<=1?i:this.unproject(c.add(w),s)},_limitOffset:function(i,s){if(!s)return i;var a=this.getPixelBounds(),c=new rt(a.min.add(i),a.max.add(i));return i.add(this._getBoundsOffset(c,s))},_getBoundsOffset:function(i,s,a){var c=wt(this.project(s.getNorthEast(),a),this.project(s.getSouthWest(),a)),f=c.min.subtract(i.min),g=c.max.subtract(i.max),w=this._rebound(f.x,-g.x),T=this._rebound(f.y,-g.y);return new W(w,T)},_rebound:function(i,s){return i+s>0?Math.round(i-s)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(s))},_limitZoom:function(i){var s=this.getMinZoom(),a=this.getMaxZoom(),c=Z.any3d?this.options.zoomSnap:1;return c&&(i=Math.round(i/c)*c),Math.max(s,Math.min(a,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){dt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,s){var a=this._getCenterOffset(i)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(a)?!1:(this.panBy(a,s),!0)},_createAnimProxy:function(){var i=this._proxy=et("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(s){var a=Wn,c=this._proxy.style[a];Pe(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),c===this._proxy.style[a]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ht(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),s=this.getZoom();Pe(this._proxy,this.project(i,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,s,a){if(this._animatingZoom)return!0;if(a=a||{},!this._zoomAnimated||a.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(s),f=this._getCenterOffset(i)._divideBy(1-1/c);return a.animate!==!0&&!this.getSize().contains(f)?!1:(D(function(){this._moveStart(!0,a.noMoveStart||!1)._animateZoom(i,s,!0)},this),!0)},_animateZoom:function(i,s,a,c){this._mapPane&&(a&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=s,X(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:s,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&dt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function iu(i,s){return new tt(i,s)}var Bt=F.extend({options:{position:"topright"},initialize:function(i){P(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var s=this._map;return s&&s.removeControl(this),this.options.position=i,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var s=this._container=this.onAdd(i),a=this.getPosition(),c=i._controlCorners[a];return X(s,"leaflet-control"),a.indexOf("bottom")!==-1?c.insertBefore(s,c.firstChild):c.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ht(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),fi=function(i){return new Bt(i)};tt.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},s="leaflet-",a=this._controlContainer=et("div",s+"control-container",this._container);function c(f,g){var w=s+f+" "+s+g;i[f+g]=et("div",w,a)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)ht(this._controlCorners[i]);ht(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ho=Bt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,s,a,c){return a<c?-1:c<a?1:0}},initialize:function(i,s,a){P(this,a),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in i)this._addLayer(i[c],c);for(c in s)this._addLayer(s[c],c,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return Bt.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,s){return this._addLayer(i,s),this._map?this._update():this},addOverlay:function(i,s){return this._addLayer(i,s,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var s=this._getLayer(d(i));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){X(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(X(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):dt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return dt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",s=this._container=et("div",i),a=this.options.collapsed;s.setAttribute("aria-haspopup",!0),di(s),es(s);var c=this._section=et("section",i+"-list");a&&(this._map.on("click",this.collapse,this),Y(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var f=this._layersLink=et("a",i+"-toggle",s);f.href="#",f.title="Layers",f.setAttribute("role","button"),Y(f,{keydown:function(g){g.keyCode===13&&this._expandSafely()},click:function(g){bt(g),this._expandSafely()}},this),a||this.expand(),this._baseLayersList=et("div",i+"-base",c),this._separator=et("div",i+"-separator",c),this._overlaysList=et("div",i+"-overlays",c),s.appendChild(c)},_getLayer:function(i){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&d(this._layers[s].layer)===i)return this._layers[s]},_addLayer:function(i,s,a){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:s,overlay:a}),this.options.sortLayers&&this._layers.sort(l(function(c,f){return this.options.sortFunction(c.layer,f.layer,c.name,f.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Gi(this._baseLayersList),Gi(this._overlaysList),this._layerControlInputs=[];var i,s,a,c,f=0;for(a=0;a<this._layers.length;a++)c=this._layers[a],this._addItem(c),s=s||c.overlay,i=i||!c.overlay,f+=c.overlay?0:1;return this.options.hideSingleBase&&(i=i&&f>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=s&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var s=this._getLayer(d(i.target)),a=s.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;a&&this._map.fire(a,s)},_createRadioElement:function(i,s){var a='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(s?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=a,c.firstChild},_addItem:function(i){var s=document.createElement("label"),a=this._map.hasLayer(i.layer),c;i.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=a):c=this._createRadioElement("leaflet-base-layers_"+d(this),a),this._layerControlInputs.push(c),c.layerId=d(i.layer),Y(c,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+i.name;var g=document.createElement("span");s.appendChild(g),g.appendChild(c),g.appendChild(f);var w=i.overlay?this._overlaysList:this._baseLayersList;return w.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,s,a,c=[],f=[];this._handlingClick=!0;for(var g=i.length-1;g>=0;g--)s=i[g],a=this._getLayer(s.layerId).layer,s.checked?c.push(a):s.checked||f.push(a);for(g=0;g<f.length;g++)this._map.hasLayer(f[g])&&this._map.removeLayer(f[g]);for(g=0;g<c.length;g++)this._map.hasLayer(c[g])||this._map.addLayer(c[g]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,s,a,c=this._map.getZoom(),f=i.length-1;f>=0;f--)s=i[f],a=this._getLayer(s.layerId).layer,s.disabled=a.options.minZoom!==void 0&&c<a.options.minZoom||a.options.maxZoom!==void 0&&c>a.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,Y(i,"click",bt),this.expand();var s=this;setTimeout(function(){ot(i,"click",bt),s._preventClick=!1})}}),nu=function(i,s,a){return new ho(i,s,a)},ns=Bt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var s="leaflet-control-zoom",a=et("div",s+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,s+"-in",a,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,s+"-out",a,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,s,a,c,f){var g=et("a",a,c);return g.innerHTML=i,g.href="#",g.title=s,g.setAttribute("role","button"),g.setAttribute("aria-label",s),di(g),Y(g,"click",Me),Y(g,"click",f,this),Y(g,"click",this._refocusOnMap,this),g},_updateDisabled:function(){var i=this._map,s="leaflet-disabled";dt(this._zoomInButton,s),dt(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(X(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(X(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});tt.mergeOptions({zoomControl:!0}),tt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ns,this.addControl(this.zoomControl))});var su=function(i){return new ns(i)},co=Bt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var s="leaflet-control-scale",a=et("div",s),c=this.options;return this._addScales(c,s+"-line",a),i.on(c.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),a},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,s,a){i.metric&&(this._mScale=et("div",s,a)),i.imperial&&(this._iScale=et("div",s,a))},_update:function(){var i=this._map,s=i.getSize().y/2,a=i.distance(i.containerPointToLatLng([0,s]),i.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(a)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var s=this._getRoundNum(i),a=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,a,s/i)},_updateImperial:function(i){var s=i*3.2808399,a,c,f;s>5280?(a=s/5280,c=this._getRoundNum(a),this._updateScale(this._iScale,c+" mi",c/a)):(f=this._getRoundNum(s),this._updateScale(this._iScale,f+" ft",f/s))},_updateScale:function(i,s,a){i.style.width=Math.round(this.options.maxWidth*a)+"px",i.innerHTML=s},_getRoundNum:function(i){var s=Math.pow(10,(Math.floor(i)+"").length-1),a=i/s;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,s*a}}),ru=function(i){return new co(i)},ou='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ss=Bt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Z.inlineSvg?ou+" ":"")+"Leaflet</a>"},initialize:function(i){P(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=et("div","leaflet-control-attribution"),di(this._container);for(var s in i._layers)i._layers[s].getAttribution&&this.addAttribution(i._layers[s].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var s in this._attributions)this._attributions[s]&&i.push(s);var a=[];this.options.prefix&&a.push(this.options.prefix),i.length&&a.push(i.join(", ")),this._container.innerHTML=a.join(' <span aria-hidden="true">|</span> ')}}});tt.mergeOptions({attributionControl:!0}),tt.addInitHook(function(){this.options.attributionControl&&new ss().addTo(this)});var au=function(i){return new ss(i)};Bt.Layers=ho,Bt.Zoom=ns,Bt.Scale=co,Bt.Attribution=ss,fi.layers=nu,fi.zoom=su,fi.scale=ru,fi.attribution=au;var Gt=F.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Gt.addTo=function(i,s){return i.addHandler(s,this),this};var lu={Events:Pt},uo=Z.touch?"touchstart mousedown":"mousedown",me=at.extend({options:{clickTolerance:3},initialize:function(i,s,a,c){P(this,c),this._element=i,this._dragStartTarget=s||i,this._preventOutline=a},enable:function(){this._enabled||(Y(this._dragStartTarget,uo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(me._dragging===this&&this.finishDrag(!0),ot(this._dragStartTarget,uo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Hn(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){me._dragging===this&&this.finishDrag();return}if(!(me._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(me._dragging=this,this._preventOutline&&Yn(this._element),$n(),hi(),!this._moving)){this.fire("down");var s=i.touches?i.touches[0]:i,a=no(this._element);this._startPoint=new W(s.clientX,s.clientY),this._startPos=Te(this._element),this._parentScale=Xn(a);var c=i.type==="mousedown";Y(document,c?"mousemove":"touchmove",this._onMove,this),Y(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var s=i.touches&&i.touches.length===1?i.touches[0]:i,a=new W(s.clientX,s.clientY)._subtract(this._startPoint);!a.x&&!a.y||Math.abs(a.x)+Math.abs(a.y)<this.options.clickTolerance||(a.x/=this._parentScale.x,a.y/=this._parentScale.y,bt(i),this._moved||(this.fire("dragstart"),this._moved=!0,X(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),X(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(a),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),pt(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){dt(document.body,"leaflet-dragging"),this._lastTarget&&(dt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ot(document,"mousemove touchmove",this._onMove,this),ot(document,"mouseup touchend touchcancel",this._onUp,this),Gn(),ci();var s=this._moved&&this._moving;this._moving=!1,me._dragging=!1,s&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function fo(i,s,a){var c,f=[1,4,2,8],g,w,T,S,O,j,q,J;for(g=0,j=i.length;g<j;g++)i[g]._code=Ce(i[g],s);for(T=0;T<4;T++){for(q=f[T],c=[],g=0,j=i.length,w=j-1;g<j;w=g++)S=i[g],O=i[w],S._code&q?O._code&q||(J=Qi(O,S,q,s,a),J._code=Ce(J,s),c.push(J)):(O._code&q&&(J=Qi(O,S,q,s,a),J._code=Ce(J,s),c.push(J)),c.push(S));i=c}return i}function mo(i,s){var a,c,f,g,w,T,S,O,j;if(!i||i.length===0)throw new Error("latlngs not passed");zt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var q=Q([0,0]),J=lt(i),Lt=J.getNorthWest().distanceTo(J.getSouthWest())*J.getNorthEast().distanceTo(J.getNorthWest());Lt<1700&&(q=rs(i));var vt=i.length,Ot=[];for(a=0;a<vt;a++){var St=Q(i[a]);Ot.push(s.project(Q([St.lat-q.lat,St.lng-q.lng])))}for(T=S=O=0,a=0,c=vt-1;a<vt;c=a++)f=Ot[a],g=Ot[c],w=f.y*g.x-g.y*f.x,S+=(f.x+g.x)*w,O+=(f.y+g.y)*w,T+=w*3;T===0?j=Ot[0]:j=[S/T,O/T];var He=s.unproject(H(j));return Q([He.lat+q.lat,He.lng+q.lng])}function rs(i){for(var s=0,a=0,c=0,f=0;f<i.length;f++){var g=Q(i[f]);s+=g.lat,a+=g.lng,c++}return Q([s/c,a/c])}var hu={__proto__:null,clipPolygon:fo,polygonCenter:mo,centroid:rs};function po(i,s){if(!s||!i.length)return i.slice();var a=s*s;return i=du(i,a),i=uu(i,a),i}function go(i,s,a){return Math.sqrt(mi(i,s,a,!0))}function cu(i,s,a){return mi(i,s,a)}function uu(i,s){var a=i.length,c=typeof Uint8Array<"u"?Uint8Array:Array,f=new c(a);f[0]=f[a-1]=1,os(i,f,s,0,a-1);var g,w=[];for(g=0;g<a;g++)f[g]&&w.push(i[g]);return w}function os(i,s,a,c,f){var g=0,w,T,S;for(T=c+1;T<=f-1;T++)S=mi(i[T],i[c],i[f],!0),S>g&&(w=T,g=S);g>a&&(s[w]=1,os(i,s,a,c,w),os(i,s,a,w,f))}function du(i,s){for(var a=[i[0]],c=1,f=0,g=i.length;c<g;c++)fu(i[c],i[f])>s&&(a.push(i[c]),f=c);return f<g-1&&a.push(i[g-1]),a}var _o;function vo(i,s,a,c,f){var g=c?_o:Ce(i,a),w=Ce(s,a),T,S,O;for(_o=w;;){if(!(g|w))return[i,s];if(g&w)return!1;T=g||w,S=Qi(i,s,T,a,f),O=Ce(S,a),T===g?(i=S,g=O):(s=S,w=O)}}function Qi(i,s,a,c,f){var g=s.x-i.x,w=s.y-i.y,T=c.min,S=c.max,O,j;return a&8?(O=i.x+g*(S.y-i.y)/w,j=S.y):a&4?(O=i.x+g*(T.y-i.y)/w,j=T.y):a&2?(O=S.x,j=i.y+w*(S.x-i.x)/g):a&1&&(O=T.x,j=i.y+w*(T.x-i.x)/g),new W(O,j,f)}function Ce(i,s){var a=0;return i.x<s.min.x?a|=1:i.x>s.max.x&&(a|=2),i.y<s.min.y?a|=4:i.y>s.max.y&&(a|=8),a}function fu(i,s){var a=s.x-i.x,c=s.y-i.y;return a*a+c*c}function mi(i,s,a,c){var f=s.x,g=s.y,w=a.x-f,T=a.y-g,S=w*w+T*T,O;return S>0&&(O=((i.x-f)*w+(i.y-g)*T)/S,O>1?(f=a.x,g=a.y):O>0&&(f+=w*O,g+=T*O)),w=i.x-f,T=i.y-g,c?w*w+T*T:new W(f,g)}function zt(i){return!A(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function yo(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),zt(i)}function xo(i,s){var a,c,f,g,w,T,S,O;if(!i||i.length===0)throw new Error("latlngs not passed");zt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var j=Q([0,0]),q=lt(i),J=q.getNorthWest().distanceTo(q.getSouthWest())*q.getNorthEast().distanceTo(q.getNorthWest());J<1700&&(j=rs(i));var Lt=i.length,vt=[];for(a=0;a<Lt;a++){var Ot=Q(i[a]);vt.push(s.project(Q([Ot.lat-j.lat,Ot.lng-j.lng])))}for(a=0,c=0;a<Lt-1;a++)c+=vt[a].distanceTo(vt[a+1])/2;if(c===0)O=vt[0];else for(a=0,g=0;a<Lt-1;a++)if(w=vt[a],T=vt[a+1],f=w.distanceTo(T),g+=f,g>c){S=(g-c)/f,O=[T.x-S*(T.x-w.x),T.y-S*(T.y-w.y)];break}var St=s.unproject(H(O));return Q([St.lat+j.lat,St.lng+j.lng])}var mu={__proto__:null,simplify:po,pointToSegmentDistance:go,closestPointOnSegment:cu,clipSegment:vo,_getEdgeIntersection:Qi,_getBitCode:Ce,_sqClosestPointOnSegment:mi,isFlat:zt,_flat:yo,polylineCenter:xo},as={project:function(i){return new W(i.lng,i.lat)},unproject:function(i){return new st(i.y,i.x)},bounds:new rt([-180,-90],[180,90])},ls={R:6378137,R_MINOR:6356752314245179e-9,bounds:new rt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var s=Math.PI/180,a=this.R,c=i.lat*s,f=this.R_MINOR/a,g=Math.sqrt(1-f*f),w=g*Math.sin(c),T=Math.tan(Math.PI/4-c/2)/Math.pow((1-w)/(1+w),g/2);return c=-a*Math.log(Math.max(T,1e-10)),new W(i.lng*s*a,c)},unproject:function(i){for(var s=180/Math.PI,a=this.R,c=this.R_MINOR/a,f=Math.sqrt(1-c*c),g=Math.exp(-i.y/a),w=Math.PI/2-2*Math.atan(g),T=0,S=.1,O;T<15&&Math.abs(S)>1e-7;T++)O=f*Math.sin(w),O=Math.pow((1-O)/(1+O),f/2),S=Math.PI/2-2*Math.atan(g*O)-w,w+=S;return new st(w*s,i.x*s/a)}},pu={__proto__:null,LonLat:as,Mercator:ls,SphericalMercator:ee},gu=o({},Ht,{code:"EPSG:3395",projection:ls,transformation:function(){var i=.5/(Math.PI*ls.R);return ue(i,.5,-i,.5)}()}),wo=o({},Ht,{code:"EPSG:4326",projection:as,transformation:ue(1/180,1,-1/180,.5)}),_u=o({},It,{projection:as,transformation:ue(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,s){var a=s.lng-i.lng,c=s.lat-i.lat;return Math.sqrt(a*a+c*c)},infinite:!0});It.Earth=Ht,It.EPSG3395=gu,It.EPSG3857=de,It.EPSG900913=Ui,It.EPSG4326=wo,It.Simple=_u;var Dt=at.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[d(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[d(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var s=i.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var a=this.getEvents();s.on(a,this),this.once("remove",function(){s.off(a,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});tt.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var s=d(i);return this._layers[s]?this:(this._layers[s]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var s=d(i);return this._layers[s]?(this._loaded&&i.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return d(i)in this._layers},eachLayer:function(i,s){for(var a in this._layers)i.call(s,this._layers[a]);return this},_addLayers:function(i){i=i?A(i)?i:[i]:[];for(var s=0,a=i.length;s<a;s++)this.addLayer(i[s])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[d(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var s=d(i);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,s=-1/0,a=this._getZoomSpan();for(var c in this._zoomBoundLayers){var f=this._zoomBoundLayers[c].options;i=f.minZoom===void 0?i:Math.min(i,f.minZoom),s=f.maxZoom===void 0?s:Math.max(s,f.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=i===1/0?void 0:i,a!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var De=Dt.extend({initialize:function(i,s){P(this,s),this._layers={};var a,c;if(i)for(a=0,c=i.length;a<c;a++)this.addLayer(i[a])},addLayer:function(i){var s=this.getLayerId(i);return this._layers[s]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var s=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(i){var s=typeof i=="number"?i:this.getLayerId(i);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var s=Array.prototype.slice.call(arguments,1),a,c;for(a in this._layers)c=this._layers[a],c[i]&&c[i].apply(c,s);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,s){for(var a in this._layers)i.call(s,this._layers[a]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return d(i)}}),vu=function(i,s){return new De(i,s)},ne=De.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),De.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),De.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new _t;for(var s in this._layers){var a=this._layers[s];i.extend(a.getBounds?a.getBounds():a.getLatLng())}return i}}),yu=function(i,s){return new ne(i,s)},Ve=F.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){P(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,s){var a=this._getIconUrl(i);if(!a){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(a,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(c,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(i,s){var a=this.options,c=a[s+"Size"];typeof c=="number"&&(c=[c,c]);var f=H(c),g=H(s==="shadow"&&a.shadowAnchor||a.iconAnchor||f&&f.divideBy(2,!0));i.className="leaflet-marker-"+s+" "+(a.className||""),g&&(i.style.marginLeft=-g.x+"px",i.style.marginTop=-g.y+"px"),f&&(i.style.width=f.x+"px",i.style.height=f.y+"px")},_createImg:function(i,s){return s=s||document.createElement("img"),s.src=i,s},_getIconUrl:function(i){return Z.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function xu(i){return new Ve(i)}var pi=Ve.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof pi.imagePath!="string"&&(pi.imagePath=this._detectIconPath()),(this.options.imagePath||pi.imagePath)+Ve.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var s=function(a,c,f){var g=c.exec(a);return g&&g[f]};return i=s(i,/^url\((['"])?(.+)\1\)$/,2),i&&s(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=et("div","leaflet-default-icon-path",document.body),s=li(i,"background-image")||li(i,"backgroundImage");if(document.body.removeChild(i),s=this._stripUrl(s),s)return s;var a=document.querySelector('link[href$="leaflet.css"]');return a?a.href.substring(0,a.href.length-11-1):""}}),bo=Gt.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new me(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),X(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&dt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var s=this._marker,a=s._map,c=this._marker.options.autoPanSpeed,f=this._marker.options.autoPanPadding,g=Te(s._icon),w=a.getPixelBounds(),T=a.getPixelOrigin(),S=wt(w.min._subtract(T).add(f),w.max._subtract(T).subtract(f));if(!S.contains(g)){var O=H((Math.max(S.max.x,g.x)-S.max.x)/(w.max.x-S.max.x)-(Math.min(S.min.x,g.x)-S.min.x)/(w.min.x-S.min.x),(Math.max(S.max.y,g.y)-S.max.y)/(w.max.y-S.max.y)-(Math.min(S.min.y,g.y)-S.min.y)/(w.min.y-S.min.y)).multiplyBy(c);a.panBy(O,{animate:!1}),this._draggable._newPos._add(O),this._draggable._startPos._add(O),pt(s._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=D(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=D(this._adjustPan.bind(this,i)))},_onDrag:function(i){var s=this._marker,a=s._shadow,c=Te(s._icon),f=s._map.layerPointToLatLng(c);a&&pt(a,c),s._latlng=f,i.latlng=f,i.oldLatLng=this._oldLatLng,s.fire("move",i).fire("drag",i)},_onDragEnd:function(i){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),tn=Dt.extend({options:{icon:new pi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,s){P(this,s),this._latlng=Q(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var s=this._latlng;return this._latlng=Q(i),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),a=i.icon.createIcon(this._icon),c=!1;a!==this._icon&&(this._icon&&this._removeIcon(),c=!0,i.title&&(a.title=i.title),a.tagName==="IMG"&&(a.alt=i.alt||"")),X(a,s),i.keyboard&&(a.tabIndex="0",a.setAttribute("role","button")),this._icon=a,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Y(a,"focus",this._panOnFocus,this);var f=i.icon.createShadow(this._shadow),g=!1;f!==this._shadow&&(this._removeShadow(),g=!0),f&&(X(f,s),f.alt=""),this._shadow=f,i.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),f&&g&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ot(this._icon,"focus",this._panOnFocus,this),ht(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ht(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&pt(this._icon,i),this._shadow&&pt(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(X(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),bo)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new bo(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&kt(this._icon,i),this._shadow&&kt(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var s=this.options.icon.options,a=s.iconSize?H(s.iconSize):H(0,0),c=s.iconAnchor?H(s.iconAnchor):H(0,0);i.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:a.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function wu(i,s){return new tn(i,s)}var pe=Dt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return P(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),en=pe.extend({options:{fill:!0,radius:10},initialize:function(i,s){P(this,s),this._latlng=Q(i),this._radius=this.options.radius},setLatLng:function(i){var s=this._latlng;return this._latlng=Q(i),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var s=i&&i.radius||this._radius;return pe.prototype.setStyle.call(this,i),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,s=this._radiusY||i,a=this._clickTolerance(),c=[i+a,s+a];this._pxBounds=new rt(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function bu(i,s){return new en(i,s)}var hs=en.extend({initialize:function(i,s,a){if(typeof s=="number"&&(s=o({},a,{radius:s})),P(this,s),this._latlng=Q(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new _t(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:pe.prototype.setStyle,_project:function(){var i=this._latlng.lng,s=this._latlng.lat,a=this._map,c=a.options.crs;if(c.distance===Ht.distance){var f=Math.PI/180,g=this._mRadius/Ht.R/f,w=a.project([s+g,i]),T=a.project([s-g,i]),S=w.add(T).divideBy(2),O=a.unproject(S).lat,j=Math.acos((Math.cos(g*f)-Math.sin(s*f)*Math.sin(O*f))/(Math.cos(s*f)*Math.cos(O*f)))/f;(isNaN(j)||j===0)&&(j=g/Math.cos(Math.PI/180*s)),this._point=S.subtract(a.getPixelOrigin()),this._radius=isNaN(j)?0:S.x-a.project([O,i-j]).x,this._radiusY=S.y-w.y}else{var q=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=a.latLngToLayerPoint(this._latlng),this._radius=this._point.x-a.latLngToLayerPoint(q).x}this._updateBounds()}});function Pu(i,s,a){return new hs(i,s,a)}var se=pe.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,s){P(this,s),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var s=1/0,a=null,c=mi,f,g,w=0,T=this._parts.length;w<T;w++)for(var S=this._parts[w],O=1,j=S.length;O<j;O++){f=S[O-1],g=S[O];var q=c(i,f,g,!0);q<s&&(s=q,a=c(i,f,g))}return a&&(a.distance=Math.sqrt(s)),a},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xo(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,s){return s=s||this._defaultShape(),i=Q(i),s.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new _t,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return zt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var s=[],a=zt(i),c=0,f=i.length;c<f;c++)a?(s[c]=Q(i[c]),this._bounds.extend(s[c])):s[c]=this._convertLatLngs(i[c]);return s},_project:function(){var i=new rt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),s=new W(i,i);this._rawPxBounds&&(this._pxBounds=new rt([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(i,s,a){var c=i[0]instanceof st,f=i.length,g,w;if(c){for(w=[],g=0;g<f;g++)w[g]=this._map.latLngToLayerPoint(i[g]),a.extend(w[g]);s.push(w)}else for(g=0;g<f;g++)this._projectLatlngs(i[g],s,a)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,a,c,f,g,w,T,S;for(a=0,f=0,g=this._rings.length;a<g;a++)for(S=this._rings[a],c=0,w=S.length;c<w-1;c++)T=vo(S[c],S[c+1],i,c,!0),T&&(s[f]=s[f]||[],s[f].push(T[0]),(T[1]!==S[c+1]||c===w-2)&&(s[f].push(T[1]),f++))}},_simplifyPoints:function(){for(var i=this._parts,s=this.options.smoothFactor,a=0,c=i.length;a<c;a++)i[a]=po(i[a],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,s){var a,c,f,g,w,T,S=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(a=0,g=this._parts.length;a<g;a++)for(T=this._parts[a],c=0,w=T.length,f=w-1;c<w;f=c++)if(!(!s&&c===0)&&go(i,T[f],T[c])<=S)return!0;return!1}});function Tu(i,s){return new se(i,s)}se._flat=yo;var Fe=se.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return mo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var s=se.prototype._convertLatLngs.call(this,i),a=s.length;return a>=2&&s[0]instanceof st&&s[0].equals(s[a-1])&&s.pop(),s},_setLatLngs:function(i){se.prototype._setLatLngs.call(this,i),zt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return zt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,s=this.options.weight,a=new W(s,s);if(i=new rt(i.min.subtract(a),i.max.add(a)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,f=this._rings.length,g;c<f;c++)g=fo(this._rings[c],i,!0),g.length&&this._parts.push(g)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var s=!1,a,c,f,g,w,T,S,O;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(g=0,S=this._parts.length;g<S;g++)for(a=this._parts[g],w=0,O=a.length,T=O-1;w<O;T=w++)c=a[w],f=a[T],c.y>i.y!=f.y>i.y&&i.x<(f.x-c.x)*(i.y-c.y)/(f.y-c.y)+c.x&&(s=!s);return s||se.prototype._containsPoint.call(this,i,!0)}});function Lu(i,s){return new Fe(i,s)}var re=ne.extend({initialize:function(i,s){P(this,s),this._layers={},i&&this.addData(i)},addData:function(i){var s=A(i)?i:i.features,a,c,f;if(s){for(a=0,c=s.length;a<c;a++)f=s[a],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(f);return this}var g=this.options;if(g.filter&&!g.filter(i))return this;var w=nn(i,g);return w?(w.feature=on(i),w.defaultOptions=w.options,this.resetStyle(w),g.onEachFeature&&g.onEachFeature(i,w),this.addLayer(w)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=o({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(s){this._setLayerStyle(s,i)},this)},_setLayerStyle:function(i,s){i.setStyle&&(typeof s=="function"&&(s=s(i.feature)),i.setStyle(s))}});function nn(i,s){var a=i.type==="Feature"?i.geometry:i,c=a?a.coordinates:null,f=[],g=s&&s.pointToLayer,w=s&&s.coordsToLatLng||cs,T,S,O,j;if(!c&&!a)return null;switch(a.type){case"Point":return T=w(c),Po(g,i,T,s);case"MultiPoint":for(O=0,j=c.length;O<j;O++)T=w(c[O]),f.push(Po(g,i,T,s));return new ne(f);case"LineString":case"MultiLineString":return S=sn(c,a.type==="LineString"?0:1,w),new se(S,s);case"Polygon":case"MultiPolygon":return S=sn(c,a.type==="Polygon"?1:2,w),new Fe(S,s);case"GeometryCollection":for(O=0,j=a.geometries.length;O<j;O++){var q=nn({geometry:a.geometries[O],type:"Feature",properties:i.properties},s);q&&f.push(q)}return new ne(f);case"FeatureCollection":for(O=0,j=a.features.length;O<j;O++){var J=nn(a.features[O],s);J&&f.push(J)}return new ne(f);default:throw new Error("Invalid GeoJSON object.")}}function Po(i,s,a,c){return i?i(s,a):new tn(a,c&&c.markersInheritOptions&&c)}function cs(i){return new st(i[1],i[0],i[2])}function sn(i,s,a){for(var c=[],f=0,g=i.length,w;f<g;f++)w=s?sn(i[f],s-1,a):(a||cs)(i[f]),c.push(w);return c}function us(i,s){return i=Q(i),i.alt!==void 0?[y(i.lng,s),y(i.lat,s),y(i.alt,s)]:[y(i.lng,s),y(i.lat,s)]}function rn(i,s,a,c){for(var f=[],g=0,w=i.length;g<w;g++)f.push(s?rn(i[g],zt(i[g])?0:s-1,a,c):us(i[g],c));return!s&&a&&f.length>0&&f.push(f[0].slice()),f}function Ze(i,s){return i.feature?o({},i.feature,{geometry:s}):on(s)}function on(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var ds={toGeoJSON:function(i){return Ze(this,{type:"Point",coordinates:us(this.getLatLng(),i)})}};tn.include(ds),hs.include(ds),en.include(ds),se.include({toGeoJSON:function(i){var s=!zt(this._latlngs),a=rn(this._latlngs,s?1:0,!1,i);return Ze(this,{type:(s?"Multi":"")+"LineString",coordinates:a})}}),Fe.include({toGeoJSON:function(i){var s=!zt(this._latlngs),a=s&&!zt(this._latlngs[0]),c=rn(this._latlngs,a?2:s?1:0,!0,i);return s||(c=[c]),Ze(this,{type:(a?"Multi":"")+"Polygon",coordinates:c})}}),De.include({toMultiPoint:function(i){var s=[];return this.eachLayer(function(a){s.push(a.toGeoJSON(i).geometry.coordinates)}),Ze(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(i){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(i);var a=s==="GeometryCollection",c=[];return this.eachLayer(function(f){if(f.toGeoJSON){var g=f.toGeoJSON(i);if(a)c.push(g.geometry);else{var w=on(g);w.type==="FeatureCollection"?c.push.apply(c,w.features):c.push(w)}}}),a?Ze(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function To(i,s){return new re(i,s)}var Mu=To,an=Dt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,s,a){this._url=i,this._bounds=lt(s),P(this,a)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(X(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ht(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Ie(this._image),this},bringToBack:function(){return this._map&&Be(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=lt(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",s=this._image=i?this._url:et("img");if(X(s,"leaflet-image-layer"),this._zoomAnimated&&X(s,"leaflet-zoom-animated"),this.options.className&&X(s,this.options.className),s.onselectstart=_,s.onmousemove=_,s.onload=l(this.fire,this,"load"),s.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(i){var s=this._map.getZoomScale(i.zoom),a=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;Pe(this._image,a,s)},_reset:function(){var i=this._image,s=new rt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),a=s.getSize();pt(i,s.min),i.style.width=a.x+"px",i.style.height=a.y+"px"},_updateOpacity:function(){kt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),Cu=function(i,s,a){return new an(i,s,a)},Lo=an.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",s=this._image=i?this._url:et("video");if(X(s,"leaflet-image-layer"),this._zoomAnimated&&X(s,"leaflet-zoom-animated"),this.options.className&&X(s,this.options.className),s.onselectstart=_,s.onmousemove=_,s.onloadeddata=l(this.fire,this,"load"),i){for(var a=s.getElementsByTagName("source"),c=[],f=0;f<a.length;f++)c.push(a[f].src);this._url=a.length>0?c:[s.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var g=0;g<this._url.length;g++){var w=et("source");w.src=this._url[g],s.appendChild(w)}}});function Su(i,s,a){return new Lo(i,s,a)}var Mo=an.extend({_initImage:function(){var i=this._image=this._url;X(i,"leaflet-image-layer"),this._zoomAnimated&&X(i,"leaflet-zoom-animated"),this.options.className&&X(i,this.options.className),i.onselectstart=_,i.onmousemove=_}});function Au(i,s,a){return new Mo(i,s,a)}var Kt=Dt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,s){i&&(i instanceof st||A(i))?(this._latlng=Q(i),P(this,s)):(P(this,i),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&kt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&kt(this._container,1),this.bringToFront(),this.options.interactive&&(X(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(kt(this._container,0),this._removeTimeout=setTimeout(l(ht,void 0,this._container),200)):ht(this._container),this.options.interactive&&(dt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=Q(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ie(this._container),this},bringToBack:function(){return this._map&&Be(this._container),this},_prepareOpen:function(i){var s=this._source;if(!s._map)return!1;if(s instanceof ne){s=null;var a=this._source._layers;for(var c in a)if(a[c]._map){s=a[c];break}if(!s)return!1;this._source=s}if(!i)if(s.getCenter)i=s.getCenter();else if(s.getLatLng)i=s.getLatLng();else if(s.getBounds)i=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")i.innerHTML=s;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),s=H(this.options.offset),a=this._getAnchor();this._zoomAnimated?pt(this._container,i.add(a)):s=s.add(i).add(a);var c=this._containerBottom=-s.y,f=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=c+"px",this._container.style.left=f+"px"}},_getAnchor:function(){return[0,0]}});tt.include({_initOverlay:function(i,s,a,c){var f=s;return f instanceof i||(f=new i(c).setContent(s)),a&&f.setLatLng(a),f}}),Dt.include({_initOverlay:function(i,s,a,c){var f=a;return f instanceof i?(P(f,c),f._source=this):(f=s&&!c?s:new i(c,this),f.setContent(a)),f}});var ln=Kt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Kt.prototype.openOn.call(this,i)},onAdd:function(i){Kt.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof pe||this._source.on("preclick",Le))},onRemove:function(i){Kt.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof pe||this._source.off("preclick",Le))},getEvents:function(){var i=Kt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",s=this._container=et("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),a=this._wrapper=et("div",i+"-content-wrapper",s);if(this._contentNode=et("div",i+"-content",a),di(s),es(this._contentNode),Y(s,"contextmenu",Le),this._tipContainer=et("div",i+"-tip-container",s),this._tip=et("div",i+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=et("a",i+"-close-button",s);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',Y(c,"click",function(f){bt(f),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,s=i.style;s.width="",s.whiteSpace="nowrap";var a=i.offsetWidth;a=Math.min(a,this.options.maxWidth),a=Math.max(a,this.options.minWidth),s.width=a+1+"px",s.whiteSpace="",s.height="";var c=i.offsetHeight,f=this.options.maxHeight,g="leaflet-popup-scrolled";f&&c>f?(s.height=f+"px",X(i,g)):dt(i,g),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),a=this._getAnchor();pt(this._container,s.add(a))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,s=parseInt(li(this._container,"marginBottom"),10)||0,a=this._container.offsetHeight+s,c=this._containerWidth,f=new W(this._containerLeft,-a-this._containerBottom);f._add(Te(this._container));var g=i.layerPointToContainerPoint(f),w=H(this.options.autoPanPadding),T=H(this.options.autoPanPaddingTopLeft||w),S=H(this.options.autoPanPaddingBottomRight||w),O=i.getSize(),j=0,q=0;g.x+c+S.x>O.x&&(j=g.x+c-O.x+S.x),g.x-j-T.x<0&&(j=g.x-T.x),g.y+a+S.y>O.y&&(q=g.y+a-O.y+S.y),g.y-q-T.y<0&&(q=g.y-T.y),(j||q)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([j,q]))}},_getAnchor:function(){return H(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Eu=function(i,s){return new ln(i,s)};tt.mergeOptions({closePopupOnClick:!0}),tt.include({openPopup:function(i,s,a){return this._initOverlay(ln,i,s,a).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),Dt.include({bindPopup:function(i,s){return this._popup=this._initOverlay(ln,this._popup,i,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof ne||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){Me(i);var s=i.layer||i.target;if(this._popup._source===s&&!(s instanceof pe)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=s,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var hn=Kt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Kt.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Kt.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Kt.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",s=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=et("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var s,a,c=this._map,f=this._container,g=c.latLngToContainerPoint(c.getCenter()),w=c.layerPointToContainerPoint(i),T=this.options.direction,S=f.offsetWidth,O=f.offsetHeight,j=H(this.options.offset),q=this._getAnchor();T==="top"?(s=S/2,a=O):T==="bottom"?(s=S/2,a=0):T==="center"?(s=S/2,a=O/2):T==="right"?(s=0,a=O/2):T==="left"?(s=S,a=O/2):w.x<g.x?(T="right",s=0,a=O/2):(T="left",s=S+(j.x+q.x)*2,a=O/2),i=i.subtract(H(s,a,!0)).add(j).add(q),dt(f,"leaflet-tooltip-right"),dt(f,"leaflet-tooltip-left"),dt(f,"leaflet-tooltip-top"),dt(f,"leaflet-tooltip-bottom"),X(f,"leaflet-tooltip-"+T),pt(f,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&kt(this._container,i)},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(s)},_getAnchor:function(){return H(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ku=function(i,s){return new hn(i,s)};tt.include({openTooltip:function(i,s,a){return this._initOverlay(hn,i,s,a).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),Dt.include({bindTooltip:function(i,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(hn,this._tooltip,i,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var s=i?"off":"on",a={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,a.click=this._openTooltip,this._map?this._addFocusListeners():a.add=this._addFocusListeners),this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),this[s](a),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof ne||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var s=typeof i.getElement=="function"&&i.getElement();s&&(Y(s,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),Y(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var s=typeof i.getElement=="function"&&i.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var s=i.latlng,a,c;this._tooltip.options.sticky&&i.originalEvent&&(a=this._map.mouseEventToContainerPoint(i.originalEvent),c=this._map.containerPointToLayerPoint(a),s=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(s)}});var Co=Ve.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var s=i&&i.tagName==="DIV"?i:document.createElement("div"),a=this.options;if(a.html instanceof Element?(Gi(s),s.appendChild(a.html)):s.innerHTML=a.html!==!1?a.html:"",a.bgPos){var c=H(a.bgPos);s.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function zu(i){return new Co(i)}Ve.Default=pi;var gi=Dt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Z.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){P(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),ht(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ie(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Be(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof W?i:new W(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var s=this.getPane().children,a=-i(-1/0,1/0),c=0,f=s.length,g;c<f;c++)g=s[c].style.zIndex,s[c]!==this._container&&g&&(a=i(a,+g));isFinite(a)&&(this.options.zIndex=a+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Z.ielt9){kt(this._container,this.options.opacity);var i=+new Date,s=!1,a=!1;for(var c in this._tiles){var f=this._tiles[c];if(!(!f.current||!f.loaded)){var g=Math.min(1,(i-f.loaded)/200);kt(f.el,g),g<1?s=!0:(f.active?a=!0:this._onOpaqueTile(f),f.active=!0)}}a&&!this._noPrune&&this._pruneTiles(),s&&(U(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=et("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,s=this.options.maxZoom;if(i!==void 0){for(var a in this._levels)a=Number(a),this._levels[a].el.children.length||a===i?(this._levels[a].el.style.zIndex=s-Math.abs(i-a),this._onUpdateLevel(a)):(ht(this._levels[a].el),this._removeTilesAtZoom(a),this._onRemoveLevel(a),delete this._levels[a]);var c=this._levels[i],f=this._map;return c||(c=this._levels[i]={},c.el=et("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=s,c.origin=f.project(f.unproject(f.getPixelOrigin()),i).round(),c.zoom=i,this._setZoomTransform(c,f.getCenter(),f.getZoom()),_(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var i,s,a=this._map.getZoom();if(a>this.options.maxZoom||a<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)s=this._tiles[i],s.retain=s.current;for(i in this._tiles)if(s=this._tiles[i],s.current&&!s.active){var c=s.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var s in this._tiles)this._tiles[s].coords.z===i&&this._removeTile(s)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)ht(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,s,a,c){var f=Math.floor(i/2),g=Math.floor(s/2),w=a-1,T=new W(+f,+g);T.z=+w;var S=this._tileCoordsToKey(T),O=this._tiles[S];return O&&O.active?(O.retain=!0,!0):(O&&O.loaded&&(O.retain=!0),w>c?this._retainParent(f,g,w,c):!1)},_retainChildren:function(i,s,a,c){for(var f=2*i;f<2*i+2;f++)for(var g=2*s;g<2*s+2;g++){var w=new W(f,g);w.z=a+1;var T=this._tileCoordsToKey(w),S=this._tiles[T];if(S&&S.active){S.retain=!0;continue}else S&&S.loaded&&(S.retain=!0);a+1<c&&this._retainChildren(f,g,a+1,c)}},_resetView:function(i){var s=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var s=this.options;return s.minNativeZoom!==void 0&&i<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<i?s.maxNativeZoom:i},_setView:function(i,s,a,c){var f=Math.round(s);this.options.maxZoom!==void 0&&f>this.options.maxZoom||this.options.minZoom!==void 0&&f<this.options.minZoom?f=void 0:f=this._clampZoom(f);var g=this.options.updateWhenZooming&&f!==this._tileZoom;(!c||g)&&(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),f!==void 0&&this._update(i),a||this._pruneTiles(),this._noPrune=!!a),this._setZoomTransforms(i,s)},_setZoomTransforms:function(i,s){for(var a in this._levels)this._setZoomTransform(this._levels[a],i,s)},_setZoomTransform:function(i,s,a){var c=this._map.getZoomScale(a,i.zoom),f=i.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(s,a)).round();Z.any3d?Pe(i.el,f,c):pt(i.el,f)},_resetGrid:function(){var i=this._map,s=i.options.crs,a=this._tileSize=this.getTileSize(),c=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,s.wrapLng[0]],c).x/a.x),Math.ceil(i.project([0,s.wrapLng[1]],c).x/a.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([s.wrapLat[0],0],c).y/a.x),Math.ceil(i.project([s.wrapLat[1],0],c).y/a.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var s=this._map,a=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),c=s.getZoomScale(a,this._tileZoom),f=s.project(i,this._tileZoom).floor(),g=s.getSize().divideBy(c*2);return new rt(f.subtract(g),f.add(g))},_update:function(i){var s=this._map;if(s){var a=this._clampZoom(s.getZoom());if(i===void 0&&(i=s.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(i),f=this._pxBoundsToTileRange(c),g=f.getCenter(),w=[],T=this.options.keepBuffer,S=new rt(f.getBottomLeft().subtract([T,-T]),f.getTopRight().add([T,-T]));if(!(isFinite(f.min.x)&&isFinite(f.min.y)&&isFinite(f.max.x)&&isFinite(f.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var O in this._tiles){var j=this._tiles[O].coords;(j.z!==this._tileZoom||!S.contains(new W(j.x,j.y)))&&(this._tiles[O].current=!1)}if(Math.abs(a-this._tileZoom)>1){this._setView(i,a);return}for(var q=f.min.y;q<=f.max.y;q++)for(var J=f.min.x;J<=f.max.x;J++){var Lt=new W(J,q);if(Lt.z=this._tileZoom,!!this._isValidTile(Lt)){var vt=this._tiles[this._tileCoordsToKey(Lt)];vt?vt.current=!0:w.push(Lt)}}if(w.sort(function(St,He){return St.distanceTo(g)-He.distanceTo(g)}),w.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ot=document.createDocumentFragment();for(J=0;J<w.length;J++)this._addTile(w[J],Ot);this._level.el.appendChild(Ot)}}}},_isValidTile:function(i){var s=this._map.options.crs;if(!s.infinite){var a=this._globalTileRange;if(!s.wrapLng&&(i.x<a.min.x||i.x>a.max.x)||!s.wrapLat&&(i.y<a.min.y||i.y>a.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(i);return lt(this.options.bounds).overlaps(c)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var s=this._map,a=this.getTileSize(),c=i.scaleBy(a),f=c.add(a),g=s.unproject(c,i.z),w=s.unproject(f,i.z);return[g,w]},_tileCoordsToBounds:function(i){var s=this._tileCoordsToNwSe(i),a=new _t(s[0],s[1]);return this.options.noWrap||(a=this._map.wrapLatLngBounds(a)),a},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var s=i.split(":"),a=new W(+s[0],+s[1]);return a.z=+s[2],a},_removeTile:function(i){var s=this._tiles[i];s&&(ht(s.el),delete this._tiles[i],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){X(i,"leaflet-tile");var s=this.getTileSize();i.style.width=s.x+"px",i.style.height=s.y+"px",i.onselectstart=_,i.onmousemove=_,Z.ielt9&&this.options.opacity<1&&kt(i,this.options.opacity)},_addTile:function(i,s){var a=this._getTilePos(i),c=this._tileCoordsToKey(i),f=this.createTile(this._wrapCoords(i),l(this._tileReady,this,i));this._initTile(f),this.createTile.length<2&&D(l(this._tileReady,this,i,null,f)),pt(f,a),this._tiles[c]={el:f,coords:i,current:!0},s.appendChild(f),this.fire("tileloadstart",{tile:f,coords:i})},_tileReady:function(i,s,a){s&&this.fire("tileerror",{error:s,tile:a,coords:i});var c=this._tileCoordsToKey(i);a=this._tiles[c],a&&(a.loaded=+new Date,this._map._fadeAnimated?(kt(a.el,0),U(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),s||(X(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Z.ielt9||!this._map._fadeAnimated?D(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var s=new W(this._wrapX?m(i.x,this._wrapX):i.x,this._wrapY?m(i.y,this._wrapY):i.y);return s.z=i.z,s},_pxBoundsToTileRange:function(i){var s=this.getTileSize();return new rt(i.min.unscaleBy(s).floor(),i.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function Ou(i){return new gi(i)}var We=gi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,s){this._url=i,s=P(this,s),s.detectRetina&&Z.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,s){return this._url===i&&s===void 0&&(s=!0),this._url=i,s||this.redraw(),this},createTile:function(i,s){var a=document.createElement("img");return Y(a,"load",l(this._tileOnLoad,this,s,a)),Y(a,"error",l(this._tileOnError,this,s,a)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(a.referrerPolicy=this.options.referrerPolicy),a.alt="",a.src=this.getTileUrl(i),a},getTileUrl:function(i){var s={r:Z.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var a=this._globalTileRange.max.y-i.y;this.options.tms&&(s.y=a),s["-y"]=a}return k(this._url,o(s,this.options))},_tileOnLoad:function(i,s){Z.ielt9?setTimeout(l(i,this,null,s),0):i(null,s)},_tileOnError:function(i,s,a){var c=this.options.errorTileUrl;c&&s.getAttribute("src")!==c&&(s.src=c),i(a,s)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,s=this.options.maxZoom,a=this.options.zoomReverse,c=this.options.zoomOffset;return a&&(i=s-i),i+c},_getSubdomain:function(i){var s=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var i,s;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(s=this._tiles[i].el,s.onload=_,s.onerror=_,!s.complete)){s.src=z;var a=this._tiles[i].coords;ht(s),delete this._tiles[i],this.fire("tileabort",{tile:s,coords:a})}},_removeTile:function(i){var s=this._tiles[i];if(s)return s.el.setAttribute("src",z),gi.prototype._removeTile.call(this,i)},_tileReady:function(i,s,a){if(!(!this._map||a&&a.getAttribute("src")===z))return gi.prototype._tileReady.call(this,i,s,a)}});function So(i,s){return new We(i,s)}var Ao=We.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,s){this._url=i;var a=o({},this.defaultWmsParams);for(var c in s)c in this.options||(a[c]=s[c]);s=P(this,s);var f=s.detectRetina&&Z.retina?2:1,g=this.getTileSize();a.width=g.x*f,a.height=g.y*f,this.wmsParams=a},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,We.prototype.onAdd.call(this,i)},getTileUrl:function(i){var s=this._tileCoordsToNwSe(i),a=this._crs,c=wt(a.project(s[0]),a.project(s[1])),f=c.min,g=c.max,w=(this._wmsVersion>=1.3&&this._crs===wo?[f.y,f.x,g.y,g.x]:[f.x,f.y,g.x,g.y]).join(","),T=We.prototype.getTileUrl.call(this,i);return T+M(this.wmsParams,T,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+w},setParams:function(i,s){return o(this.wmsParams,i),s||this.redraw(),this}});function Ru(i,s){return new Ao(i,s)}We.WMS=Ao,So.wms=Ru;var oe=Dt.extend({options:{padding:.1},initialize:function(i){P(this,i),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),X(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,s){var a=this._map.getZoomScale(s,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,s),g=c.multiplyBy(-a).add(f).subtract(this._map._getNewPixelOrigin(i,s));Z.any3d?Pe(this._container,g,a):pt(this._container,g)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,s=this._map.getSize(),a=this._map.containerPointToLayerPoint(s.multiplyBy(-i)).round();this._bounds=new rt(a,a.add(s.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Eo=oe.extend({options:{tolerance:0},getEvents:function(){var i=oe.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){oe.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");Y(i,"mousemove",this._onMouseMove,this),Y(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Y(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,ht(this._container),ot(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var s in this._layers)i=this._layers[s],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){oe.prototype._update.call(this);var i=this._bounds,s=this._container,a=i.getSize(),c=Z.retina?2:1;pt(s,i.min),s.width=c*a.x,s.height=c*a.y,s.style.width=a.x+"px",s.style.height=a.y+"px",Z.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){oe.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[d(i)]=i;var s=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var s=i._order,a=s.next,c=s.prev;a?a.prev=c:this._drawLast=c,c?c.next=a:this._drawFirst=a,delete i._order,delete this._layers[d(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var s=i.options.dashArray.split(/[, ]+/),a=[],c,f;for(f=0;f<s.length;f++){if(c=Number(s[f]),isNaN(c))return;a.push(c)}i.options._dashArray=a}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||D(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var s=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new rt,this._redrawBounds.extend(i._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(i._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var s=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,s=this._redrawBounds;if(this._ctx.save(),s){var a=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,a.x,a.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)i=c.layer,(!s||i._pxBounds&&i._pxBounds.intersects(s))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,s){if(this._drawing){var a,c,f,g,w=i._parts,T=w.length,S=this._ctx;if(T){for(S.beginPath(),a=0;a<T;a++){for(c=0,f=w[a].length;c<f;c++)g=w[a][c],S[c?"lineTo":"moveTo"](g.x,g.y);s&&S.closePath()}this._fillStroke(S,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var s=i._point,a=this._ctx,c=Math.max(Math.round(i._radius),1),f=(Math.max(Math.round(i._radiusY),1)||c)/c;f!==1&&(a.save(),a.scale(1,f)),a.beginPath(),a.arc(s.x,s.y/f,c,0,Math.PI*2,!1),f!==1&&a.restore(),this._fillStroke(a,i)}},_fillStroke:function(i,s){var a=s.options;a.fill&&(i.globalAlpha=a.fillOpacity,i.fillStyle=a.fillColor||a.color,i.fill(a.fillRule||"evenodd")),a.stroke&&a.weight!==0&&(i.setLineDash&&i.setLineDash(s.options&&s.options._dashArray||[]),i.globalAlpha=a.opacity,i.lineWidth=a.weight,i.strokeStyle=a.color,i.lineCap=a.lineCap,i.lineJoin=a.lineJoin,i.stroke())},_onClick:function(i){for(var s=this._map.mouseEventToLayerPoint(i),a,c,f=this._drawFirst;f;f=f.next)a=f.layer,a.options.interactive&&a._containsPoint(s)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(a))&&(c=a);this._fireEvent(c?[c]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,s)}},_handleMouseOut:function(i){var s=this._hoveredLayer;s&&(dt(this._container,"leaflet-interactive"),this._fireEvent([s],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,s){if(!this._mouseHoverThrottled){for(var a,c,f=this._drawFirst;f;f=f.next)a=f.layer,a.options.interactive&&a._containsPoint(s)&&(c=a);c!==this._hoveredLayer&&(this._handleMouseOut(i),c&&(X(this._container,"leaflet-interactive"),this._fireEvent([c],i,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,s,a){this._map._fireDOMEvent(s,a||s.type,i)},_bringToFront:function(i){var s=i._order;if(s){var a=s.next,c=s.prev;if(a)a.prev=c;else return;c?c.next=a:a&&(this._drawFirst=a),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(i)}},_bringToBack:function(i){var s=i._order;if(s){var a=s.next,c=s.prev;if(c)c.next=a;else return;a?a.prev=c:c&&(this._drawLast=c),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(i)}}});function ko(i){return Z.canvas?new Eo(i):null}var _i=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Nu={_initContainer:function(){this._container=et("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(oe.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var s=i._container=_i("shape");X(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",i._path=_i("path"),s.appendChild(i._path),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){var s=i._container;this._container.appendChild(s),i.options.interactive&&i.addInteractiveTarget(s)},_removePath:function(i){var s=i._container;ht(s),i.removeInteractiveTarget(s),delete this._layers[d(i)]},_updateStyle:function(i){var s=i._stroke,a=i._fill,c=i.options,f=i._container;f.stroked=!!c.stroke,f.filled=!!c.fill,c.stroke?(s||(s=i._stroke=_i("stroke")),f.appendChild(s),s.weight=c.weight+"px",s.color=c.color,s.opacity=c.opacity,c.dashArray?s.dashStyle=A(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=c.lineCap.replace("butt","flat"),s.joinstyle=c.lineJoin):s&&(f.removeChild(s),i._stroke=null),c.fill?(a||(a=i._fill=_i("fill")),f.appendChild(a),a.color=c.fillColor||c.color,a.opacity=c.fillOpacity):a&&(f.removeChild(a),i._fill=null)},_updateCircle:function(i){var s=i._point.round(),a=Math.round(i._radius),c=Math.round(i._radiusY||a);this._setPath(i,i._empty()?"M0 0":"AL "+s.x+","+s.y+" "+a+","+c+" 0,"+65535*360)},_setPath:function(i,s){i._path.v=s},_bringToFront:function(i){Ie(i._container)},_bringToBack:function(i){Be(i._container)}},cn=Z.vml?_i:ni,vi=oe.extend({_initContainer:function(){this._container=cn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=cn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ht(this._container),ot(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){oe.prototype._update.call(this);var i=this._bounds,s=i.getSize(),a=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,a.setAttribute("width",s.x),a.setAttribute("height",s.y)),pt(a,i.min),a.setAttribute("viewBox",[i.min.x,i.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(i){var s=i._path=cn("path");i.options.className&&X(s,i.options.className),i.options.interactive&&X(s,"leaflet-interactive"),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){ht(i._path),i.removeInteractiveTarget(i._path),delete this._layers[d(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var s=i._path,a=i.options;s&&(a.stroke?(s.setAttribute("stroke",a.color),s.setAttribute("stroke-opacity",a.opacity),s.setAttribute("stroke-width",a.weight),s.setAttribute("stroke-linecap",a.lineCap),s.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?s.setAttribute("stroke-dasharray",a.dashArray):s.removeAttribute("stroke-dasharray"),a.dashOffset?s.setAttribute("stroke-dashoffset",a.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),a.fill?(s.setAttribute("fill",a.fillColor||a.color),s.setAttribute("fill-opacity",a.fillOpacity),s.setAttribute("fill-rule",a.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(i,s){this._setPath(i,si(i._parts,s))},_updateCircle:function(i){var s=i._point,a=Math.max(Math.round(i._radius),1),c=Math.max(Math.round(i._radiusY),1)||a,f="a"+a+","+c+" 0 1,0 ",g=i._empty()?"M0 0":"M"+(s.x-a)+","+s.y+f+a*2+",0 "+f+-a*2+",0 ";this._setPath(i,g)},_setPath:function(i,s){i._path.setAttribute("d",s)},_bringToFront:function(i){Ie(i._path)},_bringToBack:function(i){Be(i._path)}});Z.vml&&vi.include(Nu);function zo(i){return Z.svg||Z.vml?new vi(i):null}tt.include({getRenderer:function(i){var s=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var s=this._paneRenderers[i];return s===void 0&&(s=this._createRenderer({pane:i}),this._paneRenderers[i]=s),s},_createRenderer:function(i){return this.options.preferCanvas&&ko(i)||zo(i)}});var Oo=Fe.extend({initialize:function(i,s){Fe.prototype.initialize.call(this,this._boundsToLatLngs(i),s)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=lt(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function ju(i,s){return new Oo(i,s)}vi.create=cn,vi.pointsToPath=si,re.geometryToLayer=nn,re.coordsToLatLng=cs,re.coordsToLatLngs=sn,re.latLngToCoords=us,re.latLngsToCoords=rn,re.getFeature=Ze,re.asFeature=on,tt.mergeOptions({boxZoom:!0});var Ro=Gt.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){Y(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ot(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ht(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),hi(),$n(),this._startPoint=this._map.mouseEventToContainerPoint(i),Y(document,{contextmenu:Me,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=et("div","leaflet-zoom-box",this._container),X(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var s=new rt(this._point,this._startPoint),a=s.getSize();pt(this._box,s.min),this._box.style.width=a.x+"px",this._box.style.height=a.y+"px"},_finish:function(){this._moved&&(ht(this._box),dt(this._container,"leaflet-crosshair")),ci(),Gn(),ot(document,{contextmenu:Me,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var s=new _t(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});tt.addInitHook("addHandler","boxZoom",Ro),tt.mergeOptions({doubleClickZoom:!0});var No=Gt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var s=this._map,a=s.getZoom(),c=s.options.zoomDelta,f=i.originalEvent.shiftKey?a-c:a+c;s.options.doubleClickZoom==="center"?s.setZoom(f):s.setZoomAround(i.containerPoint,f)}});tt.addInitHook("addHandler","doubleClickZoom",No),tt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var jo=Gt.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new me(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}X(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){dt(this._map._container,"leaflet-grab"),dt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=lt(this._map.options.maxBounds);this._offsetLimit=wt(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var s=this._lastTime=+new Date,a=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(a),this._times.push(s),this._prunePositions(s)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,s){return i-(i-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;i.x<s.min.x&&(i.x=this._viscousLimit(i.x,s.min.x)),i.y<s.min.y&&(i.y=this._viscousLimit(i.y,s.min.y)),i.x>s.max.x&&(i.x=this._viscousLimit(i.x,s.max.x)),i.y>s.max.y&&(i.y=this._viscousLimit(i.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,s=Math.round(i/2),a=this._initialWorldOffset,c=this._draggable._newPos.x,f=(c-s+a)%i+s-a,g=(c+s+a)%i-s-a,w=Math.abs(f+a)<Math.abs(g+a)?f:g;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=w},_onDragEnd:function(i){var s=this._map,a=s.options,c=!a.inertia||i.noInertia||this._times.length<2;if(s.fire("dragend",i),c)s.fire("moveend");else{this._prunePositions(+new Date);var f=this._lastPos.subtract(this._positions[0]),g=(this._lastTime-this._times[0])/1e3,w=a.easeLinearity,T=f.multiplyBy(w/g),S=T.distanceTo([0,0]),O=Math.min(a.inertiaMaxSpeed,S),j=T.multiplyBy(O/S),q=O/(a.inertiaDeceleration*w),J=j.multiplyBy(-q/2).round();!J.x&&!J.y?s.fire("moveend"):(J=s._limitOffset(J,s.options.maxBounds),D(function(){s.panBy(J,{duration:q,easeLinearity:w,noMoveStart:!0,animate:!0})}))}}});tt.addInitHook("addHandler","dragging",jo),tt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Io=Gt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),Y(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ot(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,s=document.documentElement,a=i.scrollTop||s.scrollTop,c=i.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(c,a)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var s=this._panKeys={},a=this.keyCodes,c,f;for(c=0,f=a.left.length;c<f;c++)s[a.left[c]]=[-1*i,0];for(c=0,f=a.right.length;c<f;c++)s[a.right[c]]=[i,0];for(c=0,f=a.down.length;c<f;c++)s[a.down[c]]=[0,i];for(c=0,f=a.up.length;c<f;c++)s[a.up[c]]=[0,-1*i]},_setZoomDelta:function(i){var s=this._zoomKeys={},a=this.keyCodes,c,f;for(c=0,f=a.zoomIn.length;c<f;c++)s[a.zoomIn[c]]=i;for(c=0,f=a.zoomOut.length;c<f;c++)s[a.zoomOut[c]]=-i},_addHooks:function(){Y(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ot(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var s=i.keyCode,a=this._map,c;if(s in this._panKeys){if(!a._panAnim||!a._panAnim._inProgress)if(c=this._panKeys[s],i.shiftKey&&(c=H(c).multiplyBy(3)),a.options.maxBounds&&(c=a._limitOffset(H(c),a.options.maxBounds)),a.options.worldCopyJump){var f=a.wrapLatLng(a.unproject(a.project(a.getCenter()).add(c)));a.panTo(f)}else a.panBy(c)}else if(s in this._zoomKeys)a.setZoom(a.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&a._popup&&a._popup.options.closeOnEscapeKey)a.closePopup();else return;Me(i)}}});tt.addInitHook("addHandler","keyboard",Io),tt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Bo=Gt.extend({addHooks:function(){Y(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ot(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var s=ao(i),a=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var c=Math.max(a-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),c),Me(i)},_performZoom:function(){var i=this._map,s=i.getZoom(),a=this._map.options.zoomSnap||0;i._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),f=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,g=a?Math.ceil(f/a)*a:f,w=i._limitZoom(s+(this._delta>0?g:-g))-s;this._delta=0,this._startTime=null,w&&(i.options.scrollWheelZoom==="center"?i.setZoom(s+w):i.setZoomAround(this._lastMousePos,s+w))}});tt.addInitHook("addHandler","scrollWheelZoom",Bo);var Iu=600;tt.mergeOptions({tapHold:Z.touchNative&&Z.safari&&Z.mobile,tapTolerance:15});var Do=Gt.extend({addHooks:function(){Y(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ot(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var s=i.touches[0];this._startPos=this._newPos=new W(s.clientX,s.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(Y(document,"touchend",bt),Y(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),Iu),Y(document,"touchend touchcancel contextmenu",this._cancel,this),Y(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){ot(document,"touchend",bt),ot(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),ot(document,"touchend touchcancel contextmenu",this._cancel,this),ot(document,"touchmove",this._onMove,this)},_onMove:function(i){var s=i.touches[0];this._newPos=new W(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,s){var a=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});a._simulated=!0,s.target.dispatchEvent(a)}});tt.addInitHook("addHandler","tapHold",Do),tt.mergeOptions({touchZoom:Z.touch,bounceAtZoomLimits:!0});var Vo=Gt.extend({addHooks:function(){X(this._map._container,"leaflet-touch-zoom"),Y(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){dt(this._map._container,"leaflet-touch-zoom"),ot(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var s=this._map;if(!(!i.touches||i.touches.length!==2||s._animatingZoom||this._zooming)){var a=s.mouseEventToContainerPoint(i.touches[0]),c=s.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(a.add(c)._divideBy(2))),this._startDist=a.distanceTo(c),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),Y(document,"touchmove",this._onTouchMove,this),Y(document,"touchend touchcancel",this._onTouchEnd,this),bt(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var s=this._map,a=s.mouseEventToContainerPoint(i.touches[0]),c=s.mouseEventToContainerPoint(i.touches[1]),f=a.distanceTo(c)/this._startDist;if(this._zoom=s.getScaleZoom(f,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&f<1||this._zoom>s.getMaxZoom()&&f>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,f===1)return}else{var g=a._add(c)._divideBy(2)._subtract(this._centerPoint);if(f===1&&g.x===0&&g.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(g),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var w=l(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=D(w,this,!0),bt(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),ot(document,"touchmove",this._onTouchMove,this),ot(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});tt.addInitHook("addHandler","touchZoom",Vo),tt.BoxZoom=Ro,tt.DoubleClickZoom=No,tt.Drag=jo,tt.Keyboard=Io,tt.ScrollWheelZoom=Bo,tt.TapHold=Do,tt.TouchZoom=Vo,n.Bounds=rt,n.Browser=Z,n.CRS=It,n.Canvas=Eo,n.Circle=hs,n.CircleMarker=en,n.Class=F,n.Control=Bt,n.DivIcon=Co,n.DivOverlay=Kt,n.DomEvent=eu,n.DomUtil=Qc,n.Draggable=me,n.Evented=at,n.FeatureGroup=ne,n.GeoJSON=re,n.GridLayer=gi,n.Handler=Gt,n.Icon=Ve,n.ImageOverlay=an,n.LatLng=st,n.LatLngBounds=_t,n.Layer=Dt,n.LayerGroup=De,n.LineUtil=mu,n.Map=tt,n.Marker=tn,n.Mixin=lu,n.Path=pe,n.Point=W,n.PolyUtil=hu,n.Polygon=Fe,n.Polyline=se,n.Popup=ln,n.PosAnimation=lo,n.Projection=pu,n.Rectangle=Oo,n.Renderer=oe,n.SVG=vi,n.SVGOverlay=Mo,n.TileLayer=We,n.Tooltip=hn,n.Transformation=ce,n.Util=nt,n.VideoOverlay=Lo,n.bind=l,n.bounds=wt,n.canvas=ko,n.circle=Pu,n.circleMarker=bu,n.control=fi,n.divIcon=zu,n.extend=o,n.featureGroup=yu,n.geoJSON=To,n.geoJson=Mu,n.gridLayer=Ou,n.icon=xu,n.imageOverlay=Cu,n.latLng=Q,n.latLngBounds=lt,n.layerGroup=vu,n.map=iu,n.marker=wu,n.point=H,n.polygon=Lu,n.polyline=Tu,n.popup=Eu,n.rectangle=ju,n.setOptions=P,n.stamp=d,n.svg=zo,n.svgOverlay=Au,n.tileLayer=So,n.tooltip=ku,n.transformation=ue,n.version=r,n.videoOverlay=Su;var Bu=window.L;n.noConflict=function(){return window.L=Bu,this},window.L=n})}(bi,bi.exports)),bi.exports}var ii=cv();const ks=Gu(ii);function In(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Bn(e,t){return t==null?function(r,o){const h=E.useRef(void 0);return h.current||(h.current=e(r,o)),h}:function(r,o){const h=E.useRef(void 0);h.current||(h.current=e(r,o));const l=E.useRef(r),{instance:u}=h.current;return E.useEffect(function(){l.current!==r&&(t(u,r,l.current),l.current=r)},[u,r,t]),h}}function uv(e,t){E.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var h;(h=t.layerContainer)==null||h.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function Mc(e){return function(n){const r=Dr(),o=e(Vr(n,r),r);return Pc(r.map,n.attribution),Lc(o.current,n.eventHandlers),uv(o.current,r),o}}function dv(e){function t(o,h){return In(e(o),h)}const n=Bn(t),r=av(n);return Tc(r)}function fv(e,t){const n=Bn(e,t),r=Mc(n);return rv(r)}function mv(e,t){const n=Bn(e),r=lv(n,t);return ov(r)}function pv(e,t){const n=Bn(e,t),r=Mc(n);return Tc(r)}function gv(e,t,n){const{opacity:r,zIndex:o}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),o!=null&&o!==n.zIndex&&e.setZIndex(o)}function _v({bounds:e,boundsOptions:t,center:n,children:r,className:o,id:h,placeholder:l,style:u,whenReady:d,zoom:p,...m},_){const[y]=E.useState({className:o,id:h,style:u}),[x,b]=E.useState(null),P=E.useRef(void 0);E.useImperativeHandle(_,()=>(x==null?void 0:x.map)??null,[x]);const M=E.useCallback(k=>{if(k!==null&&!P.current){const A=new ii.Map(k,m);P.current=A,n!=null&&p!=null?A.setView(n,p):e!=null&&A.fitBounds(e,t),d!=null&&A.whenReady(d),b(nv(A))}},[]);E.useEffect(()=>()=>{x==null||x.map.remove()},[x]);const C=x?zi.createElement(Br,{value:x},r):l??null;return zi.createElement("div",{...y,ref:M},C)}const vv=E.forwardRef(_v),yv=fv(function({position:t,...n},r){const o=new ii.Marker(t,n);return In(o,sv(r,{overlayContainer:o}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),xv=mv(function(t,n){const r=new ii.Popup(t,n.overlayContainer);return In(r,n)},function(t,n,{position:r},o){E.useEffect(function(){const{instance:l}=t;function u(p){p.popup===l&&(l.update(),o(!0))}function d(p){p.popup===l&&o(!1)}return n.map.on({popupopen:u,popupclose:d}),n.overlayContainer==null?(r!=null&&l.setLatLng(r),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){var m;n.map.off({popupopen:u,popupclose:d}),(m=n.overlayContainer)==null||m.unbindPopup(),n.map.removeLayer(l)}},[t,n,o,r])}),Il=pv(function({url:t,...n},r){const o=new ii.TileLayer(t,Vr(n,r));return In(o,r)},function(t,n,r){gv(t,n,r);const{url:o}=n;o!=null&&o!==r.url&&t.setUrl(o)}),wv=dv(function(t){return new ii.Control.Zoom(t)}),bv="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",Pv="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",Tv=({center:e={lat:4.8087174,lng:-75.690601},zoom:t=15,popupText:n="Ángela Sophia - Psicóloga",className:r=""})=>{const[o,h]=E.useState(!1);E.useEffect(()=>{typeof ks<"u"&&(delete ks.Icon.Default.prototype._getIconUrl,ks.Icon.Default.mergeOptions({iconUrl:bv,shadowUrl:Pv,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),h(!0))},[]);const l=()=>{window.open(`https://www.google.com/maps/search/?api=1&query=${e.lat},${e.lng}`,"_blank")};return o?v.jsxs("div",{className:`map-container w-full h-full rounded-lg overflow-hidden ${r}`,children:[v.jsxs(vv,{center:[e.lat,e.lng],zoom:t,className:"w-full h-full",zoomControl:!1,attributionControl:!1,scrollWheelZoom:!0,children:[v.jsx(Il,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",subdomains:"abc",maxZoom:19}),v.jsx(Il,{url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',opacity:.6}),v.jsx(wv,{position:"bottomright"}),v.jsx(yv,{position:[e.lat,e.lng],children:v.jsx(xv,{className:"custom-popup",children:v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"font-medium text-primary-700 mb-2",children:n}),v.jsx("button",{onClick:l,className:"text-xs bg-primary-600 hover:bg-primary-700 text-white py-1 px-2 rounded-md transition-colors",children:"Abrir en Google Maps"})]})})})]}),v.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{boxShadow:"inset 0 0 10px rgba(255, 255, 255, 0.3)",borderRadius:"0.5rem",zIndex:10}})]}):v.jsx("div",{className:"w-full h-full bg-gray-100 rounded-lg flex items-center justify-center",children:v.jsx("p",{className:"text-gray-500",children:"Cargando mapa..."})})},Lv=()=>{const[e,t]=E.useState({name:"",email:"",phone:"",subject:"",message:""}),[n,r]=E.useState(null),o=d=>{const{name:p,value:m}=d.target;t(_=>({..._,[p]:m}))},h=d=>{d.preventDefault(),r("success"),setTimeout(()=>{t({name:"",email:"",phone:"",subject:"",message:""}),r(null)},3e3)},l={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},u={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.7,ease:[.22,1,.36,1]}}};return v.jsxs("section",{id:"contact",className:"py-20 relative overflow-hidden bg-white min-h-screen",children:[v.jsx("div",{className:"absolute top-40 right-0 w-80 h-80 rounded-full bg-secondary-100/30 blur-3xl -z-10"}),v.jsx("div",{className:"absolute bottom-20 left-0 w-64 h-64 rounded-full bg-primary-100/30 blur-3xl -z-10"}),v.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[v.jsx(Ir,{title:"Contacto",subtitle:"¿Listo para comenzar tu camino hacia el bienestar? Contáctame hoy mismo"}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-12 mt-12",children:[v.jsx(K.div,{initial:"hidden",animate:"visible",variants:l,className:"order-1 lg:order-2 relative z-10",children:v.jsxs(Nl,{className:"w-full h-full p-6 sm:p-8",children:[v.jsx(K.h3,{className:"text-2xl font-display font-bold mb-6",variants:u,children:"Envíame un mensaje"}),v.jsxs(K.form,{onSubmit:h,className:"space-y-6",variants:u,children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-neutral-700 mb-1",children:"Nombre completo"}),v.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:o,className:"w-full px-4 py-2 rounded-lg border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-neutral-700 mb-1",children:"Correo electrónico"}),v.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:o,className:"w-full px-4 py-2 rounded-lg border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",required:!0})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-neutral-700 mb-1",children:"Teléfono (opcional)"}),v.jsx("input",{type:"tel",id:"phone",name:"phone",value:e.phone,onChange:o,className:"w-full px-4 py-2 rounded-lg border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-neutral-700 mb-1",children:"Asunto"}),v.jsx("input",{type:"text",id:"subject",name:"subject",value:e.subject,onChange:o,className:"w-full px-4 py-2 rounded-lg border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",required:!0})]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-neutral-700 mb-1",children:"Mensaje"}),v.jsx("textarea",{id:"message",name:"message",rows:5,value:e.message,onChange:o,className:"w-full px-4 py-2 rounded-lg border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all resize-none",required:!0})]}),v.jsxs("div",{className:"flex items-center bg-white/50 p-3 rounded-lg",children:[v.jsx("input",{type:"checkbox",id:"privacy",className:"h-5 w-5 text-primary-600 focus:ring-primary-500 border-neutral-300 rounded",required:!0}),v.jsx("label",{htmlFor:"privacy",className:"ml-2 block text-sm text-neutral-700",children:"Acepto la política de privacidad y el tratamiento de mis datos"})]}),v.jsxs("div",{children:[v.jsx(Re,{type:"submit",variant:"primary",size:"lg",className:"w-full",children:n==="success"?"Mensaje enviado ✓":"Enviar mensaje"}),n==="success"&&v.jsx("div",{className:"bg-primary-50 border border-primary-200 text-primary-700 px-4 py-3 rounded-lg mt-4",children:v.jsx("p",{className:"text-center",children:"Tu mensaje ha sido enviado correctamente. Me pondré en contacto contigo pronto."})})]})]})]})}),v.jsx(K.div,{initial:"hidden",animate:"visible",variants:l,className:"order-2 lg:order-1 mt-8 lg:mt-0 relative z-10",children:v.jsxs(Nl,{className:"w-full h-full p-6 sm:p-8",children:[v.jsx(K.h3,{className:"text-2xl font-display font-bold mb-6",variants:u,children:"Información de contacto"}),v.jsxs(K.div,{className:"space-y-6",variants:u,children:[v.jsxs("div",{className:"flex items-start",children:[v.jsx("div",{className:"p-3 bg-primary-50 rounded-lg text-primary-600 mr-4",children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold mb-1",children:"Dirección"}),v.jsx("p",{className:"text-neutral-600",children:_n.address})]})]}),v.jsxs("div",{className:"flex items-start",children:[v.jsx("div",{className:"p-3 bg-primary-50 rounded-lg text-primary-600 mr-4",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold mb-1",children:"Email"}),v.jsx("p",{className:"text-neutral-600",children:vn.email})]})]}),v.jsxs("div",{className:"flex items-start",children:[v.jsx("div",{className:"p-3 bg-primary-50 rounded-lg text-primary-600 mr-4",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold mb-1",children:"Teléfono"}),v.jsx("p",{className:"text-neutral-600",children:vn.phone})]})]}),v.jsxs("div",{className:"flex items-start",children:[v.jsx("div",{className:"p-3 bg-primary-50 rounded-lg text-primary-600 mr-4",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold mb-1",children:"Horario de atención"}),v.jsxs("p",{className:"text-neutral-600",children:[vn.schedule.weekdays,v.jsx("br",{}),vn.schedule.weekend]})]})]})]}),v.jsx(K.div,{className:"mt-8 h-64 sm:h-80 bg-neutral-100 rounded-lg overflow-hidden shadow-md relative",variants:u,style:{minHeight:"250px"},children:v.jsx(Tv,{center:_n.coordinates,zoom:_n.zoom,popupText:_n.popupText,className:"absolute inset-0"})})]})})]})]})]})},Mv=()=>{const[e,t]=E.useState(!1),[n,r]=E.useState(!1);E.useEffect(()=>{const d=()=>{window.scrollY>50?t(!0):t(!1)};return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]);const o=(d,p)=>{d.preventDefault();const m=p.replace("#",""),_=document.getElementById(m);if(_){let y=function(A){k===null&&(k=A);const R=A-k,z=Math.min(R/C,1),N=B=>B<.5?2*B*B:1-Math.pow(-2*B+2,2)/2;window.scrollTo(0,P+M*N(z)),R<C&&requestAnimationFrame(y)};const b=_.getBoundingClientRect().top+window.pageYOffset-80,P=window.pageYOffset,M=b-P,C=1e3;let k=null;requestAnimationFrame(y),n&&r(!1)}},h=[{name:"Inicio",href:"#home"},{name:"Sobre mí",href:"#about"},{name:"Servicios",href:"#services"},{name:"Contacto",href:"#contact"}],l={initial:{opacity:0,y:-20},animate:{opacity:1,y:0,transition:{duration:.5}}},u={closed:{opacity:0,x:"100%"},open:{opacity:1,x:0,transition:{type:"spring",stiffness:300,damping:30}}};return v.jsxs(K.header,{initial:"initial",animate:"animate",variants:l,style:{position:"fixed",top:0,left:0,right:0,zIndex:1e3,width:"100%"},className:`transition-all duration-300 ${e?"py-2 md:py-3 bg-white/95 shadow-lg backdrop-blur-sm":"py-3 md:py-5 bg-white/90 shadow-sm"}`,children:[v.jsxs("div",{className:"container mx-auto px-4 flex justify-between items-center",children:[v.jsxs("a",{href:"#home",onClick:d=>o(d,"#home"),className:"flex items-center transition-all duration-300 hover:opacity-80",children:[v.jsx("span",{className:"text-xl md:text-2xl font-display font-bold text-primary-700 mr-1",children:"Angela"}),v.jsx("span",{className:"text-xl md:text-2xl font-display font-bold text-secondary-600",children:"Sophia"})]}),v.jsxs("nav",{className:"hidden md:flex items-center space-x-4 lg:space-x-8",children:[v.jsx("ul",{className:"flex space-x-2 lg:space-x-8",children:h.map(d=>v.jsx("li",{children:v.jsxs("a",{href:d.href,onClick:p=>o(p,d.href),className:"text-neutral-800 hover:text-primary-600 transition-colors font-medium relative group px-2 py-1 rounded-md hover:bg-primary-50/70",children:[d.name,v.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-primary-600 transition-all duration-300 group-hover:w-full"})]})},d.name))}),v.jsx(Re,{variant:"primary",size:"md",className:"shadow-sm hover:shadow-md ml-3",onClick:d=>o(d,"#services"),children:v.jsx("span",{className:"hidden sm:inline",children:"Agendar cita"})})]}),v.jsx(K.button,{className:"md:hidden text-neutral-800 focus:outline-none bg-primary-50/80 p-2 rounded-lg",onClick:()=>r(!n),whileTap:{scale:.95},"aria-label":"Toggle menu",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n?v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),v.jsx(id,{children:n&&v.jsxs(K.div,{initial:"closed",animate:"open",exit:"closed",variants:u,className:"md:hidden fixed top-[53px] left-0 right-0 bottom-0 z-40 flex flex-col",children:[v.jsx("div",{className:"absolute inset-0 bg-white/95 backdrop-blur-md -z-10"}),v.jsxs("nav",{className:"container mx-auto px-6 py-8 flex flex-col h-full",children:[v.jsx("ul",{className:"flex flex-col space-y-6",children:h.map(d=>v.jsx(K.li,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:h.indexOf(d)*.1},children:v.jsxs("a",{href:d.href,className:"text-xl font-medium text-neutral-800 hover:text-primary-600 flex items-center py-2 border-b border-neutral-100",onClick:p=>o(p,d.href),children:[v.jsx("span",{className:"w-8 h-8 rounded-full bg-primary-50 flex items-center justify-center mr-4",children:v.jsx("span",{className:"text-primary-600 font-bold",children:d.name.charAt(0)})}),d.name]})},d.name))}),v.jsx(K.div,{className:"mt-auto mb-10 flex justify-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},children:v.jsxs("div",{className:"bg-primary-50/50 w-full p-6 rounded-xl",children:[v.jsx("h3",{className:"text-lg font-semibold text-primary-800 mb-3",children:"¿Necesitas ayuda?"}),v.jsx("p",{className:"text-neutral-700 mb-4",children:"Agenda una cita y comienza tu camino hacia el bienestar emocional."}),v.jsx(Re,{variant:"primary",size:"lg",className:"w-full shadow-md",onClick:d=>o(d,"#services"),children:"Agendar cita ahora"})]})})]})]})})]})},Cv=()=>{const[e,t]=Hi(),n=new Date().getFullYear(),r={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.8,ease:[.22,1,.36,1]}}},o=(u,d)=>{u.preventDefault();const p=d.replace("#",""),m=document.getElementById(p);m&&m.scrollIntoView({behavior:"smooth"})},h=[{name:"Inicio",href:"#home"},{name:"Sobre mí",href:"#about"},{name:"Servicios",href:"#services"},{name:"Contacto",href:"#contact"}],l=[{name:"Política de privacidad",href:"#"},{name:"Términos y condiciones",href:"#"},{name:"Aviso legal",href:"#"}];return v.jsxs("div",{className:"relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 right-0 w-2/3 h-64 rounded-full bg-primary-50/40 blur-3xl -z-10 translate-x-1/4 -translate-y-1/3"}),v.jsx("div",{className:"absolute bottom-0 left-0 w-1/2 h-64 rounded-full bg-secondary-50/30 blur-3xl -z-10 -translate-x-1/4 translate-y-1/3"}),v.jsx(K.footer,{ref:e,initial:"hidden",animate:t,variants:r,className:"bg-white/80 backdrop-blur-sm py-8 relative z-0",children:v.jsxs("div",{className:"container mx-auto px-4",children:[v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-8 mb-8",children:[v.jsxs("div",{className:"md:max-w-xs",children:[v.jsx("div",{className:"flex items-center mb-3",children:v.jsxs("h3",{className:"text-2xl font-display font-bold",children:[v.jsx("span",{className:"text-primary-700",children:"Ángela"}),v.jsx("span",{className:"text-secondary-600 ml-1",children:"Sophia"})]})}),v.jsx("p",{className:"text-neutral-600 mb-4",children:"Psicóloga especializada en terapia cognitivo-conductual, ofreciendo un espacio seguro para tu bienestar emocional."}),v.jsx("div",{className:"flex space-x-3",children:Object.keys(ki).map(u=>v.jsxs("a",{href:ki[u],target:"_blank",rel:"noopener noreferrer",className:"w-9 h-9 rounded-full bg-primary-50 flex items-center justify-center text-primary-600 hover:bg-primary-100 hover:text-primary-700 transition-colors","aria-label":u,children:[u==="instagram"&&v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",viewBox:"0 0 16 16",children:v.jsx("path",{d:"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"})}),u==="tiktok"&&v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",viewBox:"0 0 16 16",children:v.jsx("path",{d:"M9 0h1.98c.144.715.54 1.617 1.235 2.512C12.895 3.389 13.797 4 15 4v2c-1.753 0-3.07-.814-4-1.829V11a5 5 0 1 1-5-5v2a3 3 0 1 0 3 3V0Z"})}),u==="x"&&v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",viewBox:"0 0 16 16",children:v.jsx("path",{d:"M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865l8.875 11.633Z"})})]},u))})]}),v.jsxs("div",{className:"md:flex-1 md:max-w-xs",children:[v.jsx("h4",{className:"text-lg font-bold mb-3 text-primary-800",children:"Navegación"}),v.jsx("div",{className:"grid grid-cols-2 gap-y-2 gap-x-4",children:h.map(u=>v.jsxs("a",{href:u.href,onClick:d=>o(d,u.href),className:"text-neutral-600 hover:text-primary-600 transition-colors flex items-center",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 mr-2 text-primary-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),u.name]},u.name))})]}),v.jsxs("div",{className:"md:flex-1 md:max-w-xs",children:[v.jsx("h4",{className:"text-lg font-bold mb-3 text-primary-800",children:"Legal"}),v.jsx("div",{children:l.map(u=>v.jsxs("a",{href:u.href,className:"block mb-2 text-neutral-600 hover:text-primary-600 transition-colors flex items-center",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 mr-2 text-primary-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),u.name]},u.name))})]})]}),v.jsx("div",{className:"border-t border-neutral-200 pt-4",children:v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[v.jsxs("p",{className:"text-neutral-500 text-sm mb-3 md:mb-0",children:["© ",n," Ing Juan Ordoñez. Todos los derechos reservados."]}),v.jsxs("p",{className:"text-neutral-500 text-sm",children:["Diseñado con ",v.jsx("span",{className:"text-red-500",children:"❤️"})," para un mejor bienestar emocional"]})]})})]})})]})},Sv=()=>v.jsxs("div",{className:"min-h-screen bg-white",children:[v.jsx(Mv,{}),v.jsxs("main",{style:{paddingTop:"80px"},children:[v.jsx(W_,{}),v.jsx(X_,{}),v.jsx(ev,{}),v.jsx(Lv,{})]}),v.jsx(Cv,{})]}),Av=({children:e,fontSize:t="clamp(2rem, 10vw, 10rem)",fontWeight:n=900,fontFamily:r="inherit",color:o="#fff",enableHover:h=!0,baseIntensity:l=.18,hoverIntensity:u=.5,optimizePerformance:d=!1})=>{const p=E.useRef(null),[m,_]=E.useState(!1);return E.useEffect(()=>{const y=navigator.userAgent||"",x=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(y),P=(navigator.hardwareConcurrency||4)<=4,M=navigator.deviceMemory&&navigator.deviceMemory<4;_(d||x||P||M)},[d]),E.useEffect(()=>{let y,x=!1,b=0,P=0;const M=m?3:1,C=m?60:16,k=p.current;return k?((async()=>{var ri;if((ri=document.fonts)!=null&&ri.ready&&await document.fonts.ready,x)return;const R=k.getContext("2d",{alpha:!0,desynchronized:!0});if(!R)return;const z=r==="inherit"?window.getComputedStyle(k).fontFamily||"sans-serif":r,N=typeof t=="number"?`${t}px`:t;let B;if(typeof t=="number")B=t;else{const mt=document.createElement("span");mt.style.fontSize=t,document.body.appendChild(mt);const Ct=window.getComputedStyle(mt).fontSize;B=parseFloat(Ct),document.body.removeChild(mt)}const I=zi.Children.toArray(e).join(""),V=m?.75:1,G=document.createElement("canvas"),D=G.getContext("2d",{alpha:!0});if(!D)return;D.font=`${n} ${N} ${z}`,D.textBaseline="alphabetic";const U=D.measureText(I),nt=U.actualBoundingBoxLeft??0,F=U.actualBoundingBoxRight??U.width,jt=U.actualBoundingBoxAscent??B,Pt=U.actualBoundingBoxDescent??B*.2,at=Math.ceil(nt+F),W=Math.ceil(jt+Pt),te=m?5:10,H=Math.ceil((at+te)*V),rt=Math.ceil(W*V);G.width=H,G.height=rt,D.scale(V,V);const wt=te/2;D.font=`${n} ${N} ${z}`,D.textBaseline="alphabetic",D.fillStyle=o,D.fillText(I,wt-nt,jt);const _t=m?25:50,lt=0;k.width=Math.ceil(H+_t*2*V),k.height=Math.ceil(rt+lt*2*V),k.style.width=`${k.width/V}px`,k.style.height=`${k.height/V}px`,R.translate(_t*V,lt*V);const st=_t*V+wt*V,Q=lt*V,It=st+at*V,Ht=Q+W*V;let he=!1;const ee=m?20:30,ce=mt=>{if(x)return;if(mt-P<C){y=window.requestAnimationFrame(ce);return}if(b=(b+1)%M,b!==0){y=window.requestAnimationFrame(ce);return}P=mt;const Ut=m?l*.7:l,fe=m?u*.7:u;R.clearRect(-ee,-ee,H+2*ee,rt+2*ee);const we=he?fe:Ut,ie=m?2:1;for(let be=0;be<rt;be+=ie){const qi=Math.floor(we*(Math.random()-.5)*ee);R.drawImage(G,0,be,H,ie,qi,be,H,ie)}y=window.requestAnimationFrame(ce)};y=window.requestAnimationFrame(ce);const ue=(mt,Ct)=>mt>=st&&mt<=It&&Ct>=Q&&Ct<=Ht;let de=0;const Ui=m?100:50,ni=mt=>{if(!h)return;const Ct=Date.now();if(Ct-de<Ui)return;de=Ct;const Ut=k.getBoundingClientRect(),fe=mt.clientX-Ut.left,we=mt.clientY-Ut.top;he=ue(fe,we)},si=()=>{he=!1},Ne=mt=>{if(!h)return;mt.preventDefault();const Ct=Date.now();if(Ct-de<Ui)return;de=Ct;const Ut=k.getBoundingClientRect(),fe=mt.touches[0],we=fe.clientX-Ut.left,ie=fe.clientY-Ut.top;he=ue(we,ie)},xe=()=>{he=!1};h&&(k.addEventListener("mousemove",ni),k.addEventListener("mouseleave",si),k.addEventListener("touchmove",Ne,{passive:!1}),k.addEventListener("touchend",xe));const Dn=()=>{window.cancelAnimationFrame(y),h&&(k.removeEventListener("mousemove",ni),k.removeEventListener("mouseleave",si),k.removeEventListener("touchmove",Ne),k.removeEventListener("touchend",xe))};k.cleanupFuzzyText=Dn})(),()=>{x=!0,window.cancelAnimationFrame(y),k&&k.cleanupFuzzyText&&k.cleanupFuzzyText()}):void 0},[e,t,n,r,o,h,l,u,m]),v.jsx("canvas",{ref:p})},Ev=()=>{const[e,t]=E.useState(.5),[n,r]=E.useState(!0),[o,h]=E.useState(!1);return E.useEffect(()=>{const l=navigator.userAgent||"",u=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(l),p=(navigator.hardwareConcurrency||4)<=4,m=navigator.deviceMemory&&navigator.deviceMemory<4,_=u||p||m;h(_),_&&(r(!1),t(.3))},[]),v.jsxs("section",{className:"min-h-screen relative flex flex-col items-center justify-center overflow-hidden py-20 bg-white",children:[v.jsx("div",{className:"absolute inset-0 z-0 opacity-30",children:v.jsx(bc,{amplitude:o?.7:1,distance:0,enableMouseInteraction:!o,lowPerformanceMode:o,color:[.37,.42,.69]})}),v.jsx("div",{className:"container mx-auto px-4 z-10",children:v.jsxs(K.div,{className:"max-w-4xl mx-auto text-center relative",initial:{opacity:0},animate:{opacity:1},transition:{duration:o?.3:.5},children:[v.jsxs("div",{className:"relative mb-8 flex justify-center",children:[v.jsx("div",{className:"flex justify-center items-center",children:v.jsx(Av,{fontSize:o?"clamp(6rem, 15vw, 12rem)":"clamp(8rem, 20vw, 16rem)",fontWeight:900,color:"#5F6CAF",baseIntensity:o?.15:.2,hoverIntensity:e,enableHover:n,optimizePerformance:o,children:"404"})}),v.jsx("div",{className:"absolute inset-0 bg-white/30 rounded-xl -z-[1] blur-xl"})]}),v.jsxs(K.div,{initial:{opacity:0,y:o?10:20},animate:{opacity:1,y:0},transition:{delay:o?.2:.3,duration:o?.4:.6},className:"relative mb-12",children:[v.jsx("h1",{className:"text-3xl md:text-4xl font-display font-bold text-neutral-800 mb-4",children:"Página no encontrada"}),v.jsx("p",{className:"text-lg text-neutral-700 max-w-xl mx-auto",children:"Lo sentimos, la página que estás buscando no existe o ha sido movida."}),v.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-[2px] rounded-lg -z-[1]"})]}),v.jsx(K.div,{initial:{opacity:0,y:o?10:20},animate:{opacity:1,y:0},transition:{delay:o?.3:.5,duration:o?.4:.6},children:v.jsx(Ku,{to:"/",children:v.jsx(Re,{variant:"outline",size:"lg",className:"shadow-md bg-primary-50 border-primary-200 hover:bg-primary-100 relative z-10",children:"Volver al inicio"})})})]})})]})};function Ov(){return E.useEffect(()=>{const e=setTimeout(()=>{document.querySelectorAll("h1, h2, .font-display").forEach(t=>{t.style.visibility="visible",t.style.opacity="1"})},100);return()=>clearTimeout(e)},[]),v.jsx("div",{className:"app-container",children:v.jsxs(Yu,{children:[v.jsx(Ho,{path:"/",element:v.jsx(Sv,{})}),v.jsx(Ho,{path:"*",element:v.jsx(Ev,{})})]})})}export{Ov as default};
